{
    "name": "AsaMetadataRegistry",
    "structs": {
        "MbrDelta": [
            {
                "name": "sign",
                "type": "uint8"
            },
            {
                "name": "amount",
                "type": "uint64"
            }
        ],
        "MetadataExistence": [
            {
                "name": "asa_exists",
                "type": "bool"
            },
            {
                "name": "metadata_exists",
                "type": "bool"
            }
        ],
        "MetadataHeader": [
            {
                "name": "identifiers",
                "type": "byte"
            },
            {
                "name": "reversible_flags",
                "type": "byte"
            },
            {
                "name": "irreversible_flags",
                "type": "byte"
            },
            {
                "name": "hash",
                "type": "byte[32]"
            },
            {
                "name": "last_modified_round",
                "type": "uint64"
            },
            {
                "name": "deprecated_by",
                "type": "uint64"
            }
        ],
        "MutableFlag": [
            {
                "name": "flag",
                "type": "bool"
            },
            {
                "name": "last_modified_round",
                "type": "uint64"
            }
        ],
        "PaginatedMetadata": [
            {
                "name": "has_next_page",
                "type": "bool"
            },
            {
                "name": "last_modified_round",
                "type": "uint64"
            },
            {
                "name": "page_content",
                "type": "byte[]"
            }
        ],
        "Pagination": [
            {
                "name": "metadata_size",
                "type": "uint16"
            },
            {
                "name": "page_size",
                "type": "uint16"
            },
            {
                "name": "total_pages",
                "type": "uint8"
            }
        ],
        "RegistryParameters": [
            {
                "name": "key_size",
                "type": "uint8"
            },
            {
                "name": "header_size",
                "type": "uint16"
            },
            {
                "name": "max_metadata_size",
                "type": "uint16"
            },
            {
                "name": "short_metadata_size",
                "type": "uint16"
            },
            {
                "name": "page_size",
                "type": "uint16"
            },
            {
                "name": "first_payload_max_size",
                "type": "uint16"
            },
            {
                "name": "extra_payload_max_size",
                "type": "uint16"
            },
            {
                "name": "replace_payload_max_size",
                "type": "uint16"
            },
            {
                "name": "flat_mbr",
                "type": "uint64"
            },
            {
                "name": "byte_mbr",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "arc89_create_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to create the Asset Metadata for"
                },
                {
                    "type": "byte",
                    "name": "reversible_flags",
                    "desc": "The Reversible Flags. WARNING: LSB and 1 can by set only at creation time"
                },
                {
                    "type": "byte",
                    "name": "irreversible_flags",
                    "desc": "The Irreversible Flags. WARNING: if the MSB is True the Asset Metadata is IMMUTABLE"
                },
                {
                    "type": "uint16",
                    "name": "metadata_size",
                    "desc": "The Metadata byte size to be created"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata payload (without Header). WARNING: Payload larger than args capacity must be provided with arc89_extra_payload calls in the Group"
                },
                {
                    "type": "pay",
                    "name": "mbr_delta_payment",
                    "desc": "Payment of the MBR Delta amount (microALGO) for the Asset Metadata Box creation"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Create Asset Metadata for an existing ASA, restricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_replace_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to replace the Asset Metadata for"
                },
                {
                    "type": "uint16",
                    "name": "metadata_size",
                    "desc": "The new Metadata byte size, must be less than or equal to the existing"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata payload (without Header). WARNING: Payload larger than args capacity must be provided with arc89_extra_payload calls in the Group"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Replace mutable Metadata with a smaller or equal size payload for an existing ASA,\nrestricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_replace_metadata_larger",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to replace the Asset Metadata for"
                },
                {
                    "type": "uint16",
                    "name": "metadata_size",
                    "desc": "The new Metadata byte size, must be larger than the existing"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata payload (without Header). WARNING: Payload larger than args capacity must be provided with arc89_extra_payload calls in the Group"
                },
                {
                    "type": "pay",
                    "name": "mbr_delta_payment",
                    "desc": "Payment of the MBR Delta amount (microALGO) for the larger Asset Metadata Box replace"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Replace mutable Metadata with a larger size payload for an existing ASA,\nrestricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_replace_metadata_slice",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to replace the Asset Metadata slice for"
                },
                {
                    "type": "uint16",
                    "name": "offset",
                    "desc": "The 0-based byte offset within the Metadata (body) bytes"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The slice payload"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Replace a slice of the Asset Metadata for an ASA with a payload of the same size,\nrestricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_migrate_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to migrate the Asset Metadata for"
                },
                {
                    "type": "uint64",
                    "name": "new_registry_id",
                    "desc": "The Application ID of the new ASA Metadata Registry version"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Migrate the Asset Metadata for an ASA to a new ASA Metadata Registry version,\nrestricted to the ASA Manager Address",
            "events": [
                {
                    "name": "Arc89MetadataMigrated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "new_registry_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata has been migrated to a new ASA Metadata Registry version"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_delete_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to delete the Asset Metadata for"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Delete Asset Metadata for an ASA, restricted to the ASA Manager Address (if the ASA still exists).",
            "events": [
                {
                    "name": "Arc89MetadataDeleted",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is deleted"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_extra_payload",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to provide Metadata extra payload for"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata extra payload to concatenate"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Concatenate extra payload to Asset Metadata head call methods (creation or replacement).",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_set_reversible_flag",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to set the Metadata Flag for"
                },
                {
                    "type": "uint8",
                    "name": "flag",
                    "desc": "The reversible flag index to set"
                },
                {
                    "type": "bool",
                    "name": "value",
                    "desc": "The flag value to set"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set a reversible Asset Metadata Flag, restricted to the ASA Manager Address",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_set_irreversible_flag",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to set the Metadata Flag for"
                },
                {
                    "type": "uint8",
                    "name": "flag",
                    "desc": "The irreversible flag index to set. WARNING: must be in 2 ... 6"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set an irreversible Asset Metadata Flag, restricted to the ASA Manager Address",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_set_immutable",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to set immutable Asset Metadata for"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set Asset Metadata as immutable, restricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_registry_parameters",
            "args": [],
            "returns": {
                "type": "(uint8,uint16,uint16,uint16,uint16,uint16,uint16,uint16,uint64,uint64)",
                "struct": "RegistryParameters",
                "desc": "Tuple of (ASSET_METADATA_BOX_KEY_SIZE, HEADER_SIZE, MAX_METADATA_SIZE, SHORT_METADATA_SIZE, PAGE_SIZE, FIRST_PAYLOAD_MAX_SIZE, EXTRA_PAYLOAD_MAX_SIZE, REPLACE_PAYLOAD_MAX_SIZE, FLAT_MBR, BYTE_MBR)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the ASA Metadata Registry parameters.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_partial_uri",
            "args": [],
            "returns": {
                "type": "string",
                "desc": "Asset Metadata ARC-90 partial URI, without compliance fragment"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata ARC-90 partial URI, without compliance fragment (optional)",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_mbr_delta",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to calculate the Asset Metadata MBR Delta for"
                },
                {
                    "type": "uint16",
                    "name": "new_metadata_size",
                    "desc": "The new Asset Metadata byte size"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata Box MBR Delta for an ASA, given a new Asset Metadata byte size.\nIf the Asset Metadata Box does not exist, the creation MBR Delta is returned.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_check_metadata_exists",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to check the ASA and Asset Metadata existence for"
                }
            ],
            "returns": {
                "type": "(bool,bool)",
                "struct": "MetadataExistence",
                "desc": "Tuple of (ASA exists, Asset Metadata exists)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Checks whether the specified ASA exists and whether its associated Asset Metadata is available.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_is_metadata_immutable",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to check the Asset Metadata immutability for"
                }
            ],
            "returns": {
                "type": "bool",
                "desc": "Asset Metadata for the ASA is immutable"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return True if the Asset Metadata for an ASA is immutable, False otherwise.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_is_metadata_short",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to check the Asset Metadata size classification for"
                }
            ],
            "returns": {
                "type": "(bool,uint64)",
                "struct": "MutableFlag",
                "desc": "Tuple of (is short metadata, Metadata Last Modified Round)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return True if Asset Metadata for an ASA is short (up to 4096 bytes), False otherwise.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_header",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata Header for"
                }
            ],
            "returns": {
                "type": "(byte,byte,byte,byte[32],uint64,uint64)",
                "struct": "MetadataHeader",
                "desc": "Asset Metadata Header: (Identifiers, Reversible Flags, Irreversible Flags, Hash, Last Modified Round, Deprecated By)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata Header for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_pagination",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata pagination for"
                }
            ],
            "returns": {
                "type": "(uint16,uint16,uint8)",
                "struct": "Pagination",
                "desc": "Tuple of (total metadata byte size, PAGE_SIZE, total number of pages)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata pagination for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata for"
                },
                {
                    "type": "uint8",
                    "name": "page",
                    "desc": "The 0-based Metadata page number"
                }
            ],
            "returns": {
                "type": "(bool,uint64,byte[])",
                "struct": "PaginatedMetadata",
                "desc": "Tuple of (has next page, Metadata Last Modified Round, page content)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return paginated Asset Metadata (without Header) for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_slice",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata slice for"
                },
                {
                    "type": "uint16",
                    "name": "offset",
                    "desc": "The 0-based byte offset within the Metadata (body) bytes"
                },
                {
                    "type": "uint16",
                    "name": "size",
                    "desc": "The slice bytes size to return"
                }
            ],
            "returns": {
                "type": "byte[]",
                "desc": "Asset Metadata slice (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return a slice of the Asset Metadata for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_header_hash",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Metadata Header Hash for"
                }
            ],
            "returns": {
                "type": "byte[32]",
                "desc": "Asset Metadata Header Hash"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Metadata Header Hash for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_page_hash",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata page hash for"
                },
                {
                    "type": "uint8",
                    "name": "page",
                    "desc": "The 0-based Metadata page number"
                }
            ],
            "returns": {
                "type": "byte[32]",
                "desc": "The SHA512-256 of the Metadata page"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the SHA512-256 of a Metadata page for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_hash",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Metadata Hash for"
                }
            ],
            "returns": {
                "type": "byte[32]",
                "desc": "Asset Metadata Hash"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Metadata Hash for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_string_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top level JSON key whose string value to fetch"
                }
            ],
            "returns": {
                "type": "string",
                "desc": "The string value from valid UTF-8 JSON Metadata (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the UTF-8 string value for a top-level JSON key of type JSON String\nfrom short Metadata for an ASA; errors if the key does not exist or is not a JSON String",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_uint64_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top level JSON key whose uint64 value to fetch"
                }
            ],
            "returns": {
                "type": "uint64",
                "desc": "The uint64 value from valid UTF-8 JSON Metadata"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the uint64 value for a top-level JSON key of type JSON Uint64 from\nshort Metadata for an ASA; errors if the key does not exist or is not a JSON Uint64",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_object_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top level JSON key whose object value to fetch"
                }
            ],
            "returns": {
                "type": "string",
                "desc": "The object value from valid UTF-8 JSON Metadata (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the UTF-8 object value for a top-level JSON key of type JSON Object\nfrom short Metadata for an ASA; errors if the key does not exist or is not a JSON Object",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_b64_bytes_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top-level JSON key whose base64 string value to fetch and decode"
                },
                {
                    "type": "uint8",
                    "name": "b64_encoding",
                    "desc": "base64 encoding enum: 0 = URLEncoding, 1 = StdEncoding"
                }
            ],
            "returns": {
                "type": "byte[]",
                "desc": "The base64-decoded bytes from valid UTF-8 JSON Metadata (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the base64-decoded bytes for a top-level JSON key of type JSON String\nfrom short Metadata for an ASA; errors if the key does not exist, is not a JSON String, or is not valid base64 for the chosen encoding",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "extra_resources",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Non-normative placeholder method to acquire AVM extra resources.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "withdraw_balance_excess",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Non-normative method to withdraw balance excess due to accidental deposits\n(it should never happen if deposits match exactly the required MBR. Deleted metadata MBR is not included in the excess, since it is immediately returned on delete).",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "\n    Singleton Application providing ASA metadata via Algod API and AVM\n    ",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 0,
                "bytes": 0
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {},
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "asset_metadata": {
                    "keyType": "uint64",
                    "valueType": "AVMBytes",
                    "prefix": ""
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        924
                    ],
                    "errorMessage": "ASA Metadata Hash (am) does not match the computed hash"
                },
                {
                    "pc": [
                        656
                    ],
                    "errorMessage": "Asset Metadata already exists for the specified ASA"
                },
                {
                    "pc": [
                        1496,
                        1623,
                        3361,
                        3386
                    ],
                    "errorMessage": "Asset Metadata does not exist for the specified ASA"
                },
                {
                    "pc": [
                        853
                    ],
                    "errorMessage": "Invalid ARC-3 parameters (name or URL)"
                },
                {
                    "pc": [
                        899
                    ],
                    "errorMessage": "Invalid ARC-89 partial URI"
                },
                {
                    "pc": [
                        947,
                        1302
                    ],
                    "errorMessage": "Invalid MBR Delta amount"
                },
                {
                    "pc": [
                        663,
                        1260
                    ],
                    "errorMessage": "Invalid MBR Delta receiver, must be the ASA Metadata Registry"
                },
                {
                    "pc": [
                        1857,
                        3342
                    ],
                    "errorMessage": "Invalid Metadata size, exceeds maximum allowed size"
                },
                {
                    "pc": [
                        1252
                    ],
                    "errorMessage": "Invalid Metadata size, must be larger than the current size"
                },
                {
                    "pc": [
                        1107
                    ],
                    "errorMessage": "Invalid Metadata size, must be smaller than or equal to the current size"
                },
                {
                    "pc": [
                        2721
                    ],
                    "errorMessage": "Invalid base64 encoding, must be 0 (URL safe) or 1 (Std)"
                },
                {
                    "pc": [
                        1673,
                        1753
                    ],
                    "errorMessage": "Invalid flag index"
                },
                {
                    "pc": [
                        1432
                    ],
                    "errorMessage": "Invalid new ASA Metadata Registry ID, must be different from current"
                },
                {
                    "pc": [
                        2266,
                        2321,
                        2472
                    ],
                    "errorMessage": "Invalid page index"
                },
                {
                    "pc": [
                        2465
                    ],
                    "errorMessage": "Metadata is empty"
                },
                {
                    "pc": [
                        1511,
                        3368,
                        3411
                    ],
                    "errorMessage": "Metadata is immutable"
                },
                {
                    "pc": [
                        3071
                    ],
                    "errorMessage": "Metadata is not short"
                },
                {
                    "pc": [
                        1135,
                        1288,
                        3001
                    ],
                    "errorMessage": "Metadata size mismatch, must be exactly equal to declared size"
                },
                {
                    "pc": [
                        783
                    ],
                    "errorMessage": "Must be flagged as immutable"
                },
                {
                    "pc": [
                        1611
                    ],
                    "errorMessage": "No payload head call in Group"
                },
                {
                    "pc": [
                        2364,
                        2566,
                        2666,
                        2743
                    ],
                    "errorMessage": "Payload exceeds page size"
                },
                {
                    "pc": [
                        2869,
                        2960,
                        2975
                    ],
                    "errorMessage": "Payload overflow, exceeds metadata size"
                },
                {
                    "pc": [
                        1372,
                        2377
                    ],
                    "errorMessage": "Slice exceeds metadata range"
                },
                {
                    "pc": [
                        276
                    ],
                    "errorMessage": "The deployer address is not trusted"
                },
                {
                    "pc": [
                        1617,
                        3330,
                        3379
                    ],
                    "errorMessage": "The specified ASA does not exist"
                },
                {
                    "pc": [
                        1517,
                        1627,
                        3336,
                        3401
                    ],
                    "errorMessage": "Unauthorized, must be the Asset Manager"
                },
                {
                    "pc": [
                        671,
                        936,
                        1112,
                        1140,
                        1265,
                        1293,
                        1522,
                        1534,
                        2765,
                        2770
                    ],
                    "errorMessage": "account funded"
                },
                {
                    "pc": [
                        734,
                        835,
                        841,
                        884,
                        1174,
                        2016,
                        3540
                    ],
                    "errorMessage": "asset exists"
                },
                {
                    "pc": [
                        2816,
                        2829
                    ],
                    "errorMessage": "check Box exists"
                },
                {
                    "pc": [
                        2119,
                        2424,
                        2485,
                        2516
                    ],
                    "errorMessage": "expected bytes to be length 32"
                },
                {
                    "pc": [
                        605,
                        1079,
                        1213,
                        1334,
                        1600,
                        2537,
                        2593,
                        2637,
                        2693
                    ],
                    "errorMessage": "invalid array length header"
                },
                {
                    "pc": [
                        1655
                    ],
                    "errorMessage": "invalid number of bytes for arc4.bool"
                },
                {
                    "pc": [
                        612,
                        1086,
                        1220,
                        1341,
                        1606,
                        2544,
                        2600,
                        2644,
                        2700
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<arc4.uint8>"
                },
                {
                    "pc": [
                        599,
                        1073,
                        1207,
                        1328,
                        1849,
                        2345,
                        2353
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint16"
                },
                {
                    "pc": [
                        569,
                        1063,
                        1198,
                        1318,
                        1412,
                        1421,
                        1485,
                        1593,
                        1637,
                        1723,
                        1793,
                        1839,
                        1963,
                        1997,
                        2046,
                        2086,
                        2165,
                        2226,
                        2336,
                        2410,
                        2438,
                        2499,
                        2530,
                        2586,
                        2630,
                        2686
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        581,
                        591,
                        1647,
                        1733,
                        2238,
                        2447,
                        2711
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint8"
                },
                {
                    "pc": [
                        1152,
                        1899,
                        2181,
                        2200,
                        3433,
                        3448
                    ],
                    "errorMessage": "overflow"
                },
                {
                    "pc": [
                        633,
                        1233
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "cblocks"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEyCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuYXBwcm92YWxfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIGludGNibG9jayAxIDAgOCAyIDEwMDcgMTAwNiAzMDUwNgogICAgYnl0ZWNibG9jayAweDE1MWY3Yzc1IDB4IDB4MDAgMHgzN2FjNzU1ZCAweDA2ODEwMSAweDE1MWY3Yzc1MDEgVE1QTF9UUlVTVEVEX0RFUExPWUVSIFRNUExfQVJDOTBfTkVUQVVUSAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozOAogICAgLy8gY2xhc3MgQXNhTWV0YWRhdGFSZWdpc3RyeShBcmM4OUludGVyZmFjZSwgQXNhVmFsaWRhdGlvbik6CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9kZXBsb3lAMzgKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydAogICAgcHVzaGJ5dGVzcyAweDc4NDA3ODMxIDB4YjgyZWE3ZWYgMHgxMjQ1ZmFmYiAweDA0NWYyZTZlIDB4ZGRmZmNiOTIgMHgxNWIyNzViMiAvLyBtZXRob2QgImFyYzg5X2NyZWF0ZV9tZXRhZGF0YSh1aW50NjQsYnl0ZSxieXRlLHVpbnQxNixieXRlW10scGF5KSh1aW50OCx1aW50NjQpIiwgbWV0aG9kICJhcmM4OV9yZXBsYWNlX21ldGFkYXRhKHVpbnQ2NCx1aW50MTYsYnl0ZVtdKSh1aW50OCx1aW50NjQpIiwgbWV0aG9kICJhcmM4OV9yZXBsYWNlX21ldGFkYXRhX2xhcmdlcih1aW50NjQsdWludDE2LGJ5dGVbXSxwYXkpKHVpbnQ4LHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2UodWludDY0LHVpbnQxNixieXRlW10pdm9pZCIsIG1ldGhvZCAiYXJjODlfbWlncmF0ZV9tZXRhZGF0YSh1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImFyYzg5X2RlbGV0ZV9tZXRhZGF0YSh1aW50NjQpKHVpbnQ4LHVpbnQ2NCkiCiAgICBieXRlY18zIC8vIG1ldGhvZCAiYXJjODlfZXh0cmFfcGF5bG9hZCh1aW50NjQsYnl0ZVtdKXZvaWQiCiAgICBwdXNoYnl0ZXNzIDB4YjUxMjFkOGEgMHg0OWZiYWU5MSAweDBiNTM4Y2UzIDB4MDE1ZTU3OWIgMHgwODlmYWVhMSAweDhlNWUxMDI0IDB4MjQ0YzQ3YzQgMHgyZDU5ZjZlMCAweGVlODViNDczIDB4Yjc1OTMxYmMgMHg4ZjI1ZWY3MiAweDExYzM4NDc2IDB4YjBhYmY2NWIgMHhjZTlkYmVkNyAweGNhNTJmYjFlIDB4MjI2MzkxYjkgMHg3YTEzZDUzMiAweDUzYzIyMjAzIDB4ZDM3NzJhZDMgMHg3ZGEyYWY0MCAweDAwNTZkOWMxIDB4YjkyZTI2N2EgLy8gbWV0aG9kICJhcmM4OV9zZXRfcmV2ZXJzaWJsZV9mbGFnKHVpbnQ2NCx1aW50OCxib29sKXZvaWQiLCBtZXRob2QgImFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZyh1aW50NjQsdWludDgpdm9pZCIsIG1ldGhvZCAiYXJjODlfc2V0X2ltbXV0YWJsZSh1aW50NjQpdm9pZCIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3JlZ2lzdHJ5X3BhcmFtZXRlcnMoKSh1aW50OCx1aW50MTYsdWludDE2LHVpbnQxNix1aW50MTYsdWludDE2LHVpbnQxNix1aW50MTYsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV9wYXJ0aWFsX3VyaSgpc3RyaW5nIiwgbWV0aG9kICJhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhKHVpbnQ2NCx1aW50MTYpKHVpbnQ4LHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X2NoZWNrX21ldGFkYXRhX2V4aXN0cyh1aW50NjQpKGJvb2wsYm9vbCkiLCBtZXRob2QgImFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZSh1aW50NjQpYm9vbCIsIG1ldGhvZCAiYXJjODlfaXNfbWV0YWRhdGFfc2hvcnQodWludDY0KShib29sLHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV9oZWFkZXIodWludDY0KShieXRlLGJ5dGUsYnl0ZSxieXRlWzMyXSx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3BhZ2luYXRpb24odWludDY0KSh1aW50MTYsdWludDE2LHVpbnQ4KSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhKHVpbnQ2NCx1aW50OCkoYm9vbCx1aW50NjQsYnl0ZVtdKSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlKHVpbnQ2NCx1aW50MTYsdWludDE2KWJ5dGVbXSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlcl9oYXNoKHVpbnQ2NClieXRlWzMyXSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3BhZ2VfaGFzaCh1aW50NjQsdWludDgpYnl0ZVszMl0iLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV9oYXNoKHVpbnQ2NClieXRlWzMyXSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3N0cmluZ19ieV9rZXkodWludDY0LHN0cmluZylzdHJpbmciLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV91aW50NjRfYnlfa2V5KHVpbnQ2NCxzdHJpbmcpdWludDY0IiwgbWV0aG9kICJhcmM4OV9nZXRfbWV0YWRhdGFfb2JqZWN0X2J5X2tleSh1aW50NjQsc3RyaW5nKXN0cmluZyIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX2I2NF9ieXRlc19ieV9rZXkodWludDY0LHN0cmluZyx1aW50OClieXRlW10iLCBtZXRob2QgImV4dHJhX3Jlc291cmNlcygpdm9pZCIsIG1ldGhvZCAid2l0aGRyYXdfYmFsYW5jZV9leGNlc3MoKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBhcmM4OV9jcmVhdGVfbWV0YWRhdGEgYXJjODlfcmVwbGFjZV9tZXRhZGF0YSBhcmM4OV9yZXBsYWNlX21ldGFkYXRhX2xhcmdlciBhcmM4OV9yZXBsYWNlX21ldGFkYXRhX3NsaWNlIGFyYzg5X21pZ3JhdGVfbWV0YWRhdGEgYXJjODlfZGVsZXRlX21ldGFkYXRhIGFyYzg5X2V4dHJhX3BheWxvYWQgYXJjODlfc2V0X3JldmVyc2libGVfZmxhZyBhcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWcgYXJjODlfc2V0X2ltbXV0YWJsZSBtYWluX2FyYzg5X2dldF9tZXRhZGF0YV9yZWdpc3RyeV9wYXJhbWV0ZXJzX3JvdXRlQDE2IGFyYzg5X2dldF9tZXRhZGF0YV9wYXJ0aWFsX3VyaSBhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhIGFyYzg5X2NoZWNrX21ldGFkYXRhX2V4aXN0cyBhcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGUgYXJjODlfaXNfbWV0YWRhdGFfc2hvcnQgYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlciBhcmM4OV9nZXRfbWV0YWRhdGFfcGFnaW5hdGlvbiBhcmM4OV9nZXRfbWV0YWRhdGEgYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlIGFyYzg5X2dldF9tZXRhZGF0YV9oZWFkZXJfaGFzaCBhcmM4OV9nZXRfbWV0YWRhdGFfcGFnZV9oYXNoIGFyYzg5X2dldF9tZXRhZGF0YV9oYXNoIGFyYzg5X2dldF9tZXRhZGF0YV9zdHJpbmdfYnlfa2V5IGFyYzg5X2dldF9tZXRhZGF0YV91aW50NjRfYnlfa2V5IGFyYzg5X2dldF9tZXRhZGF0YV9vYmplY3RfYnlfa2V5IGFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5IG1haW5fZXh0cmFfcmVzb3VyY2VzX3JvdXRlQDMzIHdpdGhkcmF3X2JhbGFuY2VfZXhjZXNzCiAgICBlcnIKCm1haW5fZXh0cmFfcmVzb3VyY2VzX3JvdXRlQDMzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjU4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fYXJjODlfZ2V0X21ldGFkYXRhX3JlZ2lzdHJ5X3BhcmFtZXRlcnNfcm91dGVAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc3NwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NTA4MDAzMzc3MmExMDAwMDNlZjA3ZWUwN2YyMDdmMDAwMDAwMDAwMDAwMDA5YzQwMDAwMDAwMDAwMDAwMTkwCiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fZGVwbG95QDM4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNjgKICAgIC8vIEBhcmM0LmJhcmVtZXRob2QoY3JlYXRlPSJyZXF1aXJlIikKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAhCiAgICAmJgogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM3My0zNzQKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gYXNzZXJ0IFR4bi5zZW5kZXIgPT0gVGVtcGxhdGVWYXJbQWNjb3VudF0oCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM3My0zNzYKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gYXNzZXJ0IFR4bi5zZW5kZXIgPT0gVGVtcGxhdGVWYXJbQWNjb3VudF0oCiAgICAvLyAgICAgVFJVU1RFRF9ERVBMT1lFUgogICAgLy8gKSwgZXJyLlVOVFJVU1RFRF9ERVBMT1lFUgogICAgYnl0ZWMgNiAvLyBUTVBMX1RSVVNURURfREVQTE9ZRVIKICAgID09CiAgICBhc3NlcnQgLy8gVGhlIGRlcGxveWVyIGFkZHJlc3MgaXMgbm90IHRydXN0ZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzY4CiAgICAvLyBAYXJjNC5iYXJlbWV0aG9kKGNyZWF0ZT0icmVxdWlyZSIpCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gX3B1eWFfbGliLnV0aWwuZW5zdXJlX2J1ZGdldChyZXF1aXJlZF9idWRnZXQ6IHVpbnQ2NCwgZmVlX3NvdXJjZTogdWludDY0KSAtPiB2b2lkOgplbnN1cmVfYnVkZ2V0OgogICAgcHJvdG8gMiAwCiAgICBmcmFtZV9kaWcgLTIKICAgIHB1c2hpbnQgMTAKICAgICsKCmVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDE6CiAgICBmcmFtZV9kaWcgMAogICAgZ2xvYmFsIE9wY29kZUJ1ZGdldAogICAgPgogICAgYnogZW5zdXJlX2J1ZGdldF9hZnRlcl93aGlsZUA2CiAgICBpdHhuX2JlZ2luCiAgICBwdXNoaW50IDYgLy8gYXBwbAogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgcHVzaGludCA1IC8vIERlbGV0ZUFwcGxpY2F0aW9uCiAgICBpdHhuX2ZpZWxkIE9uQ29tcGxldGlvbgogICAgYnl0ZWMgNCAvLyAweDA2ODEwMQogICAgaXR4bl9maWVsZCBBcHByb3ZhbFByb2dyYW0KICAgIGJ5dGVjIDQgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW0KICAgIGZyYW1lX2RpZyAtMQogICAgc3dpdGNoIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANToKICAgIGl0eG5fc3VibWl0CiAgICBiIGVuc3VyZV9idWRnZXRfd2hpbGVfdG9wQDEKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMUA0OgogICAgZ2xvYmFsIE1pblR4bkZlZQogICAgaXR4bl9maWVsZCBGZWUKICAgIGIgZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDUKCmVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfMEAzOgogICAgaW50Y18xIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA1CgplbnN1cmVfYnVkZ2V0X2FmdGVyX3doaWxlQDY6CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXZtX2xpYnJhcnkuZW5kc3dpdGgoczogYnl0ZXMsIHN1ZmZpeDogYnl0ZXMpIC0+IHVpbnQ2NDoKZW5kc3dpdGg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6NTMtNTQKICAgIC8vIEBzdWJyb3V0aW5lCiAgICAvLyBkZWYgZW5kc3dpdGgoczogQnl0ZXMsIHN1ZmZpeDogQnl0ZXMpIC0+IGJvb2w6CiAgICBwcm90byAyIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo1NQogICAgLy8gYXNzZXJ0IHN1ZmZpeC5sZW5ndGggPD0gcy5sZW5ndGgKICAgIGZyYW1lX2RpZyAtMQogICAgbGVuCiAgICBmcmFtZV9kaWcgLTIKICAgIGxlbgogICAgZHVwMgogICAgPD0KICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjU2CiAgICAvLyByZXR1cm4gc1tzLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggOl0gPT0gc3VmZml4CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLQogICAgZHVwCiAgICBkaWcgMgogICAgPj0KICAgIGRpZyAyCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXZtX2xpYnJhcnkuYXJjOTBfYm94X3F1ZXJ5KGFwcF9pZDogdWludDY0LCBib3hfbmFtZTogYnl0ZXMpIC0+IGJ5dGVzOgphcmM5MF9ib3hfcXVlcnk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6NTktNjAKICAgIC8vIEBzdWJyb3V0aW5lCiAgICAvLyBkZWYgYXJjOTBfYm94X3F1ZXJ5KGFwcF9pZDogVUludDY0LCBib3hfbmFtZTogQnl0ZXMpIC0+IEJ5dGVzOgogICAgcHJvdG8gMiAxCiAgICBpbnRjXzEgLy8gMAogICAgZHVwCiAgICBieXRlY18xIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6NjEKICAgIC8vIGlmIEdsb2JhbC5nZW5lc2lzX2hhc2ggPT0gQnl0ZXMuZnJvbV9iYXNlNjQoTUFJTk5FVF9HSF9CNjQpOgogICAgZ2xvYmFsIEdlbmVzaXNIYXNoCiAgICBwdXNoYnl0ZXMgYmFzZTY0KHdHSEUyUHdkdmQ3UzEyQkw1RmFPUDIwRUdZZXNONzNrdGlDMXF6a2tpdDg9KQogICAgPT0KICAgIGJ6IGFyYzkwX2JveF9xdWVyeV9lbHNlX2JvZHlAMgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjYyCiAgICAvLyBhcmM5MF9uZXRhdXRoID0gQnl0ZXMoKQogICAgYnl0ZWNfMSAvLyAweAoKYXJjOTBfYm94X3F1ZXJ5X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo2NgogICAgLy8gQVJDOTBfVVJJX1NDSEVNRQogICAgcHVzaGJ5dGVzIDB4NjE2YzY3NmY3MjYxNmU2NDNhMmYyZgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjY2LTY3CiAgICAvLyBBUkM5MF9VUklfU0NIRU1FCiAgICAvLyArIGFyYzkwX25ldGF1dGgKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjY4CiAgICAvLyArIEFSQzkwX1VSSV9BUFBfUEFUSAogICAgcHVzaGJ5dGVzIDB4NjE3MDcwMmYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo2Ni02OAogICAgLy8gQVJDOTBfVVJJX1NDSEVNRQogICAgLy8gKyBhcmM5MF9uZXRhdXRoCiAgICAvLyArIEFSQzkwX1VSSV9BUFBfUEFUSAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTozNwogICAgLy8gYWNjID0gQnl0ZXMoYiIiKQogICAgYnl0ZWNfMSAvLyAweAogICAgZnJhbWVfYnVyeSAwCiAgICBmcmFtZV9kaWcgLTIKICAgIGZyYW1lX2J1cnkgMgoKYXJjOTBfYm94X3F1ZXJ5X3doaWxlX3RvcEA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjM5CiAgICAvLyB3aGlsZSBpID4gMDoKICAgIGZyYW1lX2RpZyAyCiAgICBieiBhcmM5MF9ib3hfcXVlcnlfYWZ0ZXJfd2hpbGVANwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjQwCiAgICAvLyBkID0gaSAlIFVJbnQ2NCgxMCkKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIHB1c2hpbnQgMTAKICAgICUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo0MQogICAgLy8gYWNjID0gZGlnaXRzW2QgOiBkICsgVUludDY0KDEpXSArIGFjYwogICAgZHVwCiAgICBwdXNoaW50IDEwCiAgICA+PQogICAgZGlnIDEKICAgIHB1c2hpbnQgMTAKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgZHVwCiAgICBwdXNoaW50IDEwCiAgICA+PQogICAgcHVzaGludCAxMAogICAgc3dhcAogICAgc2VsZWN0CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBkaWcgMgogICAgc3dhcAogICAgc2VsZWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6MzUtMzYKICAgIC8vICMgQVNDSUkgZGlnaXRzICh2YWxpZCBVVEYtOCkKICAgIC8vIGRpZ2l0cyA9IEJ5dGVzKGIiMDEyMzQ1Njc4OSIpCiAgICBwdXNoYnl0ZXMgMHgzMDMxMzIzMzM0MzUzNjM3MzgzOQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjQxCiAgICAvLyBhY2MgPSBkaWdpdHNbZCA6IGQgKyBVSW50NjQoMSldICsgYWNjCiAgICBjb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICBmcmFtZV9kaWcgMAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo0MgogICAgLy8gaSAvLz0gVUludDY0KDEwKQogICAgcHVzaGludCAxMAogICAgLwogICAgZnJhbWVfYnVyeSAyCiAgICBiIGFyYzkwX2JveF9xdWVyeV93aGlsZV90b3BANQoKYXJjOTBfYm94X3F1ZXJ5X2FmdGVyX3doaWxlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6NDQKICAgIC8vIHJldHVybiBhY2Mgb3IgQnl0ZXMoYiIwIikKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGJ5dGVzIDB4MzAKICAgIGNvdmVyIDIKICAgIHNlbGVjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjY2LTY5CiAgICAvLyBBUkM5MF9VUklfU0NIRU1FCiAgICAvLyArIGFyYzkwX25ldGF1dGgKICAgIC8vICsgQVJDOTBfVVJJX0FQUF9QQVRICiAgICAvLyArIGl0b2EoYXBwX2lkKQogICAgZnJhbWVfZGlnIDEKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjcwCiAgICAvLyArIEFSQzkwX1VSSV9CT1hfUVVFUlkKICAgIHB1c2hieXRlcyAweDNmNjI2Zjc4M2QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo2Ni03MAogICAgLy8gQVJDOTBfVVJJX1NDSEVNRQogICAgLy8gKyBhcmM5MF9uZXRhdXRoCiAgICAvLyArIEFSQzkwX1VSSV9BUFBfUEFUSAogICAgLy8gKyBpdG9hKGFwcF9pZCkKICAgIC8vICsgQVJDOTBfVVJJX0JPWF9RVUVSWQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6NjYtNzEKICAgIC8vIEFSQzkwX1VSSV9TQ0hFTUUKICAgIC8vICsgYXJjOTBfbmV0YXV0aAogICAgLy8gKyBBUkM5MF9VUklfQVBQX1BBVEgKICAgIC8vICsgaXRvYShhcHBfaWQpCiAgICAvLyArIEFSQzkwX1VSSV9CT1hfUVVFUlkKICAgIC8vICsgYm94X25hbWUKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6NjUtNzIKICAgIC8vIHJldHVybiAoCiAgICAvLyAgICAgQVJDOTBfVVJJX1NDSEVNRQogICAgLy8gICAgICsgYXJjOTBfbmV0YXV0aAogICAgLy8gICAgICsgQVJDOTBfVVJJX0FQUF9QQVRICiAgICAvLyAgICAgKyBpdG9hKGFwcF9pZCkKICAgIC8vICAgICArIEFSQzkwX1VSSV9CT1hfUVVFUlkKICAgIC8vICAgICArIGJveF9uYW1lCiAgICAvLyApCiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKYXJjOTBfYm94X3F1ZXJ5X2Vsc2VfYm9keUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjY0CiAgICAvLyBhcmM5MF9uZXRhdXRoID0gVGVtcGxhdGVWYXJbQnl0ZXNdKEFSQzkwX05FVEFVVEgpICsgQVJDOTBfVVJJX1BBVEhfU0VQCiAgICBieXRlYyA3IC8vIFRNUExfQVJDOTBfTkVUQVVUSAogICAgcHVzaGJ5dGVzIDB4MmYKICAgIGNvbmNhdAogICAgYiBhcmM5MF9ib3hfcXVlcnlfYWZ0ZXJfaWZfZWxzZUAzCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2NyZWF0ZV9tZXRhZGF0YVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2NyZWF0ZV9tZXRhZGF0YToKICAgIGludGNfMSAvLyAwCiAgICBkdXBuIDQKICAgIGJ5dGVjXzEgLy8gIiIKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNzgKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGxlbgogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDgKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNAogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQxNgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgNQogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIGR1cAogICAgY292ZXIgMgogICAgY292ZXIgMwogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDA0LTQwNQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19iYXNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQsIG1ldGFkYXRhX3NpemUuYXNfdWludDY0KCkpCiAgICBzd2FwCiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGRpZyAzCiAgICBzd2FwCiAgICBjYWxsc3ViIF9jaGVja19iYXNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDcKICAgIC8vIHJldHVybiBhc2EgaW4gc2VsZi5hc3NldF9tZXRhZGF0YQogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQwNgogICAgLy8gYXNzZXJ0IG5vdCBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpLCBlcnIuQVNTRVRfTUVUQURBVEFfRVhJU1QKICAgICEKICAgIGFzc2VydCAvLyBBc3NldCBNZXRhZGF0YSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIHNwZWNpZmllZCBBU0EKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDA4CiAgICAvLyBtYnJfZGVsdGFfcGF5bWVudC5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzCiAgICBzd2FwCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQwNy00MDkKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgbWJyX2RlbHRhX3BheW1lbnQucmVjZWl2ZXIgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcwogICAgLy8gKSwgZXJyLk1CUl9ERUxUQV9SRUNFSVZFUl9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBNQlIgRGVsdGEgcmVjZWl2ZXIsIG11c3QgYmUgdGhlIEFTQSBNZXRhZGF0YSBSZWdpc3RyeQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MTEtNDEyCiAgICAvLyAjIEluaXRpYWxpemUgZW1wdHkgQXNzZXQgTWV0YWRhdGEgQm94CiAgICAvLyBtYnJfaSA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIHN3YXAKICAgIGNvdmVyIDMKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MTMKICAgIC8vIF9leGlzdHMgPSBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc3NldF9pZCkuY3JlYXRlKHNpemU9VUludDY0KDApKQogICAgaW50Y18xIC8vIDAKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MTUtNDE2CiAgICAvLyAjIFNldCBNZXRhZGF0YSBCb2R5CiAgICAvLyBpZiBwYXlsb2FkLmxlbmd0aCA+IDA6CiAgICBsZW4KICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDE3CiAgICAvLyBlbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldD1jb25zdC5BUFBfQ0FMTF9PUF9CVURHRVQpCiAgICBwdXNoaW50IDcwMAogICAgaW50Y18xIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDE4CiAgICAvLyBzZWxmLl9zZXRfbWV0YWRhdGFfcGF5bG9hZChhc3NldF9pZCwgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSwgcGF5bG9hZCkKICAgIGRpZyA3CiAgICBkdXAKICAgIGRpZyA0CiAgICBkaWcgNwogICAgY2FsbHN1YiBfc2V0X21ldGFkYXRhX3BheWxvYWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDIwLTQyMQogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgSGVhZGVyCiAgICAvLyBzZWxmLl9pZGVudGlmeV9tZXRhZGF0YShhc3NldF9pZCkKICAgIGR1cAogICAgY2FsbHN1YiBfaWRlbnRpZnlfbWV0YWRhdGEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDI1CiAgICAvLyB1aW50PXJldmVyc2libGVfZmxhZ3MuYXNfdWludDY0KCksIHNpemU9VUludDY0KGNvbnN0LkJZVEVfU0laRSkKICAgIGRpZyA3CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6MjAKICAgIC8vIHJldHVybiBvcC5leHRyYWN0KG9wLml0b2IodWludCksIHN0YXJ0LCBzaXplKQogICAgaXRvYgogICAgZXh0cmFjdCA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTItOTQKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIGRpZyAzCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTMKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCB2YWx1ZT1mbGFncwogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTItOTQKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDMxCiAgICAvLyB1aW50PWlycmV2ZXJzaWJsZV9mbGFncy5hc191aW50NjQoKSwgc2l6ZT1VSW50NjQoY29uc3QuQllURV9TSVpFKQogICAgZGlnIDcKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weToyMAogICAgLy8gcmV0dXJuIG9wLmV4dHJhY3Qob3AuaXRvYih1aW50KSwgc3RhcnQsIHNpemUpCiAgICBpdG9iCiAgICBleHRyYWN0IDcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDMtMTA1CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQzNQogICAgLy8gYXNhX21ldGFkYXRhX2hhc2ggPSBhc3NldF9pZC5tZXRhZGF0YV9oYXNoCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0TWV0YWRhdGFIYXNoCiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMTcKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDM2CiAgICAvLyBoYXNfYW0gPSBhc2FfbWV0YWRhdGFfaGFzaCAhPSBCeXRlcyhjb25zdC5CWVRFUzMyX1NJWkUgKiBiIlx4MDAiKQogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgIT0KICAgIGR1cAogICAgYnVyeSAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MzcKICAgIC8vIGlmIGhhc19hbToKICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9lbHNlX2JvZHlANQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDM4CiAgICAvLyBhc3NlcnQgc2VsZi5faXNfaW1tdXRhYmxlKGFzc2V0X2lkKSwgZXJyLlJFUVVJUkVTX0lNTVVUQUJMRQogICAgYXNzZXJ0IC8vIE11c3QgYmUgZmxhZ2dlZCBhcyBpbW11dGFibGUKICAgIGRpZyAxNAogICAgYnVyeSAxMgoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI3LTEyOQogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICAvLyApCiAgICBkaWcgMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyOAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIHZhbHVlPW1ldGFkYXRhX2hhc2gKICAgIHB1c2hpbnQgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjctMTI5CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIHZhbHVlPW1ldGFkYXRhX2hhc2gKICAgIC8vICkKICAgIGRpZyAxNAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDQzCiAgICAvLyBzZWxmLl9zZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc3NldF9pZCwgR2xvYmFsLnJvdW5kKQogICAgZ2xvYmFsIFJvdW5kCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0MgogICAgLy8gdmFsdWU9b3AuaXRvYihsYXN0X21vZGlmaWVkX3JvdW5kKSwKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQwLTE0MwogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgIHZhbHVlPW9wLml0b2IobGFzdF9tb2RpZmllZF9yb3VuZCksCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDEKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgcHVzaGludCAzNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDAtMTQzCiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICAvLyAgICAgdmFsdWU9b3AuaXRvYihsYXN0X21vZGlmaWVkX3JvdW5kKSwKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDQ0CiAgICAvLyBzZWxmLl9zZXRfZGVwcmVjYXRlZF9ieShhc3NldF9pZCwgVUludDY0KDApKQogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU2CiAgICAvLyB2YWx1ZT1vcC5pdG9iKGRlcHJlY2F0ZWRfYnkpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTQtMTU3CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0RFUFJFQ0FURURfQlksCiAgICAvLyAgICAgdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIC8vICkKICAgIGRpZyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE1NQogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0RFUFJFQ0FURURfQlksCiAgICBwdXNoaW50IDQzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE1NC0xNTcKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIC8vICAgICB2YWx1ZT1vcC5pdG9iKGRlcHJlY2F0ZWRfYnkpLAogICAgLy8gKQogICAgdW5jb3ZlciAyCiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgcHVzaGludCA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwOC0xMTEKICAgIC8vIHJldHVybiBvcC5nZXRiaXQoCiAgICAvLyAgICAgc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpLAogICAgLy8gICAgIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgLy8gKQogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0Ni00NDcKICAgIC8vICMgUG9zdGNvbmRpdGlvbnMKICAgIC8vIGlmIHNlbGYuX2lzX2FyYzMoYXNzZXRfaWQpOgogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAOAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjIyCiAgICAvLyBhc2FfbmFtZSA9IGFzYS5uYW1lCiAgICBkaWcgNwogICAgZHVwCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0TmFtZQogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAzCiAgICBidXJ5IDE3CiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MjMKICAgIC8vIGFzYV91cmwgPSBhc2EudXJsCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0VVJMCiAgICBzd2FwCiAgICBidXJ5IDE1CiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MjcKICAgIC8vIGlmIGFzYV9uYW1lID09IEFSQzNfTkFNRToKICAgIHB1c2hieXRlcyAweDYxNzI2MzMzCiAgICA9PQogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMjIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToyOAogICAgLy8gcmV0dXJuIFRydWUKICAgIGludGNfMCAvLyAxCgphcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMuYXNhX3ZhbGlkYXRpb24uQXNhVmFsaWRhdGlvbi5faXNfYXJjM19jb21wbGlhbnRAMjk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0OAogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FyYzNfY29tcGxpYW50KGFzc2V0X2lkKSwgZXJyLkFTQV9OT1RfQVJDM19DT01QTElBTlQKICAgIGFzc2VydCAvLyBJbnZhbGlkIEFSQy0zIHBhcmFtZXRlcnMgKG5hbWUgb3IgVVJMKQoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwCiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIHB1c2hpbnQgNgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NDkKICAgIC8vIGlmIHNlbGYuX2lzX2FyYzg5X25hdGl2ZShhc3NldF9pZCk6CiAgICBieiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAxMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjQxLTQyCiAgICAvLyAjIFRoaXMgdmFsaWRhdGlvbiBkb2VzIG5vdCBlbmZvcmNlIEFSQy05MCBjb21wbGlhbmNlIGZyYWdtZW50cyAob3B0aW9uYWwpCiAgICAvLyBhcmM4OV9wYXJ0aWFsX3VyaSA9IGFyYzkwX2JveF9xdWVyeShHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZC5pZCwgQnl0ZXMoKSkKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgYnl0ZWNfMSAvLyAweAogICAgY2FsbHN1YiBhcmM5MF9ib3hfcXVlcnkKICAgIGR1cAogICAgYnVyeSAxNwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjQzCiAgICAvLyBhc2FfdXJsID0gYXNhLnVybAogICAgZGlnIDgKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRVUkwKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMgogICAgYnVyeSAxNgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjQ1CiAgICAvLyBpZiBhc2FfdXJsLmxlbmd0aCA8IGFyYzg5X3BhcnRpYWxfdXJpLmxlbmd0aDoKICAgIGxlbgogICAgZHVwCiAgICBidXJ5IDEyCiAgICBzd2FwCiAgICBsZW4KICAgIGR1cAogICAgYnVyeSAxMQogICAgPAogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weTo0NgogICAgLy8gcmV0dXJuIEZhbHNlCiAgICBpbnRjXzEgLy8gMAoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzLmFzYV92YWxpZGF0aW9uLkFzYVZhbGlkYXRpb24uX2lzX2FyYzg5X2NvbXBsaWFudEAxNzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDUwCiAgICAvLyBhc3NlcnQgc2VsZi5faXNfYXJjODlfY29tcGxpYW50KGFzc2V0X2lkKSwgZXJyLkFTQV9OT1RfQVJDODlfQ09NUExJQU5UCiAgICBhc3NlcnQgLy8gSW52YWxpZCBBUkMtODkgcGFydGlhbCBVUkkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDUxCiAgICAvLyBpZiBoYXNfYW0gYW5kIG5vdCBzZWxmLl9pc19hcmMzKGFzc2V0X2lkKToKICAgIGRpZyAxMAogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwCiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIHB1c2hpbnQgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NTEKICAgIC8vIGlmIGhhc19hbSBhbmQgbm90IHNlbGYuX2lzX2FyYzMoYXNzZXRfaWQpOgogICAgYm56IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ1Mi00NTQKICAgIC8vIGFzc2VydCBhc2FfbWV0YWRhdGFfaGFzaCA9PSBzZWxmLl9jb21wdXRlX21ldGFkYXRhX2hhc2goCiAgICAvLyAgICAgYXNzZXRfaWQKICAgIC8vICksIGVyci5BU0FfTUVUQURBVEFfSEFTSF9NSVNNQVRDSAogICAgZGlnIDcKICAgIGNhbGxzdWIgX2NvbXB1dGVfbWV0YWRhdGFfaGFzaAogICAgZGlnIDE1CiAgICA9PQogICAgYXNzZXJ0IC8vIEFTQSBNZXRhZGF0YSBIYXNoIChhbSkgZG9lcyBub3QgbWF0Y2ggdGhlIGNvbXB1dGVkIGhhc2gKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDEzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NTYKICAgIC8vIHNlbGYuX2VtaXRfdXBkYXRlZF9ldmVudChhc3NldF9pZCwgbWV0YWRhdGFfaGFzaCkKICAgIGRpZyA3CiAgICBkaWcgMTIKICAgIGNhbGxzdWIgX2VtaXRfdXBkYXRlZF9ldmVudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NTgKICAgIC8vIG1icl9kZWx0YV9hbW91bnQgPSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLm1pbl9iYWxhbmNlIC0gbWJyX2kKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgZGlnIDEKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDYwCiAgICAvLyBtYnJfZGVsdGFfcGF5bWVudC5hbW91bnQgPj0gbWJyX2RlbHRhX2Ftb3VudAogICAgZGlnIDQKICAgIGd0eG5zIEFtb3VudAogICAgZGlnIDEKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ1OS00NjEKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgbWJyX2RlbHRhX3BheW1lbnQuYW1vdW50ID49IG1icl9kZWx0YV9hbW91bnQKICAgIC8vICksIGVyci5NQlJfREVMVEFfQU1PVU5UX0lOVkFMSUQKICAgIGFzc2VydCAvLyBJbnZhbGlkIE1CUiBEZWx0YSBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDYzLTQ2NQogICAgLy8gcmV0dXJuIGFiaS5NYnJEZWx0YSgKICAgIC8vICAgICBzaWduPWFyYzQuVUludDgoZW51bXMuTUJSX0RFTFRBX1BPUyksIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50CiAgICAvLyApCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM3OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBieXRlYyA1IC8vIDB4MTUxZjdjNzUwMQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDE2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjQ5CiAgICAvLyBhc3NlcnQgcHJlZml4Lmxlbmd0aCA8PSBzLmxlbmd0aAogICAgZGlnIDgKICAgIGR1cAogICAgZGlnIDExCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIDw9CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTo1MAogICAgLy8gcmV0dXJuIHNbOiBwcmVmaXgubGVuZ3RoXSA9PSBwcmVmaXgKICAgIGR1cAogICAgZGlnIDIKICAgID49CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBzZWxlY3QKICAgIGRpZyAxMwogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZGlnIDE2CiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NTAKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hcmM4OV9jb21wbGlhbnQoYXNzZXRfaWQpLCBlcnIuQVNBX05PVF9BUkM4OV9DT01QTElBTlQKICAgIGIgYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzLmFzYV92YWxpZGF0aW9uLkFzYVZhbGlkYXRpb24uX2lzX2FyYzg5X2NvbXBsaWFudEAxNwoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMjI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzAKICAgIC8vIGlmIGFzYV9uYW1lLmxlbmd0aCA+PSBhcmMzX25hbWVfc3VmZml4Lmxlbmd0aDoKICAgIGRpZyAxMwogICAgbGVuCiAgICBwdXNoaW50IDUKICAgID49CiAgICBieiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAyNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjMxCiAgICAvLyBpZiBlbmRzd2l0aChhc2FfbmFtZSwgYXJjM19uYW1lX3N1ZmZpeCk6CiAgICBkaWcgMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToyNAogICAgLy8gYXJjM19uYW1lX3N1ZmZpeCA9IEJ5dGVzKEFSQzNfTkFNRV9TVUZGSVgpCiAgICBwdXNoYnl0ZXMgMHg0MDYxNzI2MzMzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzEKICAgIC8vIGlmIGVuZHN3aXRoKGFzYV9uYW1lLCBhcmMzX25hbWVfc3VmZml4KToKICAgIGNhbGxzdWIgZW5kc3dpdGgKICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDI1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzIKICAgIC8vIHJldHVybiBUcnVlCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NDgKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hcmMzX2NvbXBsaWFudChhc3NldF9pZCksIGVyci5BU0FfTk9UX0FSQzNfQ09NUExJQU5UCiAgICBiIGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy5hc2FfdmFsaWRhdGlvbi5Bc2FWYWxpZGF0aW9uLl9pc19hcmMzX2NvbXBsaWFudEAyOQoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMjU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzQKICAgIC8vIGlmIGFzYV91cmwubGVuZ3RoID49IGFyYzNfdXJsX3N1ZmZpeC5sZW5ndGg6CiAgICBkaWcgMTIKICAgIGxlbgogICAgcHVzaGludCA1CiAgICA+PQogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMjgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weTozNQogICAgLy8gaWYgZW5kc3dpdGgoYXNhX3VybCwgYXJjM191cmxfc3VmZml4KToKICAgIGRpZyAxMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjI1CiAgICAvLyBhcmMzX3VybF9zdWZmaXggPSBCeXRlcyhBUkMzX1VSTF9TVUZGSVgpCiAgICBwdXNoYnl0ZXMgMHgyMzYxNzI2MzMzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzUKICAgIC8vIGlmIGVuZHN3aXRoKGFzYV91cmwsIGFyYzNfdXJsX3N1ZmZpeCk6CiAgICBjYWxsc3ViIGVuZHN3aXRoCiAgICBieiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAyOAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjM2CiAgICAvLyByZXR1cm4gVHJ1ZQogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDQ4CiAgICAvLyBhc3NlcnQgc2VsZi5faXNfYXJjM19jb21wbGlhbnQoYXNzZXRfaWQpLCBlcnIuQVNBX05PVF9BUkMzX0NPTVBMSUFOVAogICAgYiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMuYXNhX3ZhbGlkYXRpb24uQXNhVmFsaWRhdGlvbi5faXNfYXJjM19jb21wbGlhbnRAMjkKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDI4OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjM4CiAgICAvLyByZXR1cm4gRmFsc2UKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0OAogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FyYzNfY29tcGxpYW50KGFzc2V0X2lkKSwgZXJyLkFTQV9OT1RfQVJDM19DT01QTElBTlQKICAgIGIgYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzLmFzYV92YWxpZGF0aW9uLkFzYVZhbGlkYXRpb24uX2lzX2FyYzNfY29tcGxpYW50QDI5CgphcmM4OV9jcmVhdGVfbWV0YWRhdGFfZWxzZV9ib2R5QDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0MQogICAgLy8gbWV0YWRhdGFfaGFzaCA9IHNlbGYuX2NvbXB1dGVfbWV0YWRhdGFfaGFzaChhc3NldF9pZCkKICAgIGRpZyA3CiAgICBjYWxsc3ViIF9jb21wdXRlX21ldGFkYXRhX2hhc2gKICAgIGJ1cnkgMTIKICAgIGIgYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9yZXBsYWNlX21ldGFkYXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfcmVwbGFjZV9tZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDY3CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQxNgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDg4LTQ4OQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucyhhc3NldF9pZCwgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSkKICAgIHN3YXAKICAgIGJ0b2kKICAgIGRpZyAyCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfdXBkYXRlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDkwLTQ5MgogICAgLy8gYXNzZXJ0IG1ldGFkYXRhX3NpemUuYXNfdWludDY0KCkgPD0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICAvLyAgICAgYXNzZXRfaWQKICAgIC8vICksIGVyci5MQVJHRVJfTUVUQURBVEFfU0laRQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICBkaWcgMQogICAgPj0KICAgIGFzc2VydCAvLyBJbnZhbGlkIE1ldGFkYXRhIHNpemUsIG11c3QgYmUgc21hbGxlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSBjdXJyZW50IHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDk0LTQ5NQogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgQm9keQogICAgLy8gbWJyX2kgPSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLm1pbl9iYWxhbmNlCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDk2CiAgICAvLyBzZWxmLl9zZXRfbWV0YWRhdGFfcGF5bG9hZChhc3NldF9pZCwgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSwgcGF5bG9hZCkKICAgIGRpZyAzCiAgICBkaWcgMgogICAgdW5jb3ZlciA0CiAgICBjYWxsc3ViIF9zZXRfbWV0YWRhdGFfcGF5bG9hZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0OTgtNDk5CiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBIZWFkZXIKICAgIC8vIHNlbGYuX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0KGFzc2V0X2lkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUwMwogICAgLy8gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpID09IG1ldGFkYXRhX3NpemUuYXNfdWludDY0KCkKICAgIHVuY292ZXIgMgogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIHVuY292ZXIgMgogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTAxLTUwNAogICAgLy8gIyBQb3N0Y29uZGl0aW9ucwogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkgPT0gbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKQogICAgLy8gKSwgZXJyLk1FVEFEQVRBX1NJWkVfTUlTTUFUQ0gKICAgIGFzc2VydCAvLyBNZXRhZGF0YSBzaXplIG1pc21hdGNoLCBtdXN0IGJlIGV4YWN0bHkgZXF1YWwgdG8gZGVjbGFyZWQgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDYKICAgIC8vIG1icl9kZWx0YV9hbW91bnQgPSBtYnJfaSAtIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUwNwogICAgLy8gaWYgbWJyX2RlbHRhX2Ftb3VudCA9PSBVSW50NjQoMCk6CiAgICBibnogYXJjODlfcmVwbGFjZV9tZXRhZGF0YV9lbHNlX2JvZHlAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDgKICAgIC8vIHNpZ24gPSBVSW50NjQoZW51bXMuTUJSX0RFTFRBX05VTEwpCiAgICBpbnRjXzEgLy8gMAoKYXJjODlfcmVwbGFjZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUxNgogICAgLy8gcmV0dXJuIGFiaS5NYnJEZWx0YShzaWduPWFyYzQuVUludDgoc2lnbiksIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50KQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIGludGNfMiAvLyA4CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDcgMQogICAgZGlnIDEKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NjcKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKYXJjODlfcmVwbGFjZV9tZXRhZGF0YV9lbHNlX2JvZHlAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTEwCiAgICAvLyBzaWduID0gVUludDY0KGVudW1zLk1CUl9ERUxUQV9ORUcpCiAgICBwdXNoaW50IDI1NQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MTEtNTE0CiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICAvLyAgICAgcmVjZWl2ZXI9YXNzZXRfaWQubWFuYWdlciwKICAgIC8vICAgICBhbW91bnQ9bWJyX2RlbHRhX2Ftb3VudCwKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTEyCiAgICAvLyByZWNlaXZlcj1hc3NldF9pZC5tYW5hZ2VyLAogICAgZGlnIDIKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRNYW5hZ2VyCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICBkaWcgMgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTExCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICBpbnRjXzAgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTExLTUxNAogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPWFzc2V0X2lkLm1hbmFnZXIsCiAgICAvLyAgICAgYW1vdW50PW1icl9kZWx0YV9hbW91bnQsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgYiBhcmM4OV9yZXBsYWNlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9yZXBsYWNlX21ldGFkYXRhX2xhcmdlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfbGFyZ2VyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MTgKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQxNgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgZXh0cmFjdCAyIDAKICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBndHhucyBUeXBlRW51bQogICAgaW50Y18wIC8vIHBheQogICAgPT0KICAgIGFzc2VydCAvLyB0cmFuc2FjdGlvbiB0eXBlIGlzIHBheQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NDEtNTQyCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX3VwZGF0ZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkLCBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpKQogICAgdW5jb3ZlciAyCiAgICBidG9pCiAgICBkaWcgMwogICAgZGlnIDEKICAgIGNhbGxzdWIgX2NoZWNrX3VwZGF0ZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU0My01NDUKICAgIC8vIGFzc2VydCBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpID4gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICAvLyAgICAgYXNzZXRfaWQKICAgIC8vICksIGVyci5TTUFMTEVSX01FVEFEQVRBX1NJWkUKICAgIGRpZyAzCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgZGlnIDEKICAgIDwKICAgIGFzc2VydCAvLyBJbnZhbGlkIE1ldGFkYXRhIHNpemUsIG11c3QgYmUgbGFyZ2VyIHRoYW4gdGhlIGN1cnJlbnQgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NDcKICAgIC8vIG1icl9kZWx0YV9wYXltZW50LnJlY2VpdmVyID09IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MKICAgIGRpZyAxCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU0Ni01NDgKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgbWJyX2RlbHRhX3BheW1lbnQucmVjZWl2ZXIgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcwogICAgLy8gKSwgZXJyLk1CUl9ERUxUQV9SRUNFSVZFUl9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBNQlIgRGVsdGEgcmVjZWl2ZXIsIG11c3QgYmUgdGhlIEFTQSBNZXRhZGF0YSBSZWdpc3RyeQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NTAtNTUxCiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBCb2R5CiAgICAvLyBtYnJfaSA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NTIKICAgIC8vIHNlbGYuX3NldF9tZXRhZGF0YV9wYXlsb2FkKGFzc2V0X2lkLCBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpLCBwYXlsb2FkKQogICAgZGlnIDQKICAgIGRpZyAyCiAgICB1bmNvdmVyIDUKICAgIGNhbGxzdWIgX3NldF9tZXRhZGF0YV9wYXlsb2FkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU1NC01NTUKICAgIC8vICMgVXBkYXRlIE1ldGFkYXRhIEhlYWRlcgogICAgLy8gc2VsZi5fdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQoYXNzZXRfaWQpCiAgICBkaWcgMwogICAgY2FsbHN1YiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTU5CiAgICAvLyBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkgPT0gbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKQogICAgdW5jb3ZlciAzCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgdW5jb3ZlciAyCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NTctNTYwCiAgICAvLyAjIFBvc3Rjb25kaXRpb25zCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzc2V0X2lkKSA9PSBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpCiAgICAvLyApLCBlcnIuTUVUQURBVEFfU0laRV9NSVNNQVRDSAogICAgYXNzZXJ0IC8vIE1ldGFkYXRhIHNpemUgbWlzbWF0Y2gsIG11c3QgYmUgZXhhY3RseSBlcXVhbCB0byBkZWNsYXJlZCBzaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2MgogICAgLy8gbWJyX2RlbHRhX2Ftb3VudCA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UgLSBtYnJfaQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICBzd2FwCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2NAogICAgLy8gbWJyX2RlbHRhX3BheW1lbnQuYW1vdW50ID49IG1icl9kZWx0YV9hbW91bnQKICAgIHN3YXAKICAgIGd0eG5zIEFtb3VudAogICAgZGlnIDEKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2My01NjUKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgbWJyX2RlbHRhX3BheW1lbnQuYW1vdW50ID49IG1icl9kZWx0YV9hbW91bnQKICAgIC8vICksIGVyci5NQlJfREVMVEFfQU1PVU5UX0lOVkFMSUQKICAgIGFzc2VydCAvLyBJbnZhbGlkIE1CUiBEZWx0YSBhbW91bnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTY3LTU2OQogICAgLy8gcmV0dXJuIGFiaS5NYnJEZWx0YSgKICAgIC8vICAgICBzaWduPWFyYzQuVUludDgoZW51bXMuTUJSX0RFTFRBX1BPUyksIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50CiAgICAvLyApCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUxOAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBieXRlYyA1IC8vIDB4MTUxZjdjNzUwMQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfcmVwbGFjZV9tZXRhZGF0YV9zbGljZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2U6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU3MQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTg4LTU4OQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucyhhc3NldF9pZCwgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICBkaWcgMwogICAgc3dhcAogICAgY2FsbHN1YiBfY2hlY2tfdXBkYXRlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTkwCiAgICAvLyBhc3NlcnQgb2Zmc2V0LmFzX3VpbnQ2NCgpICsgcGF5bG9hZC5sZW5ndGggPD0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICBzd2FwCiAgICBidG9pCiAgICBkaWcgMQogICAgbGVuCiAgICBkdXAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU5MC01OTIKICAgIC8vIGFzc2VydCBvZmZzZXQuYXNfdWludDY0KCkgKyBwYXlsb2FkLmxlbmd0aCA8PSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZSgKICAgIC8vICAgICBhc3NldF9pZAogICAgLy8gKSwgZXJyLkVYQ0VFRFNfTUVUQURBVEFfU0laRQogICAgZGlnIDQKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICA8PQogICAgYXNzZXJ0IC8vIFNsaWNlIGV4Y2VlZHMgbWV0YWRhdGEgcmFuZ2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjU4CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgdW5jb3ZlciAzCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjU5CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEEgKyBvZmZzZXQsIGxlbmd0aD1zaXplCiAgICBwdXNoaW50IDUxCiAgICB1bmNvdmVyIDMKICAgICsKICAgIGR1cAogICAgY292ZXIgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNTgtMjYwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQSArIG9mZnNldCwgbGVuZ3RoPXNpemUKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTk2CiAgICAvLyBpZiBwYXlsb2FkICE9IGV4aXN0aW5nX3NsaWNlOgogICAgIT0KICAgIGJ6IGFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2VfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU5Ny02MDEKICAgIC8vICMgVXBkYXRlIE1ldGFkYXRhIEJvZHkKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzc2V0X2lkKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQSArIG9mZnNldC5hc191aW50NjQoKSwKICAgIC8vICAgICB2YWx1ZT1wYXlsb2FkLAogICAgLy8gKQogICAgZHVwMgogICAgZGlnIDQKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYwMy02MDQKICAgIC8vICMgVXBkYXRlIE1ldGFkYXRhIEhlYWRlcgogICAgLy8gc2VsZi5fdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQoYXNzZXRfaWQpCiAgICBkaWcgMwogICAgY2FsbHN1YiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQKCmFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2VfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NzEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9taWdyYXRlX21ldGFkYXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfbWlncmF0ZV9tZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjA2CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjIxLTYyMgogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZGlnIDEKICAgIGNhbGxzdWIgX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjI0CiAgICAvLyBuZXdfcmVnaXN0cnlfaWQgIT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQuaWQKICAgIGR1cAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICAhPQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2MjMtNjI1CiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIG5ld19yZWdpc3RyeV9pZCAhPSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZC5pZAogICAgLy8gKSwgZXJyLk5FV19SRUdJU1RSWV9JRF9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBuZXcgQVNBIE1ldGFkYXRhIFJlZ2lzdHJ5IElELCBtdXN0IGJlIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU0CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE1NgogICAgLy8gdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU0LTE1NwogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIHZhbHVlPW9wLml0b2IoZGVwcmVjYXRlZF9ieSksCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTUKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgcHVzaGludCA0MwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTQtMTU3CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0RFUFJFQ0FURURfQlksCiAgICAvLyAgICAgdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjMzCiAgICAvLyByb3VuZD1HbG9iYWwucm91bmQsCiAgICBnbG9iYWwgUm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjM0CiAgICAvLyB0aW1lc3RhbXA9R2xvYmFsLmxhdGVzdF90aW1lc3RhbXAsCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0Ny0xNTAKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgLy8gKQogICAgZGlnIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIHB1c2hpbnQgNDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ5CiAgICAvLyBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgaW50Y18yIC8vIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ3LTE1MAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5ERVBSRUNBVEVEX0JZX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDYtMTUxCiAgICAvLyByZXR1cm4gb3AuYnRvaSgKICAgIC8vICAgICBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgICAgICBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjMxLTYzNgogICAgLy8gYWJpLkFyYzg5TWV0YWRhdGFNaWdyYXRlZCgKICAgIC8vICAgICBhc3NldF9pZD1hc3NldF9pZC5pZCwKICAgIC8vICAgICByb3VuZD1HbG9iYWwucm91bmQsCiAgICAvLyAgICAgdGltZXN0YW1wPUdsb2JhbC5sYXRlc3RfdGltZXN0YW1wLAogICAgLy8gICAgIG5ld19yZWdpc3RyeV9pZD1zZWxmLl9nZXRfZGVwcmVjYXRlZF9ieShhc3NldF9pZCksCiAgICAvLyApCiAgICBpdG9iCiAgICB1bmNvdmVyIDMKICAgIHN3YXAKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2MzAtNjM3CiAgICAvLyBhcmM0LmVtaXQoCiAgICAvLyAgICAgYWJpLkFyYzg5TWV0YWRhdGFNaWdyYXRlZCgKICAgIC8vICAgICAgICAgYXNzZXRfaWQ9YXNzZXRfaWQuaWQsCiAgICAvLyAgICAgICAgIHJvdW5kPUdsb2JhbC5yb3VuZCwKICAgIC8vICAgICAgICAgdGltZXN0YW1wPUdsb2JhbC5sYXRlc3RfdGltZXN0YW1wLAogICAgLy8gICAgICAgICBuZXdfcmVnaXN0cnlfaWQ9c2VsZi5fZ2V0X2RlcHJlY2F0ZWRfYnkoYXNzZXRfaWQpLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIHB1c2hieXRlcyAweGM4NzAyM2JmIC8vIG1ldGhvZCAiQXJjODlNZXRhZGF0YU1pZ3JhdGVkKHVpbnQ2NCx1aW50NjQsdWludDY0LHVpbnQ2NCkiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2MDYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9kZWxldGVfbWV0YWRhdGFbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9kZWxldGVfbWV0YWRhdGE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYzOQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDcKICAgIC8vIHJldHVybiBhc2EgaW4gc2VsZi5hc3NldF9tZXRhZGF0YQogICAgaXRvYgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjU0LTY1NQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBhc3NlcnQgc2VsZi5fbWV0YWRhdGFfZXhpc3RzKGFzc2V0X2lkKSwgZXJyLkFTU0VUX01FVEFEQVRBX05PVF9FWElTVAogICAgYXNzZXJ0IC8vIEFzc2V0IE1ldGFkYXRhIGRvZXMgbm90IGV4aXN0IGZvciB0aGUgc3BlY2lmaWVkIEFTQQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjE1CiAgICAvLyBfY3JlYXRvciwgZXhpc3RzID0gb3AuQXNzZXRQYXJhbXNHZXQuYXNzZXRfY3JlYXRvcihhc2EpCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY1NgogICAgLy8gaWYgc2VsZi5fYXNhX2V4aXN0cyhhc3NldF9pZCk6CiAgICBieiBhcmM4OV9kZWxldGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjU3CiAgICAvLyBhc3NlcnQgbm90IHNlbGYuX2lzX2ltbXV0YWJsZShhc3NldF9pZCksIGVyci5JTU1VVEFCTEUKICAgICEKICAgIGFzc2VydCAvLyBNZXRhZGF0YSBpcyBpbW11dGFibGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjU4CiAgICAvLyBhc3NlcnQgc2VsZi5faXNfYXNhX21hbmFnZXIoYXNzZXRfaWQpLCBlcnIuVU5BVVRIT1JJWkVECiAgICBkaWcgMQogICAgY2FsbHN1YiBfaXNfYXNhX21hbmFnZXIKICAgIGFzc2VydCAvLyBVbmF1dGhvcml6ZWQsIG11c3QgYmUgdGhlIEFzc2V0IE1hbmFnZXIKCmFyYzg5X2RlbGV0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY2MC02NjEKICAgIC8vICMgRGVsZXRlIE1ldGFkYXRhIGFuZCByZWZ1bmQgTUJSCiAgICAvLyBtYnJfaSA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NjIKICAgIC8vIGRlbCBzZWxmLmFzc2V0X21ldGFkYXRhW2Fzc2V0X2lkXQogICAgZGlnIDEKICAgIGR1cAogICAgY292ZXIgMgogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY2MwogICAgLy8gbWJyX2RlbHRhX2Ftb3VudCA9IG1icl9pIC0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5taW5fYmFsYW5jZQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY2NAogICAgLy8gaXR4bi5QYXltZW50KHJlY2VpdmVyPVR4bi5zZW5kZXIsIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50KS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgdHhuIFNlbmRlcgogICAgZGlnIDEKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpbnRjXzAgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY3MAogICAgLy8gdGltZXN0YW1wPUdsb2JhbC5sYXRlc3RfdGltZXN0YW1wLAogICAgZ2xvYmFsIExhdGVzdFRpbWVzdGFtcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NjkKICAgIC8vIHJvdW5kPUdsb2JhbC5yb3VuZCwKICAgIGdsb2JhbCBSb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NjctNjcxCiAgICAvLyBhYmkuQXJjODlNZXRhZGF0YURlbGV0ZWQoCiAgICAvLyAgICAgYXNzZXRfaWQ9YXNzZXRfaWQuaWQsCiAgICAvLyAgICAgcm91bmQ9R2xvYmFsLnJvdW5kLAogICAgLy8gICAgIHRpbWVzdGFtcD1HbG9iYWwubGF0ZXN0X3RpbWVzdGFtcCwKICAgIC8vICkKICAgIGl0b2IKICAgIHVuY292ZXIgMwogICAgc3dhcAogICAgY29uY2F0CiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjY2LTY3MgogICAgLy8gYXJjNC5lbWl0KAogICAgLy8gICAgIGFiaS5BcmM4OU1ldGFkYXRhRGVsZXRlZCgKICAgIC8vICAgICAgICAgYXNzZXRfaWQ9YXNzZXRfaWQuaWQsCiAgICAvLyAgICAgICAgIHJvdW5kPUdsb2JhbC5yb3VuZCwKICAgIC8vICAgICAgICAgdGltZXN0YW1wPUdsb2JhbC5sYXRlc3RfdGltZXN0YW1wLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIHB1c2hieXRlcyAweGJjM2YyMGQxIC8vIG1ldGhvZCAiQXJjODlNZXRhZGF0YURlbGV0ZWQodWludDY0LHVpbnQ2NCx1aW50NjQpIgogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Njc0LTY3NgogICAgLy8gcmV0dXJuIGFiaS5NYnJEZWx0YSgKICAgIC8vICAgICBzaWduPWFyYzQuVUludDgoZW51bXMuTUJSX0RFTFRBX05FRyksIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50CiAgICAvLyApCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYzOQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NWZmCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9leHRyYV9wYXlsb2FkW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZXh0cmFfcGF5bG9hZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Njc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTItNjkzCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCBHbG9iYWwuZ3JvdXBfc2l6ZSA+PSAyLCBlcnIuTk9fUEFZTE9BRF9IRUFEX0NBTEwKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIGludGNfMyAvLyAyCiAgICA+PQogICAgYXNzZXJ0IC8vIE5vIHBheWxvYWQgaGVhZCBjYWxsIGluIEdyb3VwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MTUKICAgIC8vIF9jcmVhdG9yLCBleGlzdHMgPSBvcC5Bc3NldFBhcmFtc0dldC5hc3NldF9jcmVhdG9yKGFzYSkKICAgIGR1cAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTQKICAgIC8vIGFzc2VydCBzZWxmLl9hc2FfZXhpc3RzKGFzc2V0X2lkKSwgZXJyLkFTQV9OT1RfRVhJU1QKICAgIGFzc2VydCAvLyBUaGUgc3BlY2lmaWVkIEFTQSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBkdXAKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTUKICAgIC8vIGFzc2VydCBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpLCBlcnIuQVNTRVRfTUVUQURBVEFfTk9UX0VYSVNUCiAgICBhc3NlcnQgLy8gQXNzZXQgTWV0YWRhdGEgZG9lcyBub3QgZXhpc3QgZm9yIHRoZSBzcGVjaWZpZWQgQVNBCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5NgogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FzYV9tYW5hZ2VyKGFzc2V0X2lkKSwgZXJyLlVOQVVUSE9SSVpFRAogICAgY2FsbHN1YiBfaXNfYXNhX21hbmFnZXIKICAgIGFzc2VydCAvLyBVbmF1dGhvcml6ZWQsIG11c3QgYmUgdGhlIEFzc2V0IE1hbmFnZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Njc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfc2V0X3JldmVyc2libGVfZmxhZ1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3NldF9yZXZlcnNpYmxlX2ZsYWc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmJvb2wKICAgIGludGNfMSAvLyAwCiAgICBnZXRiaXQKICAgIGR1cAogICAgY292ZXIgMwogICAgY292ZXIgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3MTQtNzE1CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfc2V0X2ZsYWdfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3MTYKICAgIC8vIGFzc2VydCBmbGFnLmFzX3VpbnQ2NCgpIDw9IGZsZy5SRVZfRkxHX1JFU0VSVkVEXzcsIGVyci5GTEFHX0lEWF9JTlZBTElECiAgICBidG9pCiAgICBkdXAKICAgIHB1c2hpbnQgNwogICAgPD0KICAgIGFzc2VydCAvLyBJbnZhbGlkIGZsYWcgaW5kZXgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzMKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICBzd2FwCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICBpbnRjXzAgLy8gMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9SRVZfRkxBRyAtIGZsYWcsCiAgICBwdXNoaW50IDcKICAgIHVuY292ZXIgMgogICAgLQogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc4LTgxCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9yZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9SRVZfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzIwCiAgICAvLyBpZiB2YWx1ZSAhPSBleGlzdGluZ192YWx1ZToKICAgICE9CiAgICBieiBhcmM4OV9zZXRfcmV2ZXJzaWJsZV9mbGFnX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3My03NQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgLy8gKQogICAgZGlnIDEKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIGxlbmd0aD1jb25zdC5SRVZFUlNJQkxFX0ZMQUdTX1NJWkUKICAgIGludGNfMCAvLyAxCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzMtNzUKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIGxlbmd0aD1jb25zdC5SRVZFUlNJQkxFX0ZMQUdTX1NJWkUKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg2LTg4CiAgICAvLyB1cGRhdGVkX2ZsYWdzID0gb3Auc2V0Yml0X2J5dGVzKAogICAgLy8gICAgIHNlbGYuX2dldF9yZXZlcnNpYmxlX2ZsYWdzKGFzYSksIGNvbnN0LkJJVF9SSUdIVE1PU1RfUkVWX0ZMQUcgLSBmbGFnLCB2YWx1ZQogICAgLy8gKQogICAgZGlnIDIKICAgIGRpZyA1CiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTMKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCB2YWx1ZT1mbGFncwogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTItOTQKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjcyNC03MjUKICAgIC8vICMgVXBkYXRlIE1ldGFkYXRhIEhlYWRlcgogICAgLy8gc2VsZi5fdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQoYXNzZXRfaWQpCiAgICBkaWcgMwogICAgY2FsbHN1YiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQKCmFyYzg5X3NldF9yZXZlcnNpYmxlX2ZsYWdfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTgKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjcyNwogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NDEtNzQyCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBzd2FwCiAgICBjYWxsc3ViIF9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc0NAogICAgLy8gZmxnLklSUl9GTEdfUkVTRVJWRURfMiA8PSBmbGFnLmFzX3VpbnQ2NCgpIDw9IGZsZy5JUlJfRkxHX1JFU0VSVkVEXzYKICAgIGJ0b2kKICAgIGR1cAogICAgaW50Y18zIC8vIDIKICAgID49CiAgICBieiBhcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfYm9vbF9mYWxzZUA0CiAgICBkdXAKICAgIHB1c2hpbnQgNgogICAgPD0KICAgIGJ6IGFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ19ib29sX2ZhbHNlQDQKICAgIGludGNfMCAvLyAxCgphcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfYm9vbF9tZXJnZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NDMtNzQ1CiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIGZsZy5JUlJfRkxHX1JFU0VSVkVEXzIgPD0gZmxhZy5hc191aW50NjQoKSA8PSBmbGcuSVJSX0ZMR19SRVNFUlZFRF82CiAgICAvLyApLCBlcnIuRkxBR19JRFhfSU5WQUxJRAogICAgYXNzZXJ0IC8vIEludmFsaWQgZmxhZyBpbmRleAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NwogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGRpZyAxCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICBwdXNoaW50IDcKICAgIGRpZyAyCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwOC0xMTEKICAgIC8vIHJldHVybiBvcC5nZXRiaXQoCiAgICAvLyAgICAgc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpLAogICAgLy8gICAgIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgLy8gKQogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc0OQogICAgLy8gaWYgbm90IGV4aXN0aW5nX3ZhbHVlOgogICAgYm56IGFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ19hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzUwLTc1MQogICAgLy8gIyBTZXQgSXJyZXZlcnNpYmxlIEZsYWcKICAgIC8vIHNlbGYuX3NldF9pcnJldmVyc2libGVfZmxhZ192YWx1ZShhc3NldF9pZCwgZmxhZy5hc191aW50NjQoKSkKICAgIGRpZyAxCiAgICBkdXAKICAgIGRpZyAyCiAgICBjYWxsc3ViIF9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzUzLTc1NAogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgSGVhZGVyCiAgICAvLyBzZWxmLl91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdChhc3NldF9pZCkKICAgIGNhbGxzdWIgX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0CgphcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3MjcKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKYXJjODlfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX2Jvb2xfZmFsc2VANDoKICAgIGludGNfMSAvLyAwCiAgICBiIGFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ19ib29sX21lcmdlQDUKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfc2V0X2ltbXV0YWJsZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3NldF9pbW11dGFibGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc1NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc2OC03NjkKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfc2V0X2ZsYWdfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGR1cAogICAgY2FsbHN1YiBfY2hlY2tfc2V0X2ZsYWdfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NzEtNzcyCiAgICAvLyAjIFNldCBJbW11dGFibGUgRmxhZwogICAgLy8gc2VsZi5fc2V0X2lycmV2ZXJzaWJsZV9mbGFnX3ZhbHVlKGFzc2V0X2lkLCBVSW50NjQoZmxnLklSUl9GTEdfSU1NVVRBQkxFKSkKICAgIGR1cAogICAgcHVzaGludCA3CiAgICBjYWxsc3ViIF9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Nzc0LTc3NQogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgSGVhZGVyCiAgICAvLyBzZWxmLl91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdChhc3NldF9pZCkKICAgIGNhbGxzdWIgX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc1NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9wYXJ0aWFsX3VyaVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2dldF9tZXRhZGF0YV9wYXJ0aWFsX3VyaToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODA5CiAgICAvLyBhcmM5MF9ib3hfcXVlcnkoR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQuaWQsIEJ5dGVzKCkpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIGJ5dGVjXzEgLy8gMHgKICAgIGNhbGxzdWIgYXJjOTBfYm94X3F1ZXJ5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgwMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBkdXAKICAgIGxlbgogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YToKICAgIGJ5dGVjXzEgLy8gIiIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MTIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDE2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgzMgogICAgLy8gbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkgPD0gY29uc3QuTUFYX01FVEFEQVRBX1NJWkUKICAgIGJ0b2kKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50YyA2IC8vIDMwNTA2CiAgICA8PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzAtODMzCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkgPD0gY29uc3QuTUFYX01FVEFEQVRBX1NJWkUKICAgIC8vICksIGVyci5FWENFRURTX01BWF9NRVRBREFUQV9TSVpFCiAgICBhc3NlcnQgLy8gSW52YWxpZCBNZXRhZGF0YSBzaXplLCBleGNlZWRzIG1heGltdW0gYWxsb3dlZCBzaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ3CiAgICAvLyByZXR1cm4gYXNhIGluIHNlbGYuYXNzZXRfbWV0YWRhdGEKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzUKICAgIC8vIGlmIHNlbGYuX21ldGFkYXRhX2V4aXN0cyhhc3NldF9pZCk6CiAgICBieiBhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhX2Vsc2VfYm9keUA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgzNgogICAgLy8gbWV0YWRhdGFfc2l6ZSA9IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzc2V0X2lkKQogICAgZGlnIDEKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICBkdXAKICAgIGJ1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzcKICAgIC8vIGZsYXRfbWJyID0gVUludDY0KDApCiAgICBpbnRjXzEgLy8gMAogICAgYnVyeSA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgzOAogICAgLy8gaWYgbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkgPT0gbWV0YWRhdGFfc2l6ZToKICAgIGRpZyAxCiAgICA9PQogICAgYnogYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9lbHNlX2JvZHlANAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NDAKICAgIC8vIGRlbHRhX3NpemUgPSBVSW50NjQoMCkKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgzOQogICAgLy8gc2lnbiA9IFVJbnQ2NChlbnVtcy5NQlJfREVMVEFfTlVMTCkKICAgIGR1cAoKYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9hZnRlcl9pZl9lbHNlQDEwOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NTYKICAgIC8vIGRlbHRhX2Ftb3VudCA9IGZsYXRfbWJyICsgY29uc3QuQllURV9NQlIgKiBkZWx0YV9zaXplCiAgICBwdXNoaW50IDQwMAogICAgdW5jb3ZlciAyCiAgICAqCiAgICBkaWcgNQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NTgKICAgIC8vIHJldHVybiBhYmkuTWJyRGVsdGEoc2lnbj1hcmM0LlVJbnQ4KHNpZ24pLCBhbW91bnQ9ZGVsdGFfYW1vdW50KQogICAgc3dhcAogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIGludGNfMiAvLyA4CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDcgMQogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgxMgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgphcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhX2Vsc2VfYm9keUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NDEKICAgIC8vIGVsaWYgbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkgPiBtZXRhZGF0YV9zaXplOgogICAgZHVwCiAgICBkaWcgMwogICAgPgogICAgYnogYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9lbHNlX2JvZHlANgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NDIKICAgIC8vIHNpZ24gPSBVSW50NjQoZW51bXMuTUJSX0RFTFRBX1BPUykKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg0MwogICAgLy8gZGVsdGFfc2l6ZSA9IG5ld19tZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpIC0gbWV0YWRhdGFfc2l6ZQogICAgZGlnIDEKICAgIGRpZyA0CiAgICAtCiAgICBzd2FwCiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfYWZ0ZXJfaWZfZWxzZUAxMAoKYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9lbHNlX2JvZHlANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODQ1CiAgICAvLyBzaWduID0gVUludDY0KGVudW1zLk1CUl9ERUxUQV9ORUcpCiAgICBwdXNoaW50IDI1NQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NDYKICAgIC8vIGRlbHRhX3NpemUgPSBtZXRhZGF0YV9zaXplIC0gbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkKICAgIGRpZyAzCiAgICBkaWcgMgogICAgLQogICAgc3dhcAogICAgYiBhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhX2FmdGVyX2lmX2Vsc2VAMTAKCmFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfZWxzZV9ib2R5QDk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg0OAogICAgLy8gZmxhdF9tYnIgPSBVSW50NjQoY29uc3QuRkxBVF9NQlIpCiAgICBwdXNoaW50IDI1MDAKICAgIGJ1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NDkKICAgIC8vIHNpZ24gPSBVSW50NjQoZW51bXMuTUJSX0RFTFRBX1BPUykKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg1MS04NTIKICAgIC8vIGNvbnN0LkFTU0VUX01FVEFEQVRBX0JPWF9LRVlfU0laRQogICAgLy8gKyBjb25zdC5IRUFERVJfU0laRQogICAgcHVzaGludCA1OQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NTEtODUzCiAgICAvLyBjb25zdC5BU1NFVF9NRVRBREFUQV9CT1hfS0VZX1NJWkUKICAgIC8vICsgY29uc3QuSEVBREVSX1NJWkUKICAgIC8vICsgbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkKICAgIGRpZyAyCiAgICArCiAgICBzd2FwCiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfYWZ0ZXJfaWZfZWxzZUAxMAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9jaGVja19tZXRhZGF0YV9leGlzdHNbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9jaGVja19tZXRhZGF0YV9leGlzdHM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg2MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MTUKICAgIC8vIF9jcmVhdG9yLCBleGlzdHMgPSBvcC5Bc3NldFBhcmFtc0dldC5hc3NldF9jcmVhdG9yKGFzYSkKICAgIGR1cAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGNvdmVyIDIKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBpdG9iCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODc1LTg3OAogICAgLy8gcmV0dXJuIGFiaS5NZXRhZGF0YUV4aXN0ZW5jZSgKICAgIC8vICAgICBhc2FfZXhpc3RzPXNlbGYuX2FzYV9leGlzdHMoYXNzZXRfaWQpLAogICAgLy8gICAgIG1ldGFkYXRhX2V4aXN0cz1zZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpLAogICAgLy8gKQogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAzCiAgICBzZXRiaXQKICAgIGludGNfMCAvLyAxCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NjAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg4MAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODk1LTg5NgogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODk4CiAgICAvLyByZXR1cm4gc2VsZi5faXNfaW1tdXRhYmxlKGFzc2V0X2lkKSBvciBhc3NldF9pZC5tYW5hZ2VyID09IEdsb2JhbC56ZXJvX2FkZHJlc3MKICAgIGJueiBhcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVfYm9vbF90cnVlQDMKICAgIGR1cAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldE1hbmFnZXIKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIGdsb2JhbCBaZXJvQWRkcmVzcwogICAgPT0KICAgIGJ6IGFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZV9ib29sX2ZhbHNlQDQKCmFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZV9ib29sX3RydWVAMzoKICAgIGludGNfMCAvLyAxCgphcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVfYm9vbF9tZXJnZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4ODAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCmFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZV9ib29sX2ZhbHNlQDQ6CiAgICBpbnRjXzEgLy8gMAogICAgYiBhcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVfYm9vbF9tZXJnZUA1CgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2lzX21ldGFkYXRhX3Nob3J0W3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfaXNfbWV0YWRhdGFfc2hvcnQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkwMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkxNS05MTYKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkdXAKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTcKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU4CiAgICAvLyBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5CiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2Ny03MAogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfaWRlbnRpZmllcnMoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMzLTEzNgogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5MQVNUX01PRElGSUVEX1JPVU5EX1NJWkUsCiAgICAvLyApCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICBwdXNoaW50IDM1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNQogICAgLy8gbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIGludGNfMiAvLyA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzMy0xMzYKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMyLTEzNwogICAgLy8gcmV0dXJuIG9wLmJ0b2koCiAgICAvLyAgICAgc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICAgICAgbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIC8vICAgICApCiAgICAvLyApCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkxOC05MjEKICAgIC8vIHJldHVybiBhYmkuTXV0YWJsZUZsYWcoCiAgICAvLyAgICAgZmxhZz1zZWxmLl9pc19zaG9ydChhc3NldF9pZCksCiAgICAvLyAgICAgbGFzdF9tb2RpZmllZF9yb3VuZD1zZWxmLl9nZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc3NldF9pZCksCiAgICAvLyApCiAgICBieXRlY18yIC8vIDB4MDAKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDMKICAgIHNldGJpdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkwMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9oZWFkZXJbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfaGVhZGVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5MjMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5MzktOTQwCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NgogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTYtNTkKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgLy8gKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU3CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1OAogICAgLy8gbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3My03NQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgLy8gKQogICAgZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICBpbnRjXzAgLy8gMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkaWcgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjItMTI0CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSEFTSF9TSVpFCiAgICAvLyApCiAgICBkaWcgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjMKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSEFTSF9TSVpFCiAgICBwdXNoaW50cyAzIDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMi0xMjQKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIGxlbmd0aD1jb25zdC5NRVRBREFUQV9IQVNIX1NJWkUKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk0OAogICAgLy8gaGFzaD1hYmkuSGFzaChzZWxmLl9nZXRfbWV0YWRhdGFfaGFzaChhc3NldF9pZCkpLAogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIKICAgID09CiAgICBhc3NlcnQgLy8gZXhwZWN0ZWQgYnl0ZXMgdG8gYmUgbGVuZ3RoIDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzMy0xMzYKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gKQogICAgZGlnIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTM0CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIHB1c2hpbnQgMzUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTM1CiAgICAvLyBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgaW50Y18yIC8vIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMzLTEzNgogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5MQVNUX01PRElGSUVEX1JPVU5EX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMzItMTM3CiAgICAvLyByZXR1cm4gb3AuYnRvaSgKICAgIC8vICAgICBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ3LTE1MAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5ERVBSRUNBVEVEX0JZX1NJWkUsCiAgICAvLyApCiAgICB1bmNvdmVyIDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIHB1c2hpbnQgNDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ5CiAgICAvLyBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgaW50Y18yIC8vIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ3LTE1MAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5ERVBSRUNBVEVEX0JZX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDYtMTUxCiAgICAvLyByZXR1cm4gb3AuYnRvaSgKICAgIC8vICAgICBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgICAgICBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTQyLTk1MQogICAgLy8gcmV0dXJuIGFiaS5NZXRhZGF0YUhlYWRlcigKICAgIC8vICAgICBpZGVudGlmaWVycz1hcmM0LkJ5dGUuZnJvbV9ieXRlcyhzZWxmLl9nZXRfbWV0YWRhdGFfaWRlbnRpZmllcnMoYXNzZXRfaWQpKSwKICAgIC8vICAgICByZXZlcnNpYmxlX2ZsYWdzPWFyYzQuQnl0ZS5mcm9tX2J5dGVzKHNlbGYuX2dldF9yZXZlcnNpYmxlX2ZsYWdzKGFzc2V0X2lkKSksCiAgICAvLyAgICAgaXJyZXZlcnNpYmxlX2ZsYWdzPWFyYzQuQnl0ZS5mcm9tX2J5dGVzKAogICAgLy8gICAgICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzc2V0X2lkKQogICAgLy8gICAgICksCiAgICAvLyAgICAgaGFzaD1hYmkuSGFzaChzZWxmLl9nZXRfbWV0YWRhdGFfaGFzaChhc3NldF9pZCkpLAogICAgLy8gICAgIGxhc3RfbW9kaWZpZWRfcm91bmQ9c2VsZi5fZ2V0X2xhc3RfbW9kaWZpZWRfcm91bmQoYXNzZXRfaWQpLAogICAgLy8gICAgIGRlcHJlY2F0ZWRfYnk9c2VsZi5fZ2V0X2RlcHJlY2F0ZWRfYnkoYXNzZXRfaWQpLAogICAgLy8gKQogICAgdW5jb3ZlciA1CiAgICB1bmNvdmVyIDUKICAgIGNvbmNhdAogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkyMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9wYWdpbmF0aW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX3BhZ2luYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk1MwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk2Ny05NjgKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkdXAKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3MQogICAgLy8gbWV0YWRhdGFfc2l6ZT1hcmM0LlVJbnQxNihzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkpLAogICAgZHVwCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIzMgogICAgLy8gbiA9IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkKICAgIHN3YXAKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6MzAKICAgIC8vIHJldHVybiAobnVtICsgKGRlbiAtIDEpKSAvLyBkZW4KICAgIGludGMgNSAvLyAxMDA2CiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIzMwogICAgLy8gcmV0dXJuIGNlaWxfZGl2KG51bT1uLCBkZW49VUludDY0KGNvbnN0LlBBR0VfU0laRSkpCiAgICBpbnRjIDQgLy8gMTAwNwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjMwCiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3MwogICAgLy8gdG90YWxfcGFnZXM9YXJjNC5VSW50OChzZWxmLl9nZXRfdG90YWxfcGFnZXMoYXNzZXRfaWQpKSwKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBpbnRjXzIgLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTcwLTk3NAogICAgLy8gcmV0dXJuIGFiaS5QYWdpbmF0aW9uKAogICAgLy8gICAgIG1ldGFkYXRhX3NpemU9YXJjNC5VSW50MTYoc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpKSwKICAgIC8vICAgICBwYWdlX3NpemU9YXJjNC5VSW50MTYoY29uc3QuUEFHRV9TSVpFKSwKICAgIC8vICAgICB0b3RhbF9wYWdlcz1hcmM0LlVJbnQ4KHNlbGYuX2dldF90b3RhbF9wYWdlcyhhc3NldF9pZCkpLAogICAgLy8gKQogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NzIKICAgIC8vIHBhZ2Vfc2l6ZT1hcmM0LlVJbnQxNihjb25zdC5QQUdFX1NJWkUpLAogICAgcHVzaGJ5dGVzIDB4MDNlZgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NzAtOTc0CiAgICAvLyByZXR1cm4gYWJpLlBhZ2luYXRpb24oCiAgICAvLyAgICAgbWV0YWRhdGFfc2l6ZT1hcmM0LlVJbnQxNihzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkpLAogICAgLy8gICAgIHBhZ2Vfc2l6ZT1hcmM0LlVJbnQxNihjb25zdC5QQUdFX1NJWkUpLAogICAgLy8gICAgIHRvdGFsX3BhZ2VzPWFyYzQuVUludDgoc2VsZi5fZ2V0X3RvdGFsX3BhZ2VzKGFzc2V0X2lkKSksCiAgICAvLyApCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9nZXRfbWV0YWRhdGFbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGE6CiAgICBieXRlY18xIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OTMtOTk0CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzIKICAgIC8vIG4gPSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjMwCiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICBpbnRjIDUgLy8gMTAwNgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzMKICAgIC8vIHJldHVybiBjZWlsX2RpdihudW09biwgZGVuPVVJbnQ2NChjb25zdC5QQUdFX1NJWkUpKQogICAgaW50YyA0IC8vIDEwMDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTozMAogICAgLy8gcmV0dXJuIChudW0gKyAoZGVuIC0gMSkpIC8vIGRlbgogICAgLwogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5NgogICAgLy8gaWYgdG90YWxfcGFnZXMgPiAwOgogICAgYnogYXJjODlfZ2V0X21ldGFkYXRhX2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5NwogICAgLy8gYXNzZXJ0IHBhZ2UuYXNfdWludDY0KCkgPCB0b3RhbF9wYWdlcywgZXJyLlBBR0VfSURYX0lOVkFMSUQKICAgIGJ0b2kKICAgIGR1cAogICAgZGlnIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgPAogICAgYXNzZXJ0IC8vIEludmFsaWQgcGFnZSBpbmRleAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OTgKICAgIC8vIGhhc19uZXh0X3BhZ2UgPSBwYWdlLmFzX3VpbnQ2NCgpIDwgdG90YWxfcGFnZXMgLSAxCiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZGlnIDEKICAgID4KICAgIGJ1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OTkKICAgIC8vIHBhZ2VfY29udGVudCA9IHNlbGYuX2dldF9tZXRhZGF0YV9wYWdlKGFzc2V0X2lkLCBwYWdlLmFzX3VpbnQ2NCgpKQogICAgZGlnIDIKICAgIHN3YXAKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9wYWdlCgphcmM4OV9nZXRfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMzMKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGRpZyAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICBwdXNoaW50IDM1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNQogICAgLy8gbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIGludGNfMiAvLyA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzMy0xMzYKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMyLTEzNwogICAgLy8gcmV0dXJuIG9wLmJ0b2koCiAgICAvLyAgICAgc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICAgICAgbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIC8vICAgICApCiAgICAvLyApCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDUtMTAwOQogICAgLy8gcmV0dXJuIGFiaS5QYWdpbmF0ZWRNZXRhZGF0YSgKICAgIC8vICAgICBoYXNfbmV4dF9wYWdlPWhhc19uZXh0X3BhZ2UsCiAgICAvLyAgICAgbGFzdF9tb2RpZmllZF9yb3VuZD1zZWxmLl9nZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc3NldF9pZCksCiAgICAvLyAgICAgcGFnZV9jb250ZW50PXBhZ2VfY29udGVudCwKICAgIC8vICkKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIGRpZyA2CiAgICBzZXRiaXQKICAgIHN3YXAKICAgIGl0b2IKICAgIGNvbmNhdAogICAgc3dhcAogICAgZHVwCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHN3YXAKICAgIHB1c2hieXRlcyAweDAwMGIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgphcmM4OV9nZXRfbWV0YWRhdGFfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDEKICAgIC8vIGFzc2VydCBwYWdlLmFzX3VpbnQ2NCgpID09IDAsIGVyci5QQUdFX0lEWF9JTlZBTElECiAgICBidG9pCiAgICAhCiAgICBhc3NlcnQgLy8gSW52YWxpZCBwYWdlIGluZGV4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDIKICAgIC8vIGhhc19uZXh0X3BhZ2UgPSBGYWxzZQogICAgaW50Y18xIC8vIDAKICAgIGJ1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDAzCiAgICAvLyBwYWdlX2NvbnRlbnQgPSBCeXRlcygpCiAgICBieXRlY18xIC8vIDB4CiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDQKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDExCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAzMC0xMDMxCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzIKICAgIC8vIGFzc2VydCBzaXplLmFzX3VpbnQ2NCgpIDw9IGNvbnN0LlBBR0VfU0laRSwgZXJyLkVYQ0VFRFNfUEFHRV9TSVpFCiAgICBidG9pCiAgICBkdXAKICAgIGludGMgNCAvLyAxMDA3CiAgICA8PQogICAgYXNzZXJ0IC8vIFBheWxvYWQgZXhjZWVkcyBwYWdlIHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAzMwogICAgLy8gYXNzZXJ0IG9mZnNldC5hc191aW50NjQoKSArIHNpemUuYXNfdWludDY0KCkgPD0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICBzd2FwCiAgICBidG9pCiAgICBkdXAKICAgIGRpZyAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzMtMTAzNQogICAgLy8gYXNzZXJ0IG9mZnNldC5hc191aW50NjQoKSArIHNpemUuYXNfdWludDY0KCkgPD0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICAvLyAgICAgYXNzZXRfaWQKICAgIC8vICksIGVyci5FWENFRURTX01FVEFEQVRBX1NJWkUKICAgIGRpZyAzCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgPD0KICAgIGFzc2VydCAvLyBTbGljZSBleGNlZWRzIG1ldGFkYXRhIHJhbmdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzcKICAgIC8vIG1ldGFkYXRhX3NsaWNlID0gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNzZXRfaWQpLmV4dHJhY3QoCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAzOAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgb2Zmc2V0LmFzX3VpbnQ2NCgpLCBsZW5ndGg9c2l6ZS5hc191aW50NjQoKQogICAgcHVzaGludCA1MQogICAgdW5jb3ZlciAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzctMTAzOQogICAgLy8gbWV0YWRhdGFfc2xpY2UgPSBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc3NldF9pZCkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEEgKyBvZmZzZXQuYXNfdWludDY0KCksIGxlbmd0aD1zaXplLmFzX3VpbnQ2NCgpCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMTEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgZHVwCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlcl9oYXNoW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlcl9oYXNoOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDQyCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA1Ny0xMDU4CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDYwCiAgICAvLyByZXR1cm4gYWJpLkhhc2goc2VsZi5fY29tcHV0ZV9oZWFkZXJfaGFzaChhc3NldF9pZCkpCiAgICBjYWxsc3ViIF9jb21wdXRlX2hlYWRlcl9oYXNoCiAgICBkdXAKICAgIGxlbgogICAgcHVzaGludCAzMgogICAgPT0KICAgIGFzc2VydCAvLyBleHBlY3RlZCBieXRlcyB0byBiZSBsZW5ndGggMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA0MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9wYWdlX2hhc2hbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfcGFnZV9oYXNoOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDYyCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDc5LTEwODAKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjMyCiAgICAvLyBuID0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKQogICAgZGlnIDEKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6MzAKICAgIC8vIHJldHVybiAobnVtICsgKGRlbiAtIDEpKSAvLyBkZW4KICAgIGludGMgNSAvLyAxMDA2CiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIzMwogICAgLy8gcmV0dXJuIGNlaWxfZGl2KG51bT1uLCBkZW49VUludDY0KGNvbnN0LlBBR0VfU0laRSkpCiAgICBpbnRjIDQgLy8gMTAwNwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjMwCiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICAvCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwODIKICAgIC8vIGlmIHRvdGFsX3BhZ2VzID4gMDoKICAgIGR1cAogICAgYXNzZXJ0IC8vIE1ldGFkYXRhIGlzIGVtcHR5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwODMKICAgIC8vIGFzc2VydCBwYWdlLmFzX3VpbnQ2NCgpIDwgdG90YWxfcGFnZXMsIGVyci5QQUdFX0lEWF9JTlZBTElECiAgICBzd2FwCiAgICBidG9pCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgPAogICAgYXNzZXJ0IC8vIEludmFsaWQgcGFnZSBpbmRleAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDg3CiAgICAvLyBwYWdlX2NvbnRlbnQgPSBzZWxmLl9nZXRfbWV0YWRhdGFfcGFnZShhc3NldF9pZCwgcGFnZS5hc191aW50NjQoKSkKICAgIGR1cDIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9wYWdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwODgKICAgIC8vIHBhZ2VfaGFzaCA9IHNlbGYuX2NvbXB1dGVfcGFnZV9oYXNoKGFzc2V0X2lkLCBwYWdlLmFzX3VpbnQ2NCgpLCBwYWdlX2NvbnRlbnQpCiAgICBjYWxsc3ViIF9jb21wdXRlX3BhZ2VfaGFzaAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDg5CiAgICAvLyByZXR1cm4gYWJpLkhhc2gocGFnZV9oYXNoKQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIKICAgID09CiAgICBhc3NlcnQgLy8gZXhwZWN0ZWQgYnl0ZXMgdG8gYmUgbGVuZ3RoIDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwNjIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9nZXRfbWV0YWRhdGFfaGFzaFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2dldF9tZXRhZGF0YV9oYXNoOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDkxCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwNi0xMTA3CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjIKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMwogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIGxlbmd0aD1jb25zdC5NRVRBREFUQV9IQVNIX1NJWkUKICAgIHB1c2hpbnRzIDMgMzIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTIyLTEyNAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSEFTSCwgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0hBU0hfU0laRQogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwOQogICAgLy8gcmV0dXJuIGFiaS5IYXNoKHNlbGYuX2dldF9tZXRhZGF0YV9oYXNoKGFzc2V0X2lkKSkKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGV4cGVjdGVkIGJ5dGVzIHRvIGJlIGxlbmd0aCAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDkxCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX3N0cmluZ19ieV9rZXlbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfc3RyaW5nX2J5X2tleToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTExMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBpbnRjXzMgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTMwLTExMzEKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEzMy0xMTM4CiAgICAvLyAjIEZldGNoIGtleSdzIHZhbHVlCiAgICAvLyAjIOKaoO+4jyBXQVJOSU5HOiBUaGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgY2F1c2UgQVZNIHJ1bnRpbWUgZXJyb3I6CiAgICAvLyAjIC0gVGhlIHNob3J0IE1ldGFkYXRhIGlzIG5vdCBhIHZhbGlkIFVURi04IGVuY29kZWQgSlNPTiBvYmplY3QKICAgIC8vICMgLSBUaGUgdG9wLWxldmVsIGtleSBkb2VzIG5vdCBleGlzdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5J3MgdmFsdWUgaXMgbm90IGEgSlNPTiBTdHJpbmcKICAgIC8vIG9iaiA9IHNlbGYuX2dldF9zaG9ydF9tZXRhZGF0YShhc3NldF9pZCkKICAgIHN3YXAKICAgIGNhbGxzdWIgX2dldF9zaG9ydF9tZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTM5CiAgICAvLyB2YWx1ZSA9IG9wLkpzb25SZWYuanNvbl9zdHJpbmcob2JqLCBrZXkuYnl0ZXMpCiAgICBzd2FwCiAgICBqc29uX3JlZiBKU09OU3RyaW5nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExNDEtMTE0MgogICAgLy8gIyBQb3N0Y29uZGl0aW9ucwogICAgLy8gYXNzZXJ0IHZhbHVlLmxlbmd0aCA8PSBjb25zdC5QQUdFX1NJWkUsIGVyci5FWENFRURTX1BBR0VfU0laRQogICAgZHVwCiAgICBsZW4KICAgIGR1cAogICAgaW50YyA0IC8vIDEwMDcKICAgIDw9CiAgICBhc3NlcnQgLy8gUGF5bG9hZCBleGNlZWRzIHBhZ2Ugc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTExCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX3VpbnQ2NF9ieV9rZXlbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfdWludDY0X2J5X2tleToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE0NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBpbnRjXzMgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICBleHRyYWN0IDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTY1LTExNjYKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE2OC0xMTczCiAgICAvLyAjIEZldGNoIGtleSdzIHZhbHVlCiAgICAvLyAjIOKaoO+4jyBXQVJOSU5HOiBUaGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgY2F1c2UgQVZNIHJ1bnRpbWUgZXJyb3I6CiAgICAvLyAjIC0gVGhlIHNob3J0IE1ldGFkYXRhIGlzIG5vdCBhIHZhbGlkIFVURi04IGVuY29kZWQgSlNPTiBvYmplY3QKICAgIC8vICMgLSBUaGUgdG9wLWxldmVsIGtleSBkb2VzIG5vdCBleGlzdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5J3MgdmFsdWUgaXMgbm90IGEgSlNPTiBVaW50NjQKICAgIC8vIG9iaiA9IHNlbGYuX2dldF9zaG9ydF9tZXRhZGF0YShhc3NldF9pZCkKICAgIHN3YXAKICAgIGNhbGxzdWIgX2dldF9zaG9ydF9tZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTc0CiAgICAvLyB2YWx1ZSA9IG9wLkpzb25SZWYuanNvbl91aW50NjQob2JqLCBrZXkuYnl0ZXMpCiAgICBzd2FwCiAgICBqc29uX3JlZiBKU09OVWludDY0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExNDYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgaXRvYgogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9nZXRfbWV0YWRhdGFfb2JqZWN0X2J5X2tleVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2dldF9tZXRhZGF0YV9vYmplY3RfYnlfa2V5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExOTctMTE5OAogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjAwLTEyMDUKICAgIC8vICMgRmV0Y2gga2V5J3MgdmFsdWUKICAgIC8vICMg4pqg77iPIFdBUk5JTkc6IFRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBjYXVzZSBBVk0gcnVudGltZSBlcnJvcjoKICAgIC8vICMgLSBUaGUgc2hvcnQgTWV0YWRhdGEgaXMgbm90IGEgdmFsaWQgVVRGLTggZW5jb2RlZCBKU09OIG9iamVjdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5IGRvZXMgbm90IGV4aXN0CiAgICAvLyAjIC0gVGhlIHRvcC1sZXZlbCBrZXkncyB2YWx1ZSBpcyBub3QgYSBKU09OIE9iamVjdAogICAgLy8gb2JqID0gc2VsZi5fZ2V0X3Nob3J0X21ldGFkYXRhKGFzc2V0X2lkKQogICAgc3dhcAogICAgY2FsbHN1YiBfZ2V0X3Nob3J0X21ldGFkYXRhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMDYKICAgIC8vIHZhbHVlID0gb3AuSnNvblJlZi5qc29uX29iamVjdChvYmosIGtleS5ieXRlcykKICAgIHN3YXAKICAgIGpzb25fcmVmIEpTT05PYmplY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTIwOC0xMjA5CiAgICAvLyAjIFBvc3Rjb25kaXRpb25zCiAgICAvLyBhc3NlcnQgdmFsdWUubGVuZ3RoIDw9IGNvbnN0LlBBR0VfU0laRSwgZXJyLkVYQ0VFRFNfUEFHRV9TSVpFCiAgICBkdXAKICAgIGxlbgogICAgZHVwCiAgICBpbnRjIDQgLy8gMTAwNwogICAgPD0KICAgIGFzc2VydCAvLyBQYXlsb2FkIGV4Y2VlZHMgcGFnZSBzaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExNzgKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9nZXRfbWV0YWRhdGFfYjY0X2J5dGVzX2J5X2tleVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjEzCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIGV4dHJhY3QgMiAwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTIzMC0xMjMxCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMzMKICAgIC8vIGI2NF9lbmNvZGluZy5hc191aW50NjQoKSA8PSBlbnVtcy5CNjRfU1REX0VOQ09ESU5HCiAgICBidG9pCiAgICBkdXAKICAgIGludGNfMCAvLyAxCiAgICA8PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjMyLTEyMzQKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgYjY0X2VuY29kaW5nLmFzX3VpbnQ2NCgpIDw9IGVudW1zLkI2NF9TVERfRU5DT0RJTkcKICAgIC8vICksIGVyci5CNjRfRU5DT0RJTkdfSU5WQUxJRAogICAgYXNzZXJ0IC8vIEludmFsaWQgYmFzZTY0IGVuY29kaW5nLCBtdXN0IGJlIDAgKFVSTCBzYWZlKSBvciAxIChTdGQpCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMzYtMTI0MQogICAgLy8gIyBGZXRjaCBrZXkncyB2YWx1ZQogICAgLy8gIyDimqDvuI8gV0FSTklORzogVGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGNhdXNlIEFWTSBydW50aW1lIGVycm9yOgogICAgLy8gIyAtIFRoZSBzaG9ydCBNZXRhZGF0YSBpcyBub3QgYSB2YWxpZCBVVEYtOCBlbmNvZGVkIEpTT04gb2JqZWN0CiAgICAvLyAjIC0gVGhlIHRvcC1sZXZlbCBrZXkgZG9lcyBub3QgZXhpc3QKICAgIC8vICMgLSBUaGUgdG9wLWxldmVsIGtleSdzIHZhbHVlIGlzIG5vdCBhIEpTT04gU3RyaW5nCiAgICAvLyBvYmogPSBzZWxmLl9nZXRfc2hvcnRfbWV0YWRhdGEoYXNzZXRfaWQpCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgX2dldF9zaG9ydF9tZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjQyCiAgICAvLyB2YWx1ZSA9IG9wLkpzb25SZWYuanNvbl9zdHJpbmcob2JqLCBrZXkuYnl0ZXMpCiAgICB1bmNvdmVyIDIKICAgIGpzb25fcmVmIEpTT05TdHJpbmcKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI0NC0xMjQ4CiAgICAvLyAjIERlY29kZSB2YWx1ZQogICAgLy8gIyDimqDvuI8gV0FSTklORzogVGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGNhdXNlIEFWTSBydW50aW1lIGVycm9yOgogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5J3MgdmFsdWUgaXMgbm90IGEgdmFsaWQgYmFzZTY0LWVuY29kaW5nIHN0cmluZyBmb3IKICAgIC8vICMgdGhlIGNob3NlbiBlbmNvZGluZy4KICAgIC8vIGlmIGI2NF9lbmNvZGluZy5hc191aW50NjQoKSA9PSBlbnVtcy5CNjRfVVJMX0VOQ09ESU5HOgogICAgYm56IGFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5X2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNDkKICAgIC8vIGRlY29kZWRfdmFsdWUgPSBvcC5iYXNlNjRfZGVjb2RlKG9wLkJhc2U2NC5VUkxFbmNvZGluZywgdmFsdWUpCiAgICBiYXNlNjRfZGVjb2RlIFVSTEVuY29kaW5nCgphcmM4OV9nZXRfbWV0YWRhdGFfYjY0X2J5dGVzX2J5X2tleV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNTMtMTI1NAogICAgLy8gIyBQb3N0Y29uZGl0aW9ucwogICAgLy8gYXNzZXJ0IGRlY29kZWRfdmFsdWUubGVuZ3RoIDw9IGNvbnN0LlBBR0VfU0laRSwgZXJyLkVYQ0VFRFNfUEFHRV9TSVpFCiAgICBkdXAKICAgIGxlbgogICAgZHVwCiAgICBpbnRjIDQgLy8gMTAwNwogICAgPD0KICAgIGFzc2VydCAvLyBQYXlsb2FkIGV4Y2VlZHMgcGFnZSBzaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKYXJjODlfZ2V0X21ldGFkYXRhX2I2NF9ieXRlc19ieV9rZXlfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNTEKICAgIC8vIGRlY29kZWRfdmFsdWUgPSBvcC5iYXNlNjRfZGVjb2RlKG9wLkJhc2U2NC5TdGRFbmNvZGluZywgdmFsdWUpCiAgICBiYXNlNjRfZGVjb2RlIFN0ZEVuY29kaW5nCiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5X2FmdGVyX2lmX2Vsc2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS53aXRoZHJhd19iYWxhbmNlX2V4Y2Vzc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CndpdGhkcmF3X2JhbGFuY2VfZXhjZXNzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc0CiAgICAvLyBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLmJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc1CiAgICAvLyAtIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc0LTEyNzUKICAgIC8vIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MuYmFsYW5jZQogICAgLy8gLSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLm1pbl9iYWxhbmNlCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNzctMTI4MAogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPUdsb2JhbC5jcmVhdG9yX2FkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50PWV4Y2Vzc19iYWxhbmNlLAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc4CiAgICAvLyByZWNlaXZlcj1HbG9iYWwuY3JlYXRvcl9hZGRyZXNzLAogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc3CiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICBpbnRjXzAgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI3Ny0xMjgwCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICAvLyAgICAgcmVjZWl2ZXI9R2xvYmFsLmNyZWF0b3JfYWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ9ZXhjZXNzX2JhbGFuY2UsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjY1CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX3NldF9pcnJldmVyc2libGVfZmxhZ192YWx1ZShhc2E6IHVpbnQ2NCwgZmxhZzogdWludDY0KSAtPiB2b2lkOgpfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX3ZhbHVlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTMKICAgIC8vIGRlZiBfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX3ZhbHVlKHNlbGYsIGFzYTogQXNzZXQsIGZsYWc6IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NwogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE2CiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIHB1c2hpbnQgNwogICAgZnJhbWVfZGlnIC0xCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExNwogICAgLy8gVHJ1ZSwgICMgbm9xYTogRkJUMDAzCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTQtMTE4CiAgICAvLyB1cGRhdGVkX2ZsYWdzID0gb3Auc2V0Yml0X2J5dGVzKAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICAgICBUcnVlLCAgIyBub3FhOiBGQlQwMDMKICAgIC8vICkKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDMtMTA1CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2dldF9tZXRhZGF0YV9zaXplKGFzYTogdWludDY0KSAtPiB1aW50NjQ6Cl9nZXRfbWV0YWRhdGFfc2l6ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU5CiAgICAvLyBkZWYgX2dldF9tZXRhZGF0YV9zaXplKHNlbGYsIGFzYTogQXNzZXQpIC0+IFVJbnQ2NDoKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNjAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmxlbmd0aCAtIGNvbnN0LkhFQURFUl9TSVpFCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGFzc2VydCAvLyBjaGVjayBCb3ggZXhpc3RzCiAgICBwdXNoaW50IDUxCiAgICAtCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2FwcGVuZF9wYXlsb2FkKGFzYTogdWludDY0LCBwYXlsb2FkOiBieXRlcykgLT4gdm9pZDoKX2FwcGVuZF9wYXlsb2FkOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNjIKICAgIC8vIGRlZiBfYXBwZW5kX3BheWxvYWQoc2VsZiwgYXNhOiBBc3NldCwgcGF5bG9hZDogQnl0ZXMpIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTYzCiAgICAvLyBvbGRfYXNzZXRfbWV0YWRhdGFfYm94X3NpemUgPSBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmxlbmd0aAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGFzc2VydCAvLyBjaGVjayBCb3ggZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE2NQogICAgLy8gbmV3X3NpemU9b2xkX2Fzc2V0X21ldGFkYXRhX2JveF9zaXplICsgcGF5bG9hZC5sZW5ndGgKICAgIGZyYW1lX2RpZyAtMQogICAgbGVuCiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNjQtMTY2CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlc2l6ZSgKICAgIC8vICAgICBuZXdfc2l6ZT1vbGRfYXNzZXRfbWV0YWRhdGFfYm94X3NpemUgKyBwYXlsb2FkLmxlbmd0aAogICAgLy8gKQogICAgZGlnIDIKICAgIHN3YXAKICAgIGJveF9yZXNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTY3LTE2OQogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PW9sZF9hc3NldF9tZXRhZGF0YV9ib3hfc2l6ZSwgdmFsdWU9cGF5bG9hZAogICAgLy8gKQogICAgZnJhbWVfZGlnIC0xCiAgICBib3hfcmVwbGFjZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9zZXRfbWV0YWRhdGFfcGF5bG9hZChhc2E6IHVpbnQ2NCwgbWV0YWRhdGFfc2l6ZTogdWludDY0LCBwYXlsb2FkOiBieXRlcykgLT4gdm9pZDoKX3NldF9tZXRhZGF0YV9wYXlsb2FkOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMDEtMjAzCiAgICAvLyBkZWYgX3NldF9tZXRhZGF0YV9wYXlsb2FkKAogICAgLy8gICAgIHNlbGYsIGFzYTogQXNzZXQsIG1ldGFkYXRhX3NpemU6IFVJbnQ2NCwgcGF5bG9hZDogQnl0ZXMKICAgIC8vICkgLT4gTm9uZToKICAgIHByb3RvIDMgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMDQtMjA1CiAgICAvLyAjIEVyYXNlIGV4aXN0aW5nIG1ldGFkYXRhIHBheWxvYWQKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVzaXplKG5ld19zaXplPVVJbnQ2NChjb25zdC5IRUFERVJfU0laRSkpCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGR1cAogICAgcHVzaGludCA1MQogICAgYm94X3Jlc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMDctMjA4CiAgICAvLyAjIEFwcGVuZCBwcm92aWRlZCBwYXlsb2FkCiAgICAvLyBzZWxmLl9hcHBlbmRfcGF5bG9hZChhc2EsIHBheWxvYWQpCiAgICBmcmFtZV9kaWcgLTMKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfYXBwZW5kX3BheWxvYWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjA5CiAgICAvLyBhc3NlcnQgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKSA8PSBtZXRhZGF0YV9zaXplLCBlcnIuUEFZTE9BRF9PVkVSRkxPVwogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgZnJhbWVfZGlnIC0yCiAgICA8PQogICAgYXNzZXJ0IC8vIFBheWxvYWQgb3ZlcmZsb3csIGV4Y2VlZHMgbWV0YWRhdGEgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTEtMjEyCiAgICAvLyAjIEFwcGVuZCBzdGFnZWQgZXh0cmEgcGF5bG9hZCAoaW4gdGhlIHNhbWUgR3JvdXAsIGlmIGFueSkKICAgIC8vIGdyb3VwX3NpemUgPSBHbG9iYWwuZ3JvdXBfc2l6ZQogICAgZ2xvYmFsIEdyb3VwU2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTMKICAgIC8vIGdyb3VwX2luZGV4ID0gVHhuLmdyb3VwX2luZGV4CiAgICB0eG4gR3JvdXBJbmRleAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTQKICAgIC8vIGZvciBpZHggaW4gdXJhbmdlKGdyb3VwX2luZGV4ICsgMSwgZ3JvdXBfc2l6ZSk6CiAgICBpbnRjXzAgLy8gMQogICAgKwoKX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Zvcl9oZWFkZXJAMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjE0CiAgICAvLyBmb3IgaWR4IGluIHVyYW5nZShncm91cF9pbmRleCArIDEsIGdyb3VwX3NpemUpOgogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAxCiAgICA8CiAgICBieiBfc2V0X21ldGFkYXRhX3BheWxvYWRfYWZ0ZXJfZm9yQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTgyCiAgICAvLyB0eG4udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsCiAgICBmcmFtZV9kaWcgMgogICAgZ3R4bnMgVHlwZUVudW0KICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxODItMTg0CiAgICAvLyB0eG4udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsCiAgICAvLyBhbmQgdHhuLmFwcF9pZCA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZAogICAgLy8gYW5kIHR4bi5vbl9jb21wbGV0aW9uID09IE9uQ29tcGxldGVBY3Rpb24uTm9PcAogICAgYnogX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Jvb2xfZmFsc2VAMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTgzCiAgICAvLyBhbmQgdHhuLmFwcF9pZCA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZAogICAgZnJhbWVfZGlnIDIKICAgIGd0eG5zIEFwcGxpY2F0aW9uSUQKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTgyLTE4NAogICAgLy8gdHhuLnR5cGUgPT0gVHJhbnNhY3Rpb25UeXBlLkFwcGxpY2F0aW9uQ2FsbAogICAgLy8gYW5kIHR4bi5hcHBfaWQgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQKICAgIC8vIGFuZCB0eG4ub25fY29tcGxldGlvbiA9PSBPbkNvbXBsZXRlQWN0aW9uLk5vT3AKICAgIGJ6IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE4NAogICAgLy8gYW5kIHR4bi5vbl9jb21wbGV0aW9uID09IE9uQ29tcGxldGVBY3Rpb24uTm9PcAogICAgZnJhbWVfZGlnIDIKICAgIGd0eG5zIE9uQ29tcGxldGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxODItMTg0CiAgICAvLyB0eG4udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsCiAgICAvLyBhbmQgdHhuLmFwcF9pZCA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZAogICAgLy8gYW5kIHR4bi5vbl9jb21wbGV0aW9uID09IE9uQ29tcGxldGVBY3Rpb24uTm9PcAogICAgYm56IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDEzCiAgICBpbnRjXzAgLy8gMQoKX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Jvb2xfbWVyZ2VAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE4OS0xOTIKICAgIC8vIHNlbGYuX2lzX3JlZ2lzdHJ5X2NhbGwodHhuKQogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM0X01FVEhPRF9TRUxFQ1RPUl9BUkcpCiAgICAvLyA9PSBhcmM0LmFyYzRfc2lnbmF0dXJlKEFyYzg5SW50ZXJmYWNlLmFyYzg5X2V4dHJhX3BheWxvYWQpCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX0FTU0VUX0lEKSA9PSBvcC5pdG9iKGFzYS5pZCkKICAgIGJ6IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDE4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE5MAogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM0X01FVEhPRF9TRUxFQ1RPUl9BUkcpCiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18xIC8vIDAKICAgIGd0eG5zYXMgQXBwbGljYXRpb25BcmdzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE5MQogICAgLy8gPT0gYXJjNC5hcmM0X3NpZ25hdHVyZShBcmM4OUludGVyZmFjZS5hcmM4OV9leHRyYV9wYXlsb2FkKQogICAgYnl0ZWNfMyAvLyBtZXRob2QgImFyYzg5X2V4dHJhX3BheWxvYWQodWludDY0LGJ5dGVbXSl2b2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxOTAtMTkxCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzRfTUVUSE9EX1NFTEVDVE9SX0FSRykKICAgIC8vID09IGFyYzQuYXJjNF9zaWduYXR1cmUoQXJjODlJbnRlcmZhY2UuYXJjODlfZXh0cmFfcGF5bG9hZCkKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE4OS0xOTIKICAgIC8vIHNlbGYuX2lzX3JlZ2lzdHJ5X2NhbGwodHhuKQogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM0X01FVEhPRF9TRUxFQ1RPUl9BUkcpCiAgICAvLyA9PSBhcmM0LmFyYzRfc2lnbmF0dXJlKEFyYzg5SW50ZXJmYWNlLmFyYzg5X2V4dHJhX3BheWxvYWQpCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX0FTU0VUX0lEKSA9PSBvcC5pdG9iKGFzYS5pZCkKICAgIGJ6IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDE4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE5MgogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM4OV9FWFRSQV9QQVlMT0FEX0FSR19BU1NFVF9JRCkgPT0gb3AuaXRvYihhc2EuaWQpCiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18wIC8vIDEKICAgIGd0eG5zYXMgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgMAogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTg5LTE5MgogICAgLy8gc2VsZi5faXNfcmVnaXN0cnlfY2FsbCh0eG4pCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzRfTUVUSE9EX1NFTEVDVE9SX0FSRykKICAgIC8vID09IGFyYzQuYXJjNF9zaWduYXR1cmUoQXJjODlJbnRlcmZhY2UuYXJjODlfZXh0cmFfcGF5bG9hZCkKICAgIC8vIGFuZCB0eG4uYXBwX2FyZ3MoY29uc3QuQVJDODlfRVhUUkFfUEFZTE9BRF9BUkdfQVNTRVRfSUQpID09IG9wLml0b2IoYXNhLmlkKQogICAgYnogX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Jvb2xfZmFsc2VAMTgKICAgIGludGNfMCAvLyAxCgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYm9vbF9tZXJnZUAxOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjE2CiAgICAvLyBpZiBzZWxmLl9pc19leHRyYV9wYXlsb2FkX2NhbGwoYXNhLCB0eG4pOgogICAgYnogX3NldF9tZXRhZGF0YV9wYXlsb2FkX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxOTYtMTk5CiAgICAvLyAjIFRoaXMgc3Vicm91dGluZSBhc3N1bWVzIHR4biBpcyBhbHJlYWR5IHZhbGlkYXRlZCBhcyBhbiBleHRyYSBwYXlsb2FkIHR4bgogICAgLy8gcmV0dXJuIGFyYzQuRHluYW1pY0J5dGVzLmZyb21fYnl0ZXMoCiAgICAvLyAgICAgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX1BBWUxPQUQpCiAgICAvLyApLm5hdGl2ZQogICAgZnJhbWVfZGlnIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTk4CiAgICAvLyB0eG4uYXBwX2FyZ3MoY29uc3QuQVJDODlfRVhUUkFfUEFZTE9BRF9BUkdfUEFZTE9BRCkKICAgIGludGNfMyAvLyAyCiAgICBndHhuc2FzIEFwcGxpY2F0aW9uQXJncwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxOTYtMTk5CiAgICAvLyAjIFRoaXMgc3Vicm91dGluZSBhc3N1bWVzIHR4biBpcyBhbHJlYWR5IHZhbGlkYXRlZCBhcyBhbiBleHRyYSBwYXlsb2FkIHR4bgogICAgLy8gcmV0dXJuIGFyYzQuRHluYW1pY0J5dGVzLmZyb21fYnl0ZXMoCiAgICAvLyAgICAgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX1BBWUxPQUQpCiAgICAvLyApLm5hdGl2ZQogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjE5CiAgICAvLyBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpICsgZXh0cmFfcGF5bG9hZC5sZW5ndGggPD0gbWV0YWRhdGFfc2l6ZQogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgZGlnIDEKICAgIGxlbgogICAgKwogICAgZnJhbWVfZGlnIC0yCiAgICA8PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTgtMjIwCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkgKyBleHRyYV9wYXlsb2FkLmxlbmd0aCA8PSBtZXRhZGF0YV9zaXplCiAgICAvLyApLCBlcnIuUEFZTE9BRF9PVkVSRkxPVwogICAgYXNzZXJ0IC8vIFBheWxvYWQgb3ZlcmZsb3csIGV4Y2VlZHMgbWV0YWRhdGEgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMjEKICAgIC8vIHNlbGYuX2FwcGVuZF9wYXlsb2FkKGFzYSwgZXh0cmFfcGF5bG9hZCkKICAgIGZyYW1lX2RpZyAtMwogICAgc3dhcAogICAgY2FsbHN1YiBfYXBwZW5kX3BheWxvYWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjIzCiAgICAvLyBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpIDw9IG1ldGFkYXRhX3NpemUKICAgIGZyYW1lX2RpZyAtMwogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIGZyYW1lX2RpZyAtMgogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjIyLTIyNAogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpIDw9IG1ldGFkYXRhX3NpemUKICAgIC8vICksIGVyci5QQVlMT0FEX09WRVJGTE9XCiAgICBhc3NlcnQgLy8gUGF5bG9hZCBvdmVyZmxvdywgZXhjZWVkcyBtZXRhZGF0YSBzaXplCgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTQKICAgIC8vIGZvciBpZHggaW4gdXJhbmdlKGdyb3VwX2luZGV4ICsgMSwgZ3JvdXBfc2l6ZSk6CiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMgogICAgYiBfc2V0X21ldGFkYXRhX3BheWxvYWRfZm9yX2hlYWRlckAxCgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYm9vbF9mYWxzZUAxODoKICAgIGludGNfMSAvLyAwCiAgICBiIF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX21lcmdlQDE5Cgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYm9vbF9mYWxzZUAxMzoKICAgIGludGNfMSAvLyAwCiAgICBiIF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX21lcmdlQDE0Cgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYWZ0ZXJfZm9yQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIyNQogICAgLy8gYXNzZXJ0IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkgPT0gbWV0YWRhdGFfc2l6ZSwgZXJyLk1FVEFEQVRBX1NJWkVfTUlTTUFUQ0gKICAgIGZyYW1lX2RpZyAtMwogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIGZyYW1lX2RpZyAtMgogICAgPT0KICAgIGFzc2VydCAvLyBNZXRhZGF0YSBzaXplIG1pc21hdGNoLCBtdXN0IGJlIGV4YWN0bHkgZXF1YWwgdG8gZGVjbGFyZWQgc2l6ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9nZXRfbWV0YWRhdGFfcGFnZShhc2E6IHVpbnQ2NCwgcGFnZV9pbmRleDogdWludDY0KSAtPiBieXRlczoKX2dldF9tZXRhZGF0YV9wYWdlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzUKICAgIC8vIGRlZiBfZ2V0X21ldGFkYXRhX3BhZ2Uoc2VsZiwgYXNhOiBBc3NldCwgcGFnZV9pbmRleDogVUludDY0KSAtPiBCeXRlczoKICAgIHByb3RvIDIgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNDMKICAgIC8vIG4gPSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpCiAgICBmcmFtZV9kaWcgLTIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ1CiAgICAvLyBzdGFydCA9IHBhZ2VfaW5kZXggKiBwcwogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI0MgogICAgLy8gcHMgPSBVSW50NjQoY29uc3QuUEFHRV9TSVpFKQogICAgaW50YyA0IC8vIDEwMDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ1CiAgICAvLyBzdGFydCA9IHBhZ2VfaW5kZXggKiBwcwogICAgKgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ2CiAgICAvLyBpZiBzdGFydCA+PSBuOgogICAgPj0KICAgIGJ6IF9nZXRfbWV0YWRhdGFfcGFnZV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ3LTI0OAogICAgLy8gIyBPdXQtb2YtcmFuZ2UgcGFnZSAoaW5jbHVkaW5nIGVtcHR5IG1ldGFkYXRhIHdpdGggcGFnZV9pbmRleCA+IDApCiAgICAvLyByZXR1cm4gQnl0ZXMoYiIiKQogICAgYnl0ZWNfMSAvLyAweAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCl9nZXRfbWV0YWRhdGFfcGFnZV9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1MAogICAgLy8gcmVtYWluaW5nID0gbiAtIHN0YXJ0CiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNDIKICAgIC8vIHBzID0gVUludDY0KGNvbnN0LlBBR0VfU0laRSkKICAgIGludGMgNCAvLyAxMDA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6MjUKICAgIC8vIHJldHVybiBhIGlmIGEgPCBiIGVsc2UgYgogICAgZGlnIDEKICAgIDwKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQyCiAgICAvLyBwcyA9IFVJbnQ2NChjb25zdC5QQUdFX1NJWkUpCiAgICBpbnRjIDQgLy8gMTAwNwogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjI1CiAgICAvLyByZXR1cm4gYSBpZiBhIDwgYiBlbHNlIGIKICAgIHN3YXAKICAgIHNlbGVjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNTMKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjU0CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEEgKyBzdGFydCwgbGVuZ3RoPWxlbmd0aAogICAgcHVzaGludCA1MQogICAgdW5jb3ZlciAzCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1My0yNTUKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgc3RhcnQsIGxlbmd0aD1sZW5ndGgKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X2V4dHJhY3QKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9nZXRfc2hvcnRfbWV0YWRhdGEoYXNhOiB1aW50NjQpIC0+IGJ5dGVzOgpfZ2V0X3Nob3J0X21ldGFkYXRhOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNjIKICAgIC8vIGRlZiBfZ2V0X3Nob3J0X21ldGFkYXRhKHNlbGYsIGFzYTogQXNzZXQpIC0+IEJ5dGVzOgogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NwogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTgKICAgIC8vIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTYtNTkKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjkKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSURFTlRJRklFUiAtIGZsZy5JRF9TSE9SVCwKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY3LTcwCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9tZXRhZGF0YV9pZGVudGlmaWVycyhhc2EpLAogICAgLy8gICAgIGNvbnN0LkJJVF9SSUdIVE1PU1RfSURFTlRJRklFUiAtIGZsZy5JRF9TSE9SVCwKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNjMKICAgIC8vIGFzc2VydCBzZWxmLl9pc19zaG9ydChhc2EpLCBlcnIuTUVUQURBVEFfTk9UX1NIT1JUCiAgICBhc3NlcnQgLy8gTWV0YWRhdGEgaXMgbm90IHNob3J0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI2NAogICAgLy8gcmV0dXJuIHNlbGYuX2dldF9zbGljZShhc2EsIFVJbnQ2NCgwKSwgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKSkKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjU5CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEEgKyBvZmZzZXQsIGxlbmd0aD1zaXplCiAgICBwdXNoaW50IDUxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1OC0yNjAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgb2Zmc2V0LCBsZW5ndGg9c2l6ZQogICAgLy8gKQogICAgc3dhcAogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjY0CiAgICAvLyByZXR1cm4gc2VsZi5fZ2V0X3NsaWNlKGFzYSwgVUludDY0KDApLCBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpKQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9pZGVudGlmeV9tZXRhZGF0YShhc2E6IHVpbnQ2NCkgLT4gdm9pZDoKX2lkZW50aWZ5X21ldGFkYXRhOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNjYKICAgIC8vIGRlZiBfaWRlbnRpZnlfbWV0YWRhdGEoc2VsZiwgYXNhOiBBc3NldCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNjcKICAgIC8vIG1ldGFkYXRhX3NpemUgPSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NwogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTgKICAgIC8vIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTYtNTkKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTMKICAgIC8vIHJldHVybiBtZXRhZGF0YV9zaXplIDw9IGNvbnN0LlNIT1JUX01FVEFEQVRBX1NJWkUKICAgIHVuY292ZXIgMgogICAgcHVzaGludCA0MDk2CiAgICA8PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNzAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSURFTlRJRklFUiAtIGZsZy5JRF9TSE9SVCwKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI2OC0yNzIKICAgIC8vIGlkZW50aWZpZXJzID0gb3Auc2V0Yml0X2J5dGVzKAogICAgLy8gICAgIHNlbGYuX2dldF9tZXRhZGF0YV9pZGVudGlmaWVycyhhc2EpLAogICAgLy8gICAgIGNvbnN0LkJJVF9SSUdIVE1PU1RfSURFTlRJRklFUiAtIGZsZy5JRF9TSE9SVCwKICAgIC8vICAgICBzZWxmLl9pc19zaG9ydF9tZXRhZGF0YV9zaXplKG1ldGFkYXRhX3NpemUpLAogICAgLy8gKQogICAgc3dhcAogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYzCiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsIHZhbHVlPWlkZW50aWZpZXJzCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2Mi02NAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywgdmFsdWU9aWRlbnRpZmllcnMKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NvbXB1dGVfaGVhZGVyX2hhc2goYXNhOiB1aW50NjQpIC0+IGJ5dGVzOgpfY29tcHV0ZV9oZWFkZXJfaGFzaDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mjc1CiAgICAvLyBkZWYgX2NvbXB1dGVfaGVhZGVyX2hhc2goc2VsZiwgYXNhOiBBc3NldCkgLT4gQnl0ZXM6CiAgICBwcm90byAxIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mjc2LTI3OAogICAgLy8gIyBoaCA9IFNIQS01MTIvMjU2KCJhcmMwMDg5L2hlYWRlciIgfHwgQXNzZXQgSUQgfHwgTWV0YWRhdGEgSWRlbnRpZmllcnMKICAgIC8vICMgfHwgUmV2ZXJzaWJsZSBGbGFncyB8fCBJcnJldmVyc2libGUgRmxhZ3MgfHwgTWV0YWRhdGEgU2l6ZSkKICAgIC8vIGVuc3VyZV9idWRnZXQocmVxdWlyZWRfYnVkZ2V0PWNvbnN0LkhFQURFUl9IQVNIX09QX0JVREdFVCkKICAgIHB1c2hpbnQgMTEwCiAgICBpbnRjXzEgLy8gMAogICAgY2FsbHN1YiBlbnN1cmVfYnVkZ2V0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI4MAogICAgLy8gYXNzZXRfaWQgPSBvcC5pdG9iKGFzYS5pZCkKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTcKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU4CiAgICAvLyBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIGxlbmd0aD1jb25zdC5SRVZFUlNJQkxFX0ZMQUdTX1NJWkUKICAgIGludGNfMCAvLyAxCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzMtNzUKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIGxlbmd0aD1jb25zdC5SRVZFUlNJQkxFX0ZMQUdTX1NJWkUKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGRpZyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI4NQogICAgLy8gdWludD1zZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpLAogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjIwCiAgICAvLyByZXR1cm4gb3AuZXh0cmFjdChvcC5pdG9iKHVpbnQpLCBzdGFydCwgc2l6ZSkKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI3OQogICAgLy8gZG9tYWluID0gQnl0ZXMoY29uc3QuSEFTSF9ET01BSU5fSEVBREVSKQogICAgcHVzaGJ5dGVzIDB4NjE3MjYzMzAzMDM4MzkyZjY4NjU2MTY0NjU3MgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyODktMjkwCiAgICAvLyBkb21haW4KICAgIC8vICsgYXNzZXRfaWQKICAgIHVuY292ZXIgNQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI4OS0yOTEKICAgIC8vIGRvbWFpbgogICAgLy8gKyBhc3NldF9pZAogICAgLy8gKyBtZXRhZGF0YV9pZGVudGlmaWVycwogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mjg5LTI5MgogICAgLy8gZG9tYWluCiAgICAvLyArIGFzc2V0X2lkCiAgICAvLyArIG1ldGFkYXRhX2lkZW50aWZpZXJzCiAgICAvLyArIHJldmVyc2libGVfZmxhZ3MKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI4OS0yOTMKICAgIC8vIGRvbWFpbgogICAgLy8gKyBhc3NldF9pZAogICAgLy8gKyBtZXRhZGF0YV9pZGVudGlmaWVycwogICAgLy8gKyByZXZlcnNpYmxlX2ZsYWdzCiAgICAvLyArIGlycmV2ZXJzaWJsZV9mbGFncwogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mjg5LTI5NAogICAgLy8gZG9tYWluCiAgICAvLyArIGFzc2V0X2lkCiAgICAvLyArIG1ldGFkYXRhX2lkZW50aWZpZXJzCiAgICAvLyArIHJldmVyc2libGVfZmxhZ3MKICAgIC8vICsgaXJyZXZlcnNpYmxlX2ZsYWdzCiAgICAvLyArIG1ldGFkYXRhX3NpemUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyODgtMjk1CiAgICAvLyByZXR1cm4gb3Auc2hhNTEyXzI1NigKICAgIC8vICAgICBkb21haW4KICAgIC8vICAgICArIGFzc2V0X2lkCiAgICAvLyAgICAgKyBtZXRhZGF0YV9pZGVudGlmaWVycwogICAgLy8gICAgICsgcmV2ZXJzaWJsZV9mbGFncwogICAgLy8gICAgICsgaXJyZXZlcnNpYmxlX2ZsYWdzCiAgICAvLyAgICAgKyBtZXRhZGF0YV9zaXplCiAgICAvLyApCiAgICBzaGE1MTJfMjU2CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NvbXB1dGVfcGFnZV9oYXNoKGFzYTogdWludDY0LCBwYWdlX2luZGV4OiB1aW50NjQsIHBhZ2VfY29udGVudDogYnl0ZXMpIC0+IGJ5dGVzOgpfY29tcHV0ZV9wYWdlX2hhc2g6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI5Ny0yOTkKICAgIC8vIGRlZiBfY29tcHV0ZV9wYWdlX2hhc2goCiAgICAvLyAgICAgc2VsZiwgYXNhOiBBc3NldCwgcGFnZV9pbmRleDogVUludDY0LCBwYWdlX2NvbnRlbnQ6IEJ5dGVzCiAgICAvLyApIC0+IEJ5dGVzOgogICAgcHJvdG8gMyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMwMC0zMDEKICAgIC8vICMgcGhbaV0gPSBTSEEtNTEyLzI1NigiYXJjMDA4OS9wYWdlIiB8fCBBc3NldCBJRCB8fCBQYWdlIEluZGV4IHx8IFBhZ2UgU2l6ZSB8fCBQYWdlIENvbnRlbnQpCiAgICAvLyBlbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldD1jb25zdC5QQUdFX0hBU0hfT1BfQlVER0VUKQogICAgcHVzaGludCAxNTAKICAgIGludGNfMSAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzAzCiAgICAvLyBhc3NldF9pZCA9IG9wLml0b2IoYXNhLmlkKQogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2xpYnJhcnkucHk6MjAKICAgIC8vIHJldHVybiBvcC5leHRyYWN0KG9wLml0b2IodWludCksIHN0YXJ0LCBzaXplKQogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICBleHRyYWN0IDcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMDYKICAgIC8vIHVpbnQ9cGFnZV9jb250ZW50Lmxlbmd0aCwgc2l6ZT1VSW50NjQoY29uc3QuVUlOVDE2X1NJWkUpCiAgICBmcmFtZV9kaWcgLTEKICAgIGxlbgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjIwCiAgICAvLyByZXR1cm4gb3AuZXh0cmFjdChvcC5pdG9iKHVpbnQpLCBzdGFydCwgc2l6ZSkKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMwMgogICAgLy8gZG9tYWluID0gQnl0ZXMoY29uc3QuSEFTSF9ET01BSU5fUEFHRSkKICAgIHB1c2hieXRlcyAweDYxNzI2MzMwMzAzODM5MmY3MDYxNjc2NQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMDgKICAgIC8vIHJldHVybiBvcC5zaGE1MTJfMjU2KGRvbWFpbiArIGFzc2V0X2lkICsgcGFnZV9pZHggKyBwYWdlX3NpemUgKyBwYWdlX2NvbnRlbnQpCiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIHNoYTUxMl8yNTYKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5fY29tcHV0ZV9tZXRhZGF0YV9oYXNoKGFzYTogdWludDY0KSAtPiBieXRlczoKX2NvbXB1dGVfbWV0YWRhdGFfaGFzaDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzEwCiAgICAvLyBkZWYgX2NvbXB1dGVfbWV0YWRhdGFfaGFzaChzZWxmLCBhc2E6IEFzc2V0KSAtPiBCeXRlczoKICAgIHByb3RvIDEgMQogICAgYnl0ZWNfMSAvLyAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMTQKICAgIC8vIGhoID0gc2VsZi5fY29tcHV0ZV9oZWFkZXJfaGFzaChhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2NvbXB1dGVfaGVhZGVyX2hhc2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjMyCiAgICAvLyBuID0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKQogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9saWJyYXJ5LnB5OjMwCiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICBpbnRjIDUgLy8gMTAwNgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzMKICAgIC8vIHJldHVybiBjZWlsX2RpdihudW09biwgZGVuPVVJbnQ2NChjb25zdC5QQUdFX1NJWkUpKQogICAgaW50YyA0IC8vIDEwMDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fbGlicmFyeS5weTozMAogICAgLy8gcmV0dXJuIChudW0gKyAoZGVuIC0gMSkpIC8vIGRlbgogICAgLwogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxNgogICAgLy8gY29uY2F0ZW5hdGVkX3BoID0gQnl0ZXMoKQogICAgYnl0ZWNfMSAvLyAweAogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMTcKICAgIC8vIGlmIHRvdGFsX3BhZ2VzID4gMDoKICAgIGJ6IF9jb21wdXRlX21ldGFkYXRhX2hhc2hfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxOAogICAgLy8gZm9yIHBhZ2VfaW5kZXggaW4gdXJhbmdlKDAsIHRvdGFsX3BhZ2VzKToKICAgIGludGNfMSAvLyAwCiAgICBmcmFtZV9idXJ5IDAKCl9jb21wdXRlX21ldGFkYXRhX2hhc2hfZm9yX2hlYWRlckAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMTgKICAgIC8vIGZvciBwYWdlX2luZGV4IGluIHVyYW5nZSgwLCB0b3RhbF9wYWdlcyk6CiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfZGlnIDIKICAgIDwKICAgIGJ6IF9jb21wdXRlX21ldGFkYXRhX2hhc2hfYWZ0ZXJfaWZfZWxzZUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxOQogICAgLy8gcGFnZV9jb250ZW50ID0gc2VsZi5fZ2V0X21ldGFkYXRhX3BhZ2UoYXNhLCBwYWdlX2luZGV4KQogICAgZnJhbWVfZGlnIC0xCiAgICBmcmFtZV9kaWcgMAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfcGFnZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMjAKICAgIC8vIHBoID0gc2VsZi5fY29tcHV0ZV9wYWdlX2hhc2goYXNhLCBwYWdlX2luZGV4LCBwYWdlX2NvbnRlbnQpCiAgICBmcmFtZV9kaWcgLTEKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIGNhbGxzdWIgX2NvbXB1dGVfcGFnZV9oYXNoCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMyMQogICAgLy8gY29uY2F0ZW5hdGVkX3BoICs9IHBoCiAgICBmcmFtZV9kaWcgMwogICAgc3dhcAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzE4CiAgICAvLyBmb3IgcGFnZV9pbmRleCBpbiB1cmFuZ2UoMCwgdG90YWxfcGFnZXMpOgogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMAogICAgYiBfY29tcHV0ZV9tZXRhZGF0YV9oYXNoX2Zvcl9oZWFkZXJAMgoKX2NvbXB1dGVfbWV0YWRhdGFfaGFzaF9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxMS0zMTMKICAgIC8vICMgYW0gPSBTSEEtNTEyLzI1NigiYXJjMDA4OS9hbSIgfHwgaGggfHwgcGhbMF0gfHwgcGhbMV0gfHwgLi4uIHx8IHBoW3RvdGFsX3BhZ2VzIC0gMV0pIG9yCiAgICAvLyAjIGFtID0gU0hBLTUxMi8yNTYoImFyYzAwODkvYW0iIHx8IGhoKSwgaWYgbm8gcGFnZXMKICAgIC8vIGRvbWFpbiA9IEJ5dGVzKGNvbnN0LkhBU0hfRE9NQUlOX01FVEFEQVRBKQogICAgcHVzaGJ5dGVzIDB4NjE3MjYzMzAzMDM4MzkyZjYxNmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzIyCiAgICAvLyByZXR1cm4gb3Auc2hhNTEyXzI1Nihkb21haW4gKyBoaCArIGNvbmNhdGVuYXRlZF9waCkKICAgIGZyYW1lX2RpZyAxCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAzCiAgICBjb25jYXQKICAgIHNoYTUxMl8yNTYKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9jaGVja19iYXNlX3ByZWNvbmRpdGlvbnMoYXNhOiB1aW50NjQsIG1ldGFkYXRhX3NpemU6IHVpbnQ2NCkgLT4gdm9pZDoKX2NoZWNrX2Jhc2VfcHJlY29uZGl0aW9uczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzI0CiAgICAvLyBkZWYgX2NoZWNrX2Jhc2VfcHJlY29uZGl0aW9ucyhzZWxmLCBhc2E6IEFzc2V0LCBtZXRhZGF0YV9zaXplOiBVSW50NjQpIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToxNQogICAgLy8gX2NyZWF0b3IsIGV4aXN0cyA9IG9wLkFzc2V0UGFyYW1zR2V0LmFzc2V0X2NyZWF0b3IoYXNhKQogICAgZnJhbWVfZGlnIC0yCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMyNQogICAgLy8gYXNzZXJ0IHNlbGYuX2FzYV9leGlzdHMoYXNhKSwgZXJyLkFTQV9OT1RfRVhJU1QKICAgIGFzc2VydCAvLyBUaGUgc3BlY2lmaWVkIEFTQSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMjYKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hc2FfbWFuYWdlcihhc2EpLCBlcnIuVU5BVVRIT1JJWkVECiAgICBmcmFtZV9kaWcgLTIKICAgIGNhbGxzdWIgX2lzX2FzYV9tYW5hZ2VyCiAgICBhc3NlcnQgLy8gVW5hdXRob3JpemVkLCBtdXN0IGJlIHRoZSBBc3NldCBNYW5hZ2VyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUwCiAgICAvLyByZXR1cm4gbWV0YWRhdGFfc2l6ZSA8PSBjb25zdC5NQVhfTUVUQURBVEFfU0laRQogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjIDYgLy8gMzA1MDYKICAgIDw9CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMyNy0zMjkKICAgIC8vIGFzc2VydCBzZWxmLl9pc192YWxpZF9tYXhfbWV0YWRhdGFfc2l6ZSgKICAgIC8vICAgICBtZXRhZGF0YV9zaXplCiAgICAvLyApLCBlcnIuRVhDRUVEU19NQVhfTUVUQURBVEFfU0laRQogICAgYXNzZXJ0IC8vIEludmFsaWQgTWV0YWRhdGEgc2l6ZSwgZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgc2l6ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucyhhc2E6IHVpbnQ2NCwgbWV0YWRhdGFfc2l6ZTogdWludDY0KSAtPiB2b2lkOgpfY2hlY2tfdXBkYXRlX3ByZWNvbmRpdGlvbnM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMzMQogICAgLy8gZGVmIF9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucyhzZWxmLCBhc2E6IEFzc2V0LCBtZXRhZGF0YV9zaXplOiBVSW50NjQpIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzMyCiAgICAvLyBzZWxmLl9jaGVja19iYXNlX3ByZWNvbmRpdGlvbnMoYXNhLCBtZXRhZGF0YV9zaXplKQogICAgZnJhbWVfZGlnIC0yCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2NoZWNrX2Jhc2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMzMwogICAgLy8gYXNzZXJ0IHNlbGYuX21ldGFkYXRhX2V4aXN0cyhhc2EpLCBlcnIuQVNTRVRfTUVUQURBVEFfTk9UX0VYSVNUCiAgICBhc3NlcnQgLy8gQXNzZXQgTWV0YWRhdGEgZG9lcyBub3QgZXhpc3QgZm9yIHRoZSBzcGVjaWZpZWQgQVNBCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMzQKICAgIC8vIGFzc2VydCBub3Qgc2VsZi5faXNfaW1tdXRhYmxlKGFzYSksIGVyci5JTU1VVEFCTEUKICAgICEKICAgIGFzc2VydCAvLyBNZXRhZGF0YSBpcyBpbW11dGFibGUKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNhOiB1aW50NjQpIC0+IHZvaWQ6Cl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9uczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzM2CiAgICAvLyBkZWYgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKHNlbGYsIGFzYTogQXNzZXQpIC0+IE5vbmU6CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToxNQogICAgLy8gX2NyZWF0b3IsIGV4aXN0cyA9IG9wLkFzc2V0UGFyYW1zR2V0LmFzc2V0X2NyZWF0b3IoYXNhKQogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMzNwogICAgLy8gYXNzZXJ0IHNlbGYuX2FzYV9leGlzdHMoYXNhKSwgZXJyLkFTQV9OT1RfRVhJU1QKICAgIGFzc2VydCAvLyBUaGUgc3BlY2lmaWVkIEFTQSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMzgKICAgIC8vIGFzc2VydCBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNhKSwgZXJyLkFTU0VUX01FVEFEQVRBX05PVF9FWElTVAogICAgYXNzZXJ0IC8vIEFzc2V0IE1ldGFkYXRhIGRvZXMgbm90IGV4aXN0IGZvciB0aGUgc3BlY2lmaWVkIEFTQQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zKGFzYTogdWludDY0KSAtPiB2b2lkOgpfY2hlY2tfc2V0X2ZsYWdfcHJlY29uZGl0aW9uczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQwCiAgICAvLyBkZWYgX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMoc2VsZiwgYXNhOiBBc3NldCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNDEKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzYSkKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQyCiAgICAvLyBhc3NlcnQgc2VsZi5faXNfYXNhX21hbmFnZXIoYXNhKSwgZXJyLlVOQVVUSE9SSVpFRAogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIF9pc19hc2FfbWFuYWdlcgogICAgYXNzZXJ0IC8vIFVuYXV0aG9yaXplZCwgbXVzdCBiZSB0aGUgQXNzZXQgTWFuYWdlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NwogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQzCiAgICAvLyBhc3NlcnQgbm90IHNlbGYuX2lzX2ltbXV0YWJsZShhc2EpLCBlcnIuSU1NVVRBQkxFCiAgICAhCiAgICBhc3NlcnQgLy8gTWV0YWRhdGEgaXMgaW1tdXRhYmxlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2VtaXRfdXBkYXRlZF9ldmVudChhc2E6IHVpbnQ2NCwgbWV0YWRhdGFfaGFzaDogYnl0ZXMpIC0+IHZvaWQ6Cl9lbWl0X3VwZGF0ZWRfZXZlbnQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM0NQogICAgLy8gZGVmIF9lbWl0X3VwZGF0ZWRfZXZlbnQoc2VsZiwgYXNhOiBBc3NldCwgbWV0YWRhdGFfaGFzaDogQnl0ZXMpIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQ5CiAgICAvLyByb3VuZD1HbG9iYWwucm91bmQsCiAgICBnbG9iYWwgUm91bmQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzUwCiAgICAvLyB0aW1lc3RhbXA9R2xvYmFsLmxhdGVzdF90aW1lc3RhbXAsCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICBpbnRjXzAgLy8gMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNTEKICAgIC8vIHJldmVyc2libGVfZmxhZ3M9YXJjNC5CeXRlKG9wLmJ0b2koc2VsZi5fZ2V0X3JldmVyc2libGVfZmxhZ3MoYXNhKSkpLAogICAgYnRvaQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIGludGNfMiAvLyA4CiAgICA8PQogICAgYXNzZXJ0IC8vIG92ZXJmbG93CiAgICBleHRyYWN0IDcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNTMKICAgIC8vIG9wLmJ0b2koc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpKQogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNTItMzU0CiAgICAvLyBpcnJldmVyc2libGVfZmxhZ3M9YXJjNC5CeXRlKAogICAgLy8gICAgIG9wLmJ0b2koc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpKQogICAgLy8gKSwKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBpbnRjXzIgLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTYtNTkKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgLy8gKQogICAgZGlnIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTcKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU4CiAgICAvLyBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5CiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2Ny03MAogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfaWRlbnRpZmllcnMoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQ3LTM1NwogICAgLy8gYWJpLkFyYzg5TWV0YWRhdGFVcGRhdGVkKAogICAgLy8gICAgIGFzc2V0X2lkPWFzYS5pZCwKICAgIC8vICAgICByb3VuZD1HbG9iYWwucm91bmQsCiAgICAvLyAgICAgdGltZXN0YW1wPUdsb2JhbC5sYXRlc3RfdGltZXN0YW1wLAogICAgLy8gICAgIHJldmVyc2libGVfZmxhZ3M9YXJjNC5CeXRlKG9wLmJ0b2koc2VsZi5fZ2V0X3JldmVyc2libGVfZmxhZ3MoYXNhKSkpLAogICAgLy8gICAgIGlycmV2ZXJzaWJsZV9mbGFncz1hcmM0LkJ5dGUoCiAgICAvLyAgICAgICAgIG9wLmJ0b2koc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpKQogICAgLy8gICAgICksCiAgICAvLyAgICAgaXNfc2hvcnQ9c2VsZi5faXNfc2hvcnQoYXNhKSwKICAgIC8vICAgICBoYXNoPWFiaS5IYXNoLmZyb21fYnl0ZXMobWV0YWRhdGFfaGFzaCksICAjIE5vIGxlbmd0aCB2YWxpZGF0aW9uCiAgICAvLyApCiAgICB1bmNvdmVyIDUKICAgIGl0b2IKICAgIHVuY292ZXIgNAogICAgc3dhcAogICAgY29uY2F0CiAgICB1bmNvdmVyIDQKICAgIGl0b2IKICAgIGNvbmNhdAogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBieXRlY18yIC8vIDB4MDAKICAgIGludGNfMSAvLyAwCiAgICB1bmNvdmVyIDMKICAgIHNldGJpdAogICAgY29uY2F0CiAgICBmcmFtZV9kaWcgLTEKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNDYtMzU4CiAgICAvLyBhcmM0LmVtaXQoCiAgICAvLyAgICAgYWJpLkFyYzg5TWV0YWRhdGFVcGRhdGVkKAogICAgLy8gICAgICAgICBhc3NldF9pZD1hc2EuaWQsCiAgICAvLyAgICAgICAgIHJvdW5kPUdsb2JhbC5yb3VuZCwKICAgIC8vICAgICAgICAgdGltZXN0YW1wPUdsb2JhbC5sYXRlc3RfdGltZXN0YW1wLAogICAgLy8gICAgICAgICByZXZlcnNpYmxlX2ZsYWdzPWFyYzQuQnl0ZShvcC5idG9pKHNlbGYuX2dldF9yZXZlcnNpYmxlX2ZsYWdzKGFzYSkpKSwKICAgIC8vICAgICAgICAgaXJyZXZlcnNpYmxlX2ZsYWdzPWFyYzQuQnl0ZSgKICAgIC8vICAgICAgICAgICAgIG9wLmJ0b2koc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpKQogICAgLy8gICAgICAgICApLAogICAgLy8gICAgICAgICBpc19zaG9ydD1zZWxmLl9pc19zaG9ydChhc2EpLAogICAgLy8gICAgICAgICBoYXNoPWFiaS5IYXNoLmZyb21fYnl0ZXMobWV0YWRhdGFfaGFzaCksICAjIE5vIGxlbmd0aCB2YWxpZGF0aW9uCiAgICAvLyAgICAgKQogICAgLy8gKQogICAgcHVzaGJ5dGVzIDB4OGIwMzUwODQgLy8gbWV0aG9kICJBcmM4OU1ldGFkYXRhVXBkYXRlZCh1aW50NjQsdWludDY0LHVpbnQ2NCxieXRlLGJ5dGUsYm9vbCxieXRlWzMyXSkiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdChhc2E6IHVpbnQ2NCkgLT4gdm9pZDoKX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNjAKICAgIC8vIGRlZiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQoc2VsZiwgYXNhOiBBc3NldCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNjEtMzYyCiAgICAvLyAjIOKaoO+4jyBUaGUgc3Vicm91dGluZSBhc3N1bWVzIHRoYXQgTWV0YWRhdGEgRmxhZ3MgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0CiAgICAvLyBzZWxmLl9pZGVudGlmeV9tZXRhZGF0YShhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2lkZW50aWZ5X21ldGFkYXRhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM2MwogICAgLy8gbWV0YWRhdGFfaGFzaCA9IHNlbGYuX2NvbXB1dGVfbWV0YWRhdGFfaGFzaChhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2NvbXB1dGVfbWV0YWRhdGFfaGFzaAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjcKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjctMTI5CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIHZhbHVlPW1ldGFkYXRhX2hhc2gKICAgIC8vICkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICBwdXNoaW50IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI3LTEyOQogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICAvLyApCiAgICBkaWcgMwogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzY1CiAgICAvLyBzZWxmLl9zZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc2EsIEdsb2JhbC5yb3VuZCkKICAgIGdsb2JhbCBSb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDIKICAgIC8vIHZhbHVlPW9wLml0b2IobGFzdF9tb2RpZmllZF9yb3VuZCksCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0MQogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICBwdXNoaW50IDM1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0MC0xNDMKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICB2YWx1ZT1vcC5pdG9iKGxhc3RfbW9kaWZpZWRfcm91bmQpLAogICAgLy8gKQogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzY2CiAgICAvLyBzZWxmLl9lbWl0X3VwZGF0ZWRfZXZlbnQoYXNhLCBtZXRhZGF0YV9oYXNoKQogICAgZnJhbWVfZGlnIC0xCiAgICBzd2FwCiAgICBjYWxsc3ViIF9lbWl0X3VwZGF0ZWRfZXZlbnQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfdmFsaWRhdGlvbi5Bc2FWYWxpZGF0aW9uLl9pc19hc2FfbWFuYWdlcihhc2E6IHVpbnQ2NCkgLT4gdWludDY0OgpfaXNfYXNhX21hbmFnZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MTgKICAgIC8vIGRlZiBfaXNfYXNhX21hbmFnZXIoc2VsZiwgYXNhOiBBc3NldCkgLT4gYm9vbDoKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjE5CiAgICAvLyByZXR1cm4gVHhuLnNlbmRlciA9PSBhc2EubWFuYWdlcgogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0TWFuYWdlcgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgPT0KICAgIHJldHN1Ygo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEyCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "DCAHAQAIAu8H7geq7gEmCAQVH3x1AAEABDesdV0DBoEBBRUffHUBAAAxG0EBAjEZFEQxGESCBgR4QHgxBLgup+8EEkX6+wQEXy5uBN3/y5IEFbJ1siuCFgS1Eh2KBEn7rpEEC1OM4wQBXlebBAifrqEEjl4QJAQkTEfEBC1Z9uAE7oW0cwS3WTG8BI8l73IEEcOEdgSwq/ZbBM6dvtcEylL7HgQiY5G5BHoT1TIEU8IiAwTTdyrTBH2ir0AEAFbZwQS5LiZ6NhoAjh0BUANEA8sEQwShBOoFVgWCBdgGHgADBjYGSgbIBuoHGwdDB5IHzgg9CIcIowjgCP8JNwljCZsAAQntACJDgCMVH3x1CAAzdyoQAAPvB+4H8gfwAAAAAAAACcQAAAAAAAABkLAiQzEZFDEYFBBEMQAnBhJEIkOKAgCL/oEKCIsAMgwNQQAqsYEGshCBBbIZJwSyHicEsh+L/40CAAsABLNC/9syALIBQv/1I7IBQv/viYoCAYv/FYv+FUoORElPAglJSwIPSwJMTYv+TE8CUov/EomKAgEjSSkyEYAgwGHE2Pwdvd7S12BL5FaOP20EGYesN73ktiC1qzkkit8SQQCBKYALYWxnb3JhbmQ6Ly9MUIAEYXBwL1CMASmMAIv+jAKLAkEAQIsCSYEKGEmBCg9LAYEKTwJNTCIISYEKD4EKTE1JSwIMSwJMTYAKMDEyMzQ1Njc4OU4CUosAUIwAgQoKjAJC/7uLAEkVgAEwTgJNiwFMUIAFP2JveD1Qi/9QjACJJweAAS9QQv93I0cEKUcCNhoBSRUkEkQXSTYaAklOAhUiEkQ2GgNJTgIVIhJENhoESRUlEkQ2GgVJI1klCEsBFRJEVwIASU4CTgMxFiIJSU4ESTgQIhJETBdJTgRLA0yICnRPAhZJTgNJvUUBFERMOAcyChJEMgpzAUxOA0QjuUgVQQAHgbwFI4j+aUsHSUsESweICGRJiAlOSwcXFlcHAUsDSU4CIk8Cu0sHFxZXBwElTLtxBkxJTgJFEUSAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0lFDEEBDksBJSK6I1NESw5FDEsBSYEDSw67MgYWSwGBI08CuyMWSwGBK08CuyUiuoEHU0EAHksHSXEETElOA0URRHEFTEUPRIAEYXJjMxJBAIYiREsBJSK6gQZTQQA8MggpiP4NSUURSwhxBUxJTgJFEEQVSUUMTBVJRQsMQQA6I0RLCkEAFEsBJSK6gQdTQAAJSweICQVLDxJESwdLDIgJsTIKcwFESwEJSwQ4CEsBD0QWJwVMULAiQ0sISUsLSU4DDkRJSwIPTE4CTUsNI08CUksQEkL/qUsNFYEFD0EAE0sNgAVAYXJjM4j9Y0EABCJC/19LDBWBBQ9BABNLDIAFI2FyYzOI/UdBAAQiQv9DI0L/P0sHiAiDRQxC/vQ2GgFJFSQSRBdJNhoCSRUlEkQ2GgNJI1klCEsBFRJEVwIATBdLAksBiAjFSwKIBqlLAQ9EMgpzAURLA0sCTwSIBrpLAogJQE8CiAaNTwISRDIKcwFECUlAABQjFkmTJA5EVwcBSwEWUChMULAiQ4H/AbFLAnEHREsCsgiyByKyECOyAbNC/9Q2GgFJFSQSRBc2GgJJFSUSRDYaA0kjWSUISwEVEkRXAgAxFiIJSTgQIhJETwIXSwNLAYgINEsDiAYYSwEMREsBOAcyChJEMgpzAURLBEsCTwWIBiFLA4gIp08DiAX0TwISRDIKcwFETAlMOAhLAQ9EFicFTFCwIkM2GgFJFSQSRBdJNhoCSRUlEkQ2GgNJI1klCEsBFRJEVwIASU4DSwKIBbBLA0yIB8FMF0sBFUoISwSIBZ4ORE8DFklOBIEzTwMISU4ETwK6E0EACUpLBLtLA4gILCJDNhoBSRUkEkQXNhoCSRUkEkQXSwGIB6hJMggTREwWTBZLAYErTwK7MgYyB0sCgSskuhcWTwNMUE8CFlBMFlCABMhwI79MULAiQzYaAUkVJBJEF0cCFklOAr1FAURxC0UBQQAOSSUiuiNTFERLAYgH3kQyCnMBREsBSU4CvEgyCnMBRAmxMQBLAbIIsgcishAjsgGzMgcyBhZPA0xQTBZQgAS8PyDRTFCwFoAFFR98df9MULAiQzYaAUkVJBJEFzYaAkkjWSUITBUSRDIEJQ9ESXELRQFESRa9RQFEiAdwRCJDNhoBSRUkEkQXSTYaAkkVIhJENhoDSRUiEkQjU0lOA04DSwGIBrgXSYEHDkRMFklOAyJJuoEHTwIJSU4DUxNBABNLAUkiSbpLAksFVCJMu0sDiAb1IkM2GgFJFSQSRBdJNhoCSRUiEkRMiAZyF0klD0EAJUmBBg5BAB4iREsBFiUiuoEHSwIJU0AAC0sBSUsCiAPziAazIkMjQv/fNhoBSRUkEkQXSYgGNUmBB4gD14gGlyJDMggpiPpcSRUWVwYCTFAoTFCwIkMpSTYaAUkVJBJEF0k2GgJJFSUSRBdJTgIhBg5EFr1FAUEATEsBiAOrSUUEI0UFSwESQQAeI0mBkANPAgtLBQhMFkmTJA5EVwcBTBZQKExQsCJDSUsDDUEACiJLAUsECUxC/9OB/wFLA0sCCUxC/8eBxBNFBCKBO0sCCExC/7g2GgFJFSQSRBdJcQtOAkgWvUUBKiNPA1QiTwJUKExQsCJDNhoBSRUkEkQXRwKIBVYWJSK6I1NAAApJcQdEMgMSQQAMIiojTwJUKExQsCJDI0L/8TYaAUkVJBJEF0mIBSYWSSMiuiNTTIEjJLoXKiNPA1RMFlAoTFCwIkM2GgFJFSQSRBdJiAT+FkkjIrpLASJJuksCJSK6SwODAgMgukkVgSASREsEgSMkuhdPBYErJLoXTwVPBVBPBFBPA1BPAhZQTBZQKExQsCJDNhoBSRUkEkQXSYgEr0mIAnoWSZOBEA5EVwYCTIgCbCEFCCEEChZJkyQORFcHAUyAAgPvUExQKExQsCJDKTYaAUkVJBJEF0k2GgJJTgIVIhJESYgEZ4gCMyEFCCEECklOAkEAPRdJSwJJTgIMRCIJSwENRQRLAkyIAtNLAhaBIyS6FyojSwZUTBZQTEkVFlcGAkxQTIACAAtQTFAoTFCwIkMXFEQjRQMpQv/PNhoBSRUkEkQXNhoCSRUlEkQ2GgNJFSUSREsCiAPzF0khBA5ETBdJSwIISwOIAbEORE8CFoEzTwIITwK6SRUWVwYCTFAoTFCwIkM2GgFJFSQSRBdJiAO6iAKzSRWBIBJEKExQsCJDNhoBSRUkEkQXNhoCSRUiEkRLAYgDlUsBiAFfIQUIIQQKSURMF0lPAgxESogCDogCuUkVgSASRChMULAiQzYaAUkVJBJEF0mIA2EWgwIDILpJFYEgEkQoTFCwIkM2GgFJFSQSRBc2GgJJI1klCEsBFRJEVwIASwGIAzFMiAH2TF8ASRVJIQQORBZXBgJMUChMULAiQzYaAUkVJBJEFzYaAkkjWSUISwEVEkRXAgBLAYgC+UyIAb5MXwEWKExQsCJDNhoBSRUkEkQXNhoCSSNZJQhLARUSRFcCAEsBiALNTIgBkkxfAkkVSSEEDkQWVwYCTFAoTFCwIkM2GgFJFSQSRBc2GgJJI1klCEsBFRJEVwIANhoDSRUiEkRLAogCjRdJIg5ETwKIAUxPAl8ATEAAFV4ASRVJIQQORBZXBgJMUChMULAiQ14BQv/oMgpzAEQyCnMBRAmxMgmyB7IIIrIQI7IBsyJDigIAi/4WSSUiuoEHi/8JIlQlTLuJigEBi/8WvUSBMwmJigIAi/4WSb1Ei/8VSwEISwJM04v/u4mKAwCL/RZJgTPTi/2L/4j/2Iv9iP/Hi/4ORDIEMRYiCIsCiwEMQQBtiwI4EIEGEkEAX4sCOBgyCBJBAFWLAjgZQABOIkEARosCI8IaKxJBADyLAiLCGosAEkEAMSJBACSLAiXCGlcCAIv9iP9wSwEVCIv+DkSL/UyI/26L/Yj/XYv+DkSLAiIIjAJC/5MjQv/MI0L/r4v9iP9Di/4SRImKAgGL/oj/NkmL/yEEC0lPAg9BAAQpjACJiwCLAUlOAgkhBEsBDCEETE2L/haBM08DCE8CuowAiYoBAYv/FkkjIrojU0SL/4j+9IEzTLqJigEAi/+I/ueL/xZJIyK6TwKBgCAOI0xUI0y7iYoBAYFuI4j06Iv/FkkjIrpLASJJuksCJSK6i/+I/rQWVwYCgA5hcmMwMDg5L2hlYWRlck8FUE8EUE8DUE8CUExQA4mKAwGBlgEjiPSki/0Wi/4WVwcBi/8VFlcGAoAMYXJjMDA4OS9wYWdlTwNQTwJQTFCL/1ADiYoBASmL/4j/f4v/iP5NIQUIIQQKSSlMQQArI4wAiwCLAgxBACCL/4sASU4CiP7ui/9LAk8CiP+TiwNMUIwDIgiMAEL/2IAKYXJjMDA4OS9hbYsBUIsDUAOMAImKAgCL/nELRQFEi/6IAMNEi/8hBg5EiYoCAIv+i/+I/9+L/hZJvUUBRCUiuiNTFESJigEAi/9xC0UBRIv/Fr1FAUSJigEAi/+I/+aL/4gAgkSL/xYlIrojUxREiYoCADIGMgeL/hZJIkm6FxZJkyQORFcHAUsBJSK6FxZJkyQORFcHAUsCIyK6I1NPBRZPBExQTwQWUE8DUE8CUCojTwNUUIv/UIAEiwNQhExQsImKAQCL/4j+W4v/iP7qi/8WSYEDSwO7MgYWgSNMu4v/TIj/i4mKAQExAIv/cQdEEok=",
        "clear": "DIEBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 6,
            "patch": 0
        }
    },
    "events": [
        {
            "name": "Arc89MetadataUpdated",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id"
                },
                {
                    "type": "uint64",
                    "name": "round"
                },
                {
                    "type": "uint64",
                    "name": "timestamp"
                },
                {
                    "type": "byte",
                    "name": "reversible_flags"
                },
                {
                    "type": "byte",
                    "name": "irreversible_flags"
                },
                {
                    "type": "bool",
                    "name": "is_short"
                },
                {
                    "type": "byte[32]",
                    "name": "hash"
                }
            ],
            "desc": "Event emitted when Asset Metadata is created or updated"
        },
        {
            "name": "Arc89MetadataMigrated",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id"
                },
                {
                    "type": "uint64",
                    "name": "new_registry_id"
                },
                {
                    "type": "uint64",
                    "name": "round"
                },
                {
                    "type": "uint64",
                    "name": "timestamp"
                }
            ],
            "desc": "Event emitted when Asset Metadata has been migrated to a new ASA Metadata Registry version"
        },
        {
            "name": "Arc89MetadataDeleted",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id"
                },
                {
                    "type": "uint64",
                    "name": "round"
                },
                {
                    "type": "uint64",
                    "name": "timestamp"
                }
            ],
            "desc": "Event emitted when Asset Metadata is deleted"
        }
    ],
    "templateVariables": {
        "TRUSTED_DEPLOYER": {
            "type": "address"
        },
        "ARC90_NETAUTH": {
            "type": "AVMBytes"
        }
    }
}