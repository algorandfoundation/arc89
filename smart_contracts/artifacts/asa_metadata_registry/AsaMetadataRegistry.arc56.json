{
    "name": "AsaMetadataRegistry",
    "structs": {
        "MbrDelta": [
            {
                "name": "sign",
                "type": "uint8"
            },
            {
                "name": "amount",
                "type": "uint64"
            }
        ],
        "MetadataExistence": [
            {
                "name": "asa_exists",
                "type": "bool"
            },
            {
                "name": "metadata_exists",
                "type": "bool"
            }
        ],
        "MetadataHeader": [
            {
                "name": "identifiers",
                "type": "byte"
            },
            {
                "name": "reversible_flags",
                "type": "byte"
            },
            {
                "name": "irreversible_flags",
                "type": "byte"
            },
            {
                "name": "hash",
                "type": "byte[32]"
            },
            {
                "name": "last_modified_round",
                "type": "uint64"
            },
            {
                "name": "deprecated_by",
                "type": "uint64"
            }
        ],
        "MutableFlag": [
            {
                "name": "flag",
                "type": "bool"
            },
            {
                "name": "last_modified_round",
                "type": "uint64"
            }
        ],
        "PaginatedMetadata": [
            {
                "name": "has_next_page",
                "type": "bool"
            },
            {
                "name": "last_modified_round",
                "type": "uint64"
            },
            {
                "name": "page_content",
                "type": "byte[]"
            }
        ],
        "Pagination": [
            {
                "name": "metadata_size",
                "type": "uint16"
            },
            {
                "name": "page_size",
                "type": "uint16"
            },
            {
                "name": "total_pages",
                "type": "uint8"
            }
        ],
        "RegistryParameters": [
            {
                "name": "header_size",
                "type": "uint16"
            },
            {
                "name": "max_metadata_size",
                "type": "uint16"
            },
            {
                "name": "short_metadata_size",
                "type": "uint16"
            },
            {
                "name": "page_size",
                "type": "uint16"
            },
            {
                "name": "first_payload_max_size",
                "type": "uint16"
            },
            {
                "name": "extra_payload_max_size",
                "type": "uint16"
            },
            {
                "name": "replace_payload_max_size",
                "type": "uint16"
            },
            {
                "name": "flat_mbr",
                "type": "uint64"
            },
            {
                "name": "byte_mbr",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "arc89_create_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to create the Asset Metadata for"
                },
                {
                    "type": "byte",
                    "name": "reversible_flags",
                    "desc": "The Reversible Flags. WARNING: LSB and 1 can by set only at creation time"
                },
                {
                    "type": "byte",
                    "name": "irreversible_flags",
                    "desc": "The Irreversible Flags. WARNING: if the MSB is True the Asset Metadata is IMMUTABLE"
                },
                {
                    "type": "uint16",
                    "name": "metadata_size",
                    "desc": "The Metadata byte size to be created"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata payload (without Header). WARNING: Payload larger than args capacity must be provided with arc89_extra_payload calls in the Group"
                },
                {
                    "type": "pay",
                    "name": "mbr_delta_payment",
                    "desc": "Payment of the MBR Delta amount (microALGO) for the Asset Metadata Box creation"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Create Asset Metadata for an existing ASA, restricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_replace_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to replace the Asset Metadata for"
                },
                {
                    "type": "uint16",
                    "name": "metadata_size",
                    "desc": "The new Metadata byte size, must be less than or equal to the existing"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata payload (without Header). WARNING: Payload larger than args capacity must be provided with arc89_extra_payload calls in the Group"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Replace mutable Metadata with a smaller or equal size payload for an existing ASA,\nrestricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_replace_metadata_larger",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to replace the Asset Metadata for"
                },
                {
                    "type": "uint16",
                    "name": "metadata_size",
                    "desc": "The new Metadata byte size, must be larger than the existing"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata payload (without Header). WARNING: Payload larger than args capacity must be provided with arc89_extra_payload calls in the Group"
                },
                {
                    "type": "pay",
                    "name": "mbr_delta_payment",
                    "desc": "Payment of the MBR Delta amount (microALGO) for the larger Asset Metadata Box replace"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Replace mutable Metadata with a larger size payload for an existing ASA,\nrestricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_replace_metadata_slice",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to replace the Asset Metadata slice for"
                },
                {
                    "type": "uint16",
                    "name": "offset",
                    "desc": "The 0-based byte offset within the Metadata (body) bytes"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The slice payload"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Replace a slice of the Asset Metadata for an ASA with a payload of the same size,\nrestricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_migrate_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to migrate the Asset Metadata for"
                },
                {
                    "type": "uint64",
                    "name": "new_registry_id",
                    "desc": "The Application ID of the new ASA Metadata Registry version"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Migrate the Asset Metadata for an ASA to a new ASA Metadata Registry version,\nrestricted to the ASA Manager Address",
            "events": [
                {
                    "name": "Arc89MetadataMigrated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "new_registry_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata has been migrated to a new ASA Metadata Registry version"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_delete_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to delete the Asset Metadata for"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Delete Asset Metadata for an ASA, restricted to the ASA Manager Address (if the ASA still exists).",
            "events": [
                {
                    "name": "Arc89MetadataDeleted",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is deleted"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_extra_payload",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to provide Metadata extra payload for"
                },
                {
                    "type": "byte[]",
                    "name": "payload",
                    "desc": "The Metadata extra payload to concatenate"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Concatenate extra payload to Asset Metadata head call methods (creation or replacement).",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_set_reversible_flag",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to set the Metadata Flag for"
                },
                {
                    "type": "uint8",
                    "name": "flag",
                    "desc": "The reversible flag index to set"
                },
                {
                    "type": "bool",
                    "name": "value",
                    "desc": "The flag value to set"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set a reversible Asset Metadata Flag, restricted to the ASA Manager Address",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_set_irreversible_flag",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to set the Metadata Flag for"
                },
                {
                    "type": "uint8",
                    "name": "flag",
                    "desc": "The irreversible flag index to set. WARNING: must be in 2 ... 6"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set an irreversible Asset Metadata Flag, restricted to the ASA Manager Address",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_set_immutable",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to set immutable Asset Metadata for"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Set Asset Metadata as immutable, restricted to the ASA Manager Address.",
            "events": [
                {
                    "name": "Arc89MetadataUpdated",
                    "args": [
                        {
                            "type": "uint64",
                            "name": "asset_id"
                        },
                        {
                            "type": "uint64",
                            "name": "round"
                        },
                        {
                            "type": "uint64",
                            "name": "timestamp"
                        },
                        {
                            "type": "byte",
                            "name": "reversible_flags"
                        },
                        {
                            "type": "byte",
                            "name": "irreversible_flags"
                        },
                        {
                            "type": "bool",
                            "name": "is_short"
                        },
                        {
                            "type": "byte[32]",
                            "name": "hash"
                        }
                    ],
                    "desc": "Event emitted when Asset Metadata is created or updated"
                }
            ],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_registry_parameters",
            "args": [],
            "returns": {
                "type": "(uint16,uint16,uint16,uint16,uint16,uint16,uint16,uint64,uint64)",
                "struct": "RegistryParameters",
                "desc": "Tuple of (HEADER_SIZE, MAX_METADATA_SIZE, SHORT_METADATA_SIZE, PAGE_SIZE, FIRST_PAYLOAD_MAX_SIZE, EXTRA_PAYLOAD_MAX_SIZE, REPLACE_PAYLOAD_MAX_SIZE, FLAT_MBR, BYTE_MBR)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the ASA Metadata Registry parameters.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_partial_uri",
            "args": [],
            "returns": {
                "type": "string",
                "desc": "Asset Metadata ARC-90 partial URI, without compliance fragment"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata ARC-90 partial URI, without compliance fragment (optional)",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_mbr_delta",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to calculate the Asset Metadata MBR Delta for"
                },
                {
                    "type": "uint16",
                    "name": "new_metadata_size",
                    "desc": "The new Asset Metadata byte size"
                }
            ],
            "returns": {
                "type": "(uint8,uint64)",
                "struct": "MbrDelta",
                "desc": "MBR Delta: tuple of (sign enum, amount in microALGO)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata Box MBR Delta for an ASA, given a new Asset Metadata byte size.\nIf the Asset Metadata Box does not exist, the creation MBR Delta is returned.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_check_metadata_exists",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to check the ASA and Asset Metadata existence for"
                }
            ],
            "returns": {
                "type": "(bool,bool)",
                "struct": "MetadataExistence",
                "desc": "Tuple of (ASA exists, Asset Metadata exists)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Checks whether the specified ASA exists and whether its associated Asset Metadata is available.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_is_metadata_immutable",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to check the Asset Metadata immutability for"
                }
            ],
            "returns": {
                "type": "bool",
                "desc": "Asset Metadata for the ASA is immutable"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return True if the Asset Metadata for an ASA is immutable, False otherwise.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_is_metadata_short",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to check the Asset Metadata size classification for"
                }
            ],
            "returns": {
                "type": "(bool,uint64)",
                "struct": "MutableFlag",
                "desc": "Tuple of (is short metadata, Metadata Last Modified Round)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return True if Asset Metadata for an ASA is short (up to 4096 bytes), False otherwise.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_header",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata Header for"
                }
            ],
            "returns": {
                "type": "(byte,byte,byte,byte[32],uint64,uint64)",
                "struct": "MetadataHeader",
                "desc": "Asset Metadata Header: (Identifiers, Reversible Flags, Irreversible Flags, Hash, Last Modified Round, Deprecated By)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata Header for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_pagination",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata pagination for"
                }
            ],
            "returns": {
                "type": "(uint16,uint16,uint8)",
                "struct": "Pagination",
                "desc": "Tuple of (total metadata byte size, PAGE_SIZE, total number of pages)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Asset Metadata pagination for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata for"
                },
                {
                    "type": "uint8",
                    "name": "page",
                    "desc": "The 0-based Metadata page number"
                }
            ],
            "returns": {
                "type": "(bool,uint64,byte[])",
                "struct": "PaginatedMetadata",
                "desc": "Tuple of (has next page, Metadata Last Modified Round, page content)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return paginated Asset Metadata (without Header) for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_slice",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata slice for"
                },
                {
                    "type": "uint16",
                    "name": "offset",
                    "desc": "The 0-based byte offset within the Metadata (body) bytes"
                },
                {
                    "type": "uint16",
                    "name": "size",
                    "desc": "The slice bytes size to return"
                }
            ],
            "returns": {
                "type": "byte[]",
                "desc": "Asset Metadata slice (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return a slice of the Asset Metadata for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_header_hash",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Metadata Header Hash for"
                }
            ],
            "returns": {
                "type": "byte[32]",
                "desc": "Asset Metadata Header Hash"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Metadata Header Hash for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_page_hash",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Asset Metadata page hash for"
                },
                {
                    "type": "uint8",
                    "name": "page",
                    "desc": "The 0-based Metadata page number"
                }
            ],
            "returns": {
                "type": "byte[32]",
                "desc": "The SHA512-256 of the Metadata page"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the SHA512-256 of a Metadata page for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_hash",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the Metadata Hash for"
                }
            ],
            "returns": {
                "type": "byte[32]",
                "desc": "Asset Metadata Hash"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the Metadata Hash for an ASA.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_string_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top level JSON key whose string value to fetch"
                }
            ],
            "returns": {
                "type": "string",
                "desc": "The string value from valid UTF-8 JSON Metadata (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the UTF-8 string value for a top-level JSON key of type JSON String\nfrom short Metadata for an ASA; errors if the key does not exist or is not a JSON String",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_uint64_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top level JSON key whose uint64 value to fetch"
                }
            ],
            "returns": {
                "type": "uint64",
                "desc": "The uint64 value from valid UTF-8 JSON Metadata"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the uint64 value for a top-level JSON key of type JSON Uint64 from\nshort Metadata for an ASA; errors if the key does not exist or is not a JSON Uint64",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_object_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top level JSON key whose object value to fetch"
                }
            ],
            "returns": {
                "type": "string",
                "desc": "The object value from valid UTF-8 JSON Metadata (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the UTF-8 object value for a top-level JSON key of type JSON Object\nfrom short Metadata for an ASA; errors if the key does not exist or is not a JSON Object",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "arc89_get_metadata_b64_bytes_by_key",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id",
                    "desc": "The Asset ID to get the key value for"
                },
                {
                    "type": "string",
                    "name": "key",
                    "desc": "The top-level JSON key whose base64 string value to fetch and decode"
                },
                {
                    "type": "uint8",
                    "name": "b64_encoding",
                    "desc": "base64 encoding enum: 0 = URLEncoding, 1 = StdEncoding"
                }
            ],
            "returns": {
                "type": "byte[]",
                "desc": "The base64-decoded bytes from valid UTF-8 JSON Metadata (size limited to PAGE_SIZE)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Return the base64-decoded bytes for a top-level JSON key of type JSON String\nfrom short Metadata for an ASA; errors if the key does not exist, is not a JSON String, or is not valid base64 for the chosen encoding",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "extra_resources",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Non-normative placeholder method to acquire AVM extra resources.",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "withdraw_balance_excess",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Non-normative method to withdraw balance excess due to accidental deposits\n(it should never happen if deposits match exactly the required MBR. Deleted metadata MBR is not included in the excess, since it is immediately returned on delete).",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "\n    Singleton Application providing ASA metadata via Algod API and AVM\n    ",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 0,
                "bytes": 0
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {},
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "asset_metadata": {
                    "keyType": "uint64",
                    "valueType": "AVMBytes",
                    "prefix": ""
                }
            }
        }
    },
    "bareActions": {
        "create": [
            "NoOp"
        ],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        643
                    ],
                    "errorMessage": "Asset Metadata already exists for the specified ASA"
                },
                {
                    "pc": [
                        1467,
                        1613,
                        3334,
                        3359
                    ],
                    "errorMessage": "Asset Metadata does not exist for the specified ASA"
                },
                {
                    "pc": [
                        839
                    ],
                    "errorMessage": "Invalid ARC-3 parameters (name or URL)"
                },
                {
                    "pc": [
                        885
                    ],
                    "errorMessage": "Invalid ARC-89 partial URI"
                },
                {
                    "pc": [
                        908,
                        1267
                    ],
                    "errorMessage": "Invalid MBR Delta amount"
                },
                {
                    "pc": [
                        650,
                        1220
                    ],
                    "errorMessage": "Invalid MBR Delta receiver, must be the ASA Metadata Registry"
                },
                {
                    "pc": [
                        1848,
                        3315
                    ],
                    "errorMessage": "Invalid Metadata size, exceeds maximum allowed size"
                },
                {
                    "pc": [
                        1212
                    ],
                    "errorMessage": "Invalid Metadata size, must be larger than the current size"
                },
                {
                    "pc": [
                        1065
                    ],
                    "errorMessage": "Invalid Metadata size, must be smaller than or equal to the current size"
                },
                {
                    "pc": [
                        2691
                    ],
                    "errorMessage": "Invalid base64 encoding, must be 0 (URL safe) or 1 (Std)"
                },
                {
                    "pc": [
                        1657,
                        1744
                    ],
                    "errorMessage": "Invalid flag index"
                },
                {
                    "pc": [
                        1401
                    ],
                    "errorMessage": "Invalid new ASA Metadata Registry ID, must be different from current"
                },
                {
                    "pc": [
                        2256,
                        2312,
                        2457
                    ],
                    "errorMessage": "Invalid page index"
                },
                {
                    "pc": [
                        2450
                    ],
                    "errorMessage": "Metadata is empty"
                },
                {
                    "pc": [
                        1482,
                        3341,
                        3384
                    ],
                    "errorMessage": "Metadata is immutable"
                },
                {
                    "pc": [
                        3044
                    ],
                    "errorMessage": "Metadata is not short"
                },
                {
                    "pc": [
                        1098,
                        1253,
                        2974
                    ],
                    "errorMessage": "Metadata size mismatch, must be exactly equal to declared size"
                },
                {
                    "pc": [
                        765
                    ],
                    "errorMessage": "Must be flagged as immutable"
                },
                {
                    "pc": [
                        1601
                    ],
                    "errorMessage": "No payload head call in Group"
                },
                {
                    "pc": [
                        2355,
                        2539,
                        2639,
                        2716
                    ],
                    "errorMessage": "Payload exceeds page size"
                },
                {
                    "pc": [
                        2842,
                        2933,
                        2948
                    ],
                    "errorMessage": "Payload overflow, exceeds metadata size"
                },
                {
                    "pc": [
                        1340,
                        2368
                    ],
                    "errorMessage": "Slice exceeds metadata range"
                },
                {
                    "pc": [
                        275
                    ],
                    "errorMessage": "The deployer address is not trusted"
                },
                {
                    "pc": [
                        1607,
                        3303,
                        3352
                    ],
                    "errorMessage": "The specified ASA does not exist"
                },
                {
                    "pc": [
                        1488,
                        1617,
                        3309,
                        3374
                    ],
                    "errorMessage": "Unauthorized, must be the Asset Manager"
                },
                {
                    "pc": [
                        658,
                        897,
                        1070,
                        1103,
                        1225,
                        1258,
                        1493,
                        1502,
                        2738,
                        2743
                    ],
                    "errorMessage": "account funded"
                },
                {
                    "pc": [
                        719,
                        773,
                        821,
                        827,
                        870,
                        1137,
                        1520,
                        2013,
                        3514
                    ],
                    "errorMessage": "asset exists"
                },
                {
                    "pc": [
                        2789,
                        2802
                    ],
                    "errorMessage": "check Box exists"
                },
                {
                    "pc": [
                        599,
                        1040,
                        1176,
                        1299,
                        1590,
                        2510,
                        2566,
                        2610,
                        2666
                    ],
                    "errorMessage": "invalid array length header"
                },
                {
                    "pc": [
                        1645
                    ],
                    "errorMessage": "invalid number of bytes for arc4.bool"
                },
                {
                    "pc": [
                        606,
                        1047,
                        1183,
                        1306,
                        1596,
                        2517,
                        2573,
                        2617,
                        2673
                    ],
                    "errorMessage": "invalid number of bytes for arc4.dynamic_array<arc4.uint8>"
                },
                {
                    "pc": [
                        593,
                        1034,
                        1170,
                        1293,
                        1840,
                        2336,
                        2344
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint16"
                },
                {
                    "pc": [
                        563,
                        1024,
                        1161,
                        1283,
                        1380,
                        1390,
                        1456,
                        1583,
                        1627,
                        1714,
                        1784,
                        1830,
                        1954,
                        1994,
                        2043,
                        2082,
                        2155,
                        2216,
                        2327,
                        2401,
                        2423,
                        2478,
                        2503,
                        2559,
                        2603,
                        2659
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint64"
                },
                {
                    "pc": [
                        575,
                        585,
                        1637,
                        1724,
                        2228,
                        2432,
                        2681
                    ],
                    "errorMessage": "invalid number of bytes for arc4.uint8"
                },
                {
                    "pc": [
                        1115,
                        1890,
                        2171,
                        2190,
                        3409,
                        3424
                    ],
                    "errorMessage": "overflow"
                },
                {
                    "pc": [
                        619,
                        1193
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "cblocks"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDEyCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuYXBwcm92YWxfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIGludGNibG9jayAxIDAgOCAyIDEwMDcgMTAwNiAzMDUwNgogICAgYnl0ZWNibG9jayAweDE1MWY3Yzc1IDB4IDB4MDAgMHgzN2FjNzU1ZCAweDA2ODEwMSAweDE1MWY3Yzc1MDEgVE1QTF9UUlVTVEVEX0RFUExPWUVSIFRNUExfQVJDOTBfTkVUQVVUSAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozOAogICAgLy8gY2xhc3MgQXNhTWV0YWRhdGFSZWdpc3RyeShBcmM4OUludGVyZmFjZSwgQXNhVmFsaWRhdGlvbik6CiAgICB0eG4gTnVtQXBwQXJncwogICAgYnogbWFpbl9kZXBsb3lAMzgKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydAogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgIGFzc2VydAogICAgcHVzaGJ5dGVzcyAweDc4NDA3ODMxIDB4YjgyZWE3ZWYgMHgxMjQ1ZmFmYiAweDA0NWYyZTZlIDB4ZGRmZmNiOTIgMHgxNWIyNzViMiAvLyBtZXRob2QgImFyYzg5X2NyZWF0ZV9tZXRhZGF0YSh1aW50NjQsYnl0ZSxieXRlLHVpbnQxNixieXRlW10scGF5KSh1aW50OCx1aW50NjQpIiwgbWV0aG9kICJhcmM4OV9yZXBsYWNlX21ldGFkYXRhKHVpbnQ2NCx1aW50MTYsYnl0ZVtdKSh1aW50OCx1aW50NjQpIiwgbWV0aG9kICJhcmM4OV9yZXBsYWNlX21ldGFkYXRhX2xhcmdlcih1aW50NjQsdWludDE2LGJ5dGVbXSxwYXkpKHVpbnQ4LHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2UodWludDY0LHVpbnQxNixieXRlW10pdm9pZCIsIG1ldGhvZCAiYXJjODlfbWlncmF0ZV9tZXRhZGF0YSh1aW50NjQsdWludDY0KXZvaWQiLCBtZXRob2QgImFyYzg5X2RlbGV0ZV9tZXRhZGF0YSh1aW50NjQpKHVpbnQ4LHVpbnQ2NCkiCiAgICBieXRlY18zIC8vIG1ldGhvZCAiYXJjODlfZXh0cmFfcGF5bG9hZCh1aW50NjQsYnl0ZVtdKXZvaWQiCiAgICBwdXNoYnl0ZXNzIDB4YjUxMjFkOGEgMHg0OWZiYWU5MSAweDBiNTM4Y2UzIDB4OWFhOWFmMjUgMHgwODlmYWVhMSAweDhlNWUxMDI0IDB4MjQ0YzQ3YzQgMHgyZDU5ZjZlMCAweGVlODViNDczIDB4Yjc1OTMxYmMgMHg4ZjI1ZWY3MiAweDExYzM4NDc2IDB4YjBhYmY2NWIgMHhjZTlkYmVkNyAweGNhNTJmYjFlIDB4MjI2MzkxYjkgMHg3YTEzZDUzMiAweDUzYzIyMjAzIDB4ZDM3NzJhZDMgMHg3ZGEyYWY0MCAweDAwNTZkOWMxIDB4YjkyZTI2N2EgLy8gbWV0aG9kICJhcmM4OV9zZXRfcmV2ZXJzaWJsZV9mbGFnKHVpbnQ2NCx1aW50OCxib29sKXZvaWQiLCBtZXRob2QgImFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZyh1aW50NjQsdWludDgpdm9pZCIsIG1ldGhvZCAiYXJjODlfc2V0X2ltbXV0YWJsZSh1aW50NjQpdm9pZCIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3JlZ2lzdHJ5X3BhcmFtZXRlcnMoKSh1aW50MTYsdWludDE2LHVpbnQxNix1aW50MTYsdWludDE2LHVpbnQxNix1aW50MTYsdWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV9wYXJ0aWFsX3VyaSgpc3RyaW5nIiwgbWV0aG9kICJhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhKHVpbnQ2NCx1aW50MTYpKHVpbnQ4LHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X2NoZWNrX21ldGFkYXRhX2V4aXN0cyh1aW50NjQpKGJvb2wsYm9vbCkiLCBtZXRob2QgImFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZSh1aW50NjQpYm9vbCIsIG1ldGhvZCAiYXJjODlfaXNfbWV0YWRhdGFfc2hvcnQodWludDY0KShib29sLHVpbnQ2NCkiLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV9oZWFkZXIodWludDY0KShieXRlLGJ5dGUsYnl0ZSxieXRlWzMyXSx1aW50NjQsdWludDY0KSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3BhZ2luYXRpb24odWludDY0KSh1aW50MTYsdWludDE2LHVpbnQ4KSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhKHVpbnQ2NCx1aW50OCkoYm9vbCx1aW50NjQsYnl0ZVtdKSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlKHVpbnQ2NCx1aW50MTYsdWludDE2KWJ5dGVbXSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlcl9oYXNoKHVpbnQ2NClieXRlWzMyXSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3BhZ2VfaGFzaCh1aW50NjQsdWludDgpYnl0ZVszMl0iLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV9oYXNoKHVpbnQ2NClieXRlWzMyXSIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX3N0cmluZ19ieV9rZXkodWludDY0LHN0cmluZylzdHJpbmciLCBtZXRob2QgImFyYzg5X2dldF9tZXRhZGF0YV91aW50NjRfYnlfa2V5KHVpbnQ2NCxzdHJpbmcpdWludDY0IiwgbWV0aG9kICJhcmM4OV9nZXRfbWV0YWRhdGFfb2JqZWN0X2J5X2tleSh1aW50NjQsc3RyaW5nKXN0cmluZyIsIG1ldGhvZCAiYXJjODlfZ2V0X21ldGFkYXRhX2I2NF9ieXRlc19ieV9rZXkodWludDY0LHN0cmluZyx1aW50OClieXRlW10iLCBtZXRob2QgImV4dHJhX3Jlc291cmNlcygpdm9pZCIsIG1ldGhvZCAid2l0aGRyYXdfYmFsYW5jZV9leGNlc3MoKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBhcmM4OV9jcmVhdGVfbWV0YWRhdGEgYXJjODlfcmVwbGFjZV9tZXRhZGF0YSBhcmM4OV9yZXBsYWNlX21ldGFkYXRhX2xhcmdlciBhcmM4OV9yZXBsYWNlX21ldGFkYXRhX3NsaWNlIGFyYzg5X21pZ3JhdGVfbWV0YWRhdGEgYXJjODlfZGVsZXRlX21ldGFkYXRhIGFyYzg5X2V4dHJhX3BheWxvYWQgYXJjODlfc2V0X3JldmVyc2libGVfZmxhZyBhcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWcgYXJjODlfc2V0X2ltbXV0YWJsZSBtYWluX2FyYzg5X2dldF9tZXRhZGF0YV9yZWdpc3RyeV9wYXJhbWV0ZXJzX3JvdXRlQDE2IGFyYzg5X2dldF9tZXRhZGF0YV9wYXJ0aWFsX3VyaSBhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhIGFyYzg5X2NoZWNrX21ldGFkYXRhX2V4aXN0cyBhcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGUgYXJjODlfaXNfbWV0YWRhdGFfc2hvcnQgYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlciBhcmM4OV9nZXRfbWV0YWRhdGFfcGFnaW5hdGlvbiBhcmM4OV9nZXRfbWV0YWRhdGEgYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlIGFyYzg5X2dldF9tZXRhZGF0YV9oZWFkZXJfaGFzaCBhcmM4OV9nZXRfbWV0YWRhdGFfcGFnZV9oYXNoIGFyYzg5X2dldF9tZXRhZGF0YV9oYXNoIGFyYzg5X2dldF9tZXRhZGF0YV9zdHJpbmdfYnlfa2V5IGFyYzg5X2dldF9tZXRhZGF0YV91aW50NjRfYnlfa2V5IGFyYzg5X2dldF9tZXRhZGF0YV9vYmplY3RfYnlfa2V5IGFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5IG1haW5fZXh0cmFfcmVzb3VyY2VzX3JvdXRlQDMzIHdpdGhkcmF3X2JhbGFuY2VfZXhjZXNzCiAgICBlcnIKCm1haW5fZXh0cmFfcmVzb3VyY2VzX3JvdXRlQDMzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjU4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCm1haW5fYXJjODlfZ2V0X21ldGFkYXRhX3JlZ2lzdHJ5X3BhcmFtZXRlcnNfcm91dGVAMTY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc3OQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NTAwMzM3NzJhMTAwMDAzZWYwN2VlMDdmMjA3ZjAwMDAwMDAwMDAwMDAwOWM0MDAwMDAwMDAwMDAwMDE5MAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgptYWluX2RlcGxveUAzODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzY4CiAgICAvLyBAYXJjNC5iYXJlbWV0aG9kKGNyZWF0ZT0icmVxdWlyZSIpCiAgICB0eG4gT25Db21wbGV0aW9uCiAgICAhCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgIQogICAgJiYKICAgIGFzc2VydAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNzMtMzc0CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCBUeG4uc2VuZGVyID09IFRlbXBsYXRlVmFyW0FjY291bnRdKAogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNzMtMzc2CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCBUeG4uc2VuZGVyID09IFRlbXBsYXRlVmFyW0FjY291bnRdKAogICAgLy8gICAgIFRSVVNURURfREVQTE9ZRVIKICAgIC8vICksIGVyci5VTlRSVVNURURfREVQTE9ZRVIKICAgIGJ5dGVjIDYgLy8gVE1QTF9UUlVTVEVEX0RFUExPWUVSCiAgICA9PQogICAgYXNzZXJ0IC8vIFRoZSBkZXBsb3llciBhZGRyZXNzIGlzIG5vdCB0cnVzdGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM2OAogICAgLy8gQGFyYzQuYmFyZW1ldGhvZChjcmVhdGU9InJlcXVpcmUiKQogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKCi8vIF9wdXlhX2xpYi51dGlsLmVuc3VyZV9idWRnZXQocmVxdWlyZWRfYnVkZ2V0OiB1aW50NjQsIGZlZV9zb3VyY2U6IHVpbnQ2NCkgLT4gdm9pZDoKZW5zdXJlX2J1ZGdldDoKICAgIHByb3RvIDIgMAogICAgZnJhbWVfZGlnIC0yCiAgICBwdXNoaW50IDEwCiAgICArCgplbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxOgogICAgZnJhbWVfZGlnIDAKICAgIGdsb2JhbCBPcGNvZGVCdWRnZXQKICAgID4KICAgIGJ6IGVuc3VyZV9idWRnZXRfYWZ0ZXJfd2hpbGVANgogICAgaXR4bl9iZWdpbgogICAgcHVzaGludCA2IC8vIGFwcGwKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIGJ5dGVjIDQgLy8gMHgwNjgxMDEKICAgIGl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtCiAgICBieXRlYyA0IC8vIDB4MDY4MTAxCiAgICBpdHhuX2ZpZWxkIENsZWFyU3RhdGVQcm9ncmFtCiAgICBmcmFtZV9kaWcgLTEKICAgIHN3aXRjaCBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMyBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANAoKZW5zdXJlX2J1ZGdldF9zd2l0Y2hfY2FzZV9uZXh0QDU6CiAgICBpdHhuX3N1Ym1pdAogICAgYiBlbnN1cmVfYnVkZ2V0X3doaWxlX3RvcEAxCgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzFANDoKICAgIGdsb2JhbCBNaW5UeG5GZWUKICAgIGl0eG5fZmllbGQgRmVlCiAgICBiIGVuc3VyZV9idWRnZXRfc3dpdGNoX2Nhc2VfbmV4dEA1CgplbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlXzBAMzoKICAgIGludGNfMSAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgYiBlbnN1cmVfYnVkZ2V0X3N3aXRjaF9jYXNlX25leHRANQoKZW5zdXJlX2J1ZGdldF9hZnRlcl93aGlsZUA2OgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmF2bV9jb21tb24uZW5kc3dpdGgoczogYnl0ZXMsIHN1ZmZpeDogYnl0ZXMpIC0+IHVpbnQ2NDoKZW5kc3dpdGg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo1Mi01MwogICAgLy8gQHN1YnJvdXRpbmUKICAgIC8vIGRlZiBlbmRzd2l0aChzOiBCeXRlcywgc3VmZml4OiBCeXRlcykgLT4gYm9vbDoKICAgIHByb3RvIDIgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9jb21tb24ucHk6NTQKICAgIC8vIGFzc2VydCBzdWZmaXgubGVuZ3RoIDw9IHMubGVuZ3RoCiAgICBmcmFtZV9kaWcgLTEKICAgIGxlbgogICAgZnJhbWVfZGlnIC0yCiAgICBsZW4KICAgIGR1cDIKICAgIDw9CiAgICBhc3NlcnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjU1CiAgICAvLyByZXR1cm4gc1tzLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGggOl0gPT0gc3VmZml4CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgLQogICAgZHVwCiAgICBkaWcgMgogICAgPj0KICAgIGRpZyAyCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgdW5jb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICBmcmFtZV9kaWcgLTEKICAgID09CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXZtX2NvbW1vbi5hcmM5MF9ib3hfcXVlcnkoYXBwOiB1aW50NjQsIGJveF9uYW1lOiBieXRlcykgLT4gYnl0ZXM6CmFyYzkwX2JveF9xdWVyeToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjU4LTU5CiAgICAvLyBAc3Vicm91dGluZQogICAgLy8gZGVmIGFyYzkwX2JveF9xdWVyeShhcHA6IEFwcGxpY2F0aW9uLCBib3hfbmFtZTogQnl0ZXMpIC0+IEJ5dGVzOgogICAgcHJvdG8gMiAxCiAgICBpbnRjXzEgLy8gMAogICAgZHVwCiAgICBieXRlY18xIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2MAogICAgLy8gaWYgR2xvYmFsLmdlbmVzaXNfaGFzaCA9PSBCeXRlcy5mcm9tX2Jhc2U2NChNQUlOTkVUX0dIX0I2NCk6CiAgICBnbG9iYWwgR2VuZXNpc0hhc2gKICAgIHB1c2hieXRlcyBiYXNlNjQod0dIRTJQd2R2ZDdTMTJCTDVGYU9QMjBFR1llc043M2t0aUMxcXpra2l0OD0pCiAgICA9PQogICAgYnogYXJjOTBfYm94X3F1ZXJ5X2Vsc2VfYm9keUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2MQogICAgLy8gYXJjOTBfbmV0YXV0aCA9IEJ5dGVzKCkKICAgIGJ5dGVjXzEgLy8gMHgKCmFyYzkwX2JveF9xdWVyeV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2NQogICAgLy8gQVJDOTBfVVJJX1NDSEVNRQogICAgcHVzaGJ5dGVzIDB4NjE2YzY3NmY3MjYxNmU2NDNhMmYyZgogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9jb21tb24ucHk6NjUtNjYKICAgIC8vIEFSQzkwX1VSSV9TQ0hFTUUKICAgIC8vICsgYXJjOTBfbmV0YXV0aAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2NwogICAgLy8gKyBBUkM5MF9VUklfQVBQX1BBVEgKICAgIHB1c2hieXRlcyAweDYxNzA3MDJmCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2NS02NwogICAgLy8gQVJDOTBfVVJJX1NDSEVNRQogICAgLy8gKyBhcmM5MF9uZXRhdXRoCiAgICAvLyArIEFSQzkwX1VSSV9BUFBfUEFUSAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjM2CiAgICAvLyBhY2MgPSBCeXRlcyhiIiIpCiAgICBieXRlY18xIC8vIDB4CiAgICBmcmFtZV9idXJ5IDAKICAgIGZyYW1lX2RpZyAtMgogICAgZnJhbWVfYnVyeSAyCgphcmM5MF9ib3hfcXVlcnlfd2hpbGVfdG9wQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTozOAogICAgLy8gd2hpbGUgaSA+IDA6CiAgICBmcmFtZV9kaWcgMgogICAgYnogYXJjOTBfYm94X3F1ZXJ5X2FmdGVyX3doaWxlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjM5CiAgICAvLyBkID0gaSAlIFVJbnQ2NCgxMCkKICAgIGZyYW1lX2RpZyAyCiAgICBkdXAKICAgIHB1c2hpbnQgMTAKICAgICUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjQwCiAgICAvLyBhY2MgPSBkaWdpdHNbZCA6IGQgKyBVSW50NjQoMSldICsgYWNjCiAgICBkdXAKICAgIHB1c2hpbnQgMTAKICAgID49CiAgICBkaWcgMQogICAgcHVzaGludCAxMAogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN3YXAKICAgIGludGNfMCAvLyAxCiAgICArCiAgICBkdXAKICAgIHB1c2hpbnQgMTAKICAgID49CiAgICBwdXNoaW50IDEwCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIGR1cAogICAgZGlnIDIKICAgIDwKICAgIGRpZyAyCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjM0LTM1CiAgICAvLyAjIEFTQ0lJIGRpZ2l0cyAodmFsaWQgVVRGLTgpCiAgICAvLyBkaWdpdHMgPSBCeXRlcyhiIjAxMjM0NTY3ODkiKQogICAgcHVzaGJ5dGVzIDB4MzAzMTMyMzMzNDM1MzYzNzM4MzkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjQwCiAgICAvLyBhY2MgPSBkaWdpdHNbZCA6IGQgKyBVSW50NjQoMSldICsgYWNjCiAgICBjb3ZlciAyCiAgICBzdWJzdHJpbmczCiAgICBmcmFtZV9kaWcgMAogICAgY29uY2F0CiAgICBmcmFtZV9idXJ5IDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjQxCiAgICAvLyBpIC8vPSBVSW50NjQoMTApCiAgICBwdXNoaW50IDEwCiAgICAvCiAgICBmcmFtZV9idXJ5IDIKICAgIGIgYXJjOTBfYm94X3F1ZXJ5X3doaWxlX3RvcEA1CgphcmM5MF9ib3hfcXVlcnlfYWZ0ZXJfd2hpbGVANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjQzCiAgICAvLyByZXR1cm4gYWNjIG9yIEJ5dGVzKGIiMCIpCiAgICBmcmFtZV9kaWcgMAogICAgZHVwCiAgICBsZW4KICAgIHB1c2hieXRlcyAweDMwCiAgICBjb3ZlciAyCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjY1LTY4CiAgICAvLyBBUkM5MF9VUklfU0NIRU1FCiAgICAvLyArIGFyYzkwX25ldGF1dGgKICAgIC8vICsgQVJDOTBfVVJJX0FQUF9QQVRICiAgICAvLyArIGl0b2EoYXBwLmlkKQogICAgZnJhbWVfZGlnIDEKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9jb21tb24ucHk6NjkKICAgIC8vICsgQVJDOTBfVVJJX0JPWF9RVUVSWQogICAgcHVzaGJ5dGVzIDB4M2Y2MjZmNzgzZAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9jb21tb24ucHk6NjUtNjkKICAgIC8vIEFSQzkwX1VSSV9TQ0hFTUUKICAgIC8vICsgYXJjOTBfbmV0YXV0aAogICAgLy8gKyBBUkM5MF9VUklfQVBQX1BBVEgKICAgIC8vICsgaXRvYShhcHAuaWQpCiAgICAvLyArIEFSQzkwX1VSSV9CT1hfUVVFUlkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2F2bV9jb21tb24ucHk6NjUtNzAKICAgIC8vIEFSQzkwX1VSSV9TQ0hFTUUKICAgIC8vICsgYXJjOTBfbmV0YXV0aAogICAgLy8gKyBBUkM5MF9VUklfQVBQX1BBVEgKICAgIC8vICsgaXRvYShhcHAuaWQpCiAgICAvLyArIEFSQzkwX1VSSV9CT1hfUVVFUlkKICAgIC8vICsgYm94X25hbWUKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2NC03MQogICAgLy8gcmV0dXJuICgKICAgIC8vICAgICBBUkM5MF9VUklfU0NIRU1FCiAgICAvLyAgICAgKyBhcmM5MF9uZXRhdXRoCiAgICAvLyAgICAgKyBBUkM5MF9VUklfQVBQX1BBVEgKICAgIC8vICAgICArIGl0b2EoYXBwLmlkKQogICAgLy8gICAgICsgQVJDOTBfVVJJX0JPWF9RVUVSWQogICAgLy8gICAgICsgYm94X25hbWUKICAgIC8vICkKICAgIGZyYW1lX2J1cnkgMAogICAgcmV0c3ViCgphcmM5MF9ib3hfcXVlcnlfZWxzZV9ib2R5QDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo2MwogICAgLy8gYXJjOTBfbmV0YXV0aCA9IFRlbXBsYXRlVmFyW0J5dGVzXShBUkM5MF9ORVRBVVRIKQogICAgYnl0ZWMgNyAvLyBUTVBMX0FSQzkwX05FVEFVVEgKICAgIGIgYXJjOTBfYm94X3F1ZXJ5X2FmdGVyX2lmX2Vsc2VAMwoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9jcmVhdGVfbWV0YWRhdGFbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9jcmVhdGVfbWV0YWRhdGE6CiAgICBpbnRjXzEgLy8gMAogICAgZHVwbiAzCiAgICBieXRlY18xIC8vICIiCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mzc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBsZW4KICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ4CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGxlbgogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDgKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDQKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDUKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIHR4biBHcm91cEluZGV4CiAgICBpbnRjXzAgLy8gMQogICAgLQogICAgZHVwCiAgICBjb3ZlciA0CiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzAgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQwNC00MDUKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfYmFzZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkLCBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpKQogICAgdW5jb3ZlciAyCiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDQKICAgIGRpZyAzCiAgICBzd2FwCiAgICBjYWxsc3ViIF9jaGVja19iYXNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDcKICAgIC8vIHJldHVybiBhc2EgaW4gc2VsZi5hc3NldF9tZXRhZGF0YQogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQwNgogICAgLy8gYXNzZXJ0IG5vdCBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpLCBlcnIuQVNTRVRfTUVUQURBVEFfRVhJU1QKICAgICEKICAgIGFzc2VydCAvLyBBc3NldCBNZXRhZGF0YSBhbHJlYWR5IGV4aXN0cyBmb3IgdGhlIHNwZWNpZmllZCBBU0EKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDA4CiAgICAvLyBtYnJfZGVsdGFfcGF5bWVudC5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzCiAgICBzd2FwCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQwNy00MDkKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgbWJyX2RlbHRhX3BheW1lbnQucmVjZWl2ZXIgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcwogICAgLy8gKSwgZXJyLk1CUl9ERUxUQV9SRUNFSVZFUl9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBNQlIgRGVsdGEgcmVjZWl2ZXIsIG11c3QgYmUgdGhlIEFTQSBNZXRhZGF0YSBSZWdpc3RyeQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MTEtNDEyCiAgICAvLyAjIEluaXRpYWxpemUgZW1wdHkgQXNzZXQgTWV0YWRhdGEgQm94CiAgICAvLyBtYnJfaSA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIHN3YXAKICAgIGNvdmVyIDMKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MTMKICAgIC8vIF9leGlzdHMgPSBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc3NldF9pZCkuY3JlYXRlKHNpemU9VUludDY0KDApKQogICAgaW50Y18xIC8vIDAKICAgIGJveF9jcmVhdGUKICAgIHBvcAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MTUtNDE2CiAgICAvLyAjIFNldCBNZXRhZGF0YSBCb2R5CiAgICAvLyBpZiBwYXlsb2FkLm5hdGl2ZS5sZW5ndGggPiAwOgogICAgZXh0cmFjdCAyIDAKICAgIGR1cAogICAgbGVuCiAgICBieiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQxNwogICAgLy8gZW5zdXJlX2J1ZGdldChyZXF1aXJlZF9idWRnZXQ9Y29uc3QuQVBQX0NBTExfT1BfQlVER0VUKQogICAgcHVzaGludCA3MDAKICAgIGludGNfMSAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQxOAogICAgLy8gc2VsZi5fc2V0X21ldGFkYXRhX3BheWxvYWQoYXNzZXRfaWQsIG1ldGFkYXRhX3NpemUuYXNfdWludDY0KCksIHBheWxvYWQubmF0aXZlKQogICAgZGlnIDcKICAgIGR1cAogICAgZGlnIDUKICAgIGRpZyAzCiAgICBjYWxsc3ViIF9zZXRfbWV0YWRhdGFfcGF5bG9hZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MjAtNDIxCiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBIZWFkZXIKICAgIC8vIHNlbGYuX2lkZW50aWZ5X21ldGFkYXRhKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9pZGVudGlmeV9tZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0MjUKICAgIC8vIHVpbnQ9cmV2ZXJzaWJsZV9mbGFncy5hc191aW50NjQoKSwgc2l6ZT1VSW50NjQoY29uc3QuQllURV9TSVpFKQogICAgZGlnIDcKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjE5CiAgICAvLyByZXR1cm4gb3AuZXh0cmFjdChvcC5pdG9iKHVpbnQpLCBzdGFydCwgc2l6ZSkKICAgIGl0b2IKICAgIGV4dHJhY3QgNyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkyLTk0CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICAvLyApCiAgICBkaWcgNAogICAgZHVwCiAgICBjb3ZlciAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkzCiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkyLTk0CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQzMQogICAgLy8gdWludD1pcnJldmVyc2libGVfZmxhZ3MuYXNfdWludDY0KCksIHNpemU9VUludDY0KGNvbnN0LkJZVEVfU0laRSkKICAgIGRpZyA3CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToxOQogICAgLy8gcmV0dXJuIG9wLmV4dHJhY3Qob3AuaXRvYih1aW50KSwgc3RhcnQsIHNpemUpCiAgICBpdG9iCiAgICBleHRyYWN0IDcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDMtMTA1CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQzNAogICAgLy8gaWYgYXNzZXRfaWQubWV0YWRhdGFfaGFzaCAhPSBCeXRlcygKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRNZXRhZGF0YUhhc2gKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDM0LTQzNgogICAgLy8gaWYgYXNzZXRfaWQubWV0YWRhdGFfaGFzaCAhPSBCeXRlcygKICAgIC8vICAgICBjb25zdC5CWVRFUzMyX1NJWkUgKiBiIlx4MDAiCiAgICAvLyApOiAgIyBOb3QgZW1wdHkgbWV0YWRhdGEgaGFzaAogICAgcHVzaGJ5dGVzIDB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMAogICAgIT0KICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9lbHNlX2JvZHlANQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkaWcgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTAKICAgIC8vIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDM3CiAgICAvLyBhc3NlcnQgc2VsZi5faXNfaW1tdXRhYmxlKGFzc2V0X2lkKSwgZXJyLlJFUVVJUkVTX0lNTVVUQUJMRQogICAgYXNzZXJ0IC8vIE11c3QgYmUgZmxhZ2dlZCBhcyBpbW11dGFibGUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDM4CiAgICAvLyBtZXRhZGF0YV9oYXNoID0gYXNzZXRfaWQubWV0YWRhdGFfaGFzaAogICAgZGlnIDcKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRNZXRhZGF0YUhhc2gKICAgIHN3YXAKICAgIGJ1cnkgMTIKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNy0xMjkKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSEFTSCwgdmFsdWU9bWV0YWRhdGFfaGFzaAogICAgLy8gKQogICAgZGlnIDIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICBwdXNoaW50IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI3LTEyOQogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICAvLyApCiAgICBkaWcgMTMKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0MgogICAgLy8gc2VsZi5fc2V0X2xhc3RfbW9kaWZpZWRfcm91bmQoYXNzZXRfaWQsIEdsb2JhbC5yb3VuZCkKICAgIGdsb2JhbCBSb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDIKICAgIC8vIHZhbHVlPW9wLml0b2IobGFzdF9tb2RpZmllZF9yb3VuZCksCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0MC0xNDMKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICB2YWx1ZT1vcC5pdG9iKGxhc3RfbW9kaWZpZWRfcm91bmQpLAogICAgLy8gKQogICAgZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQxCiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIHB1c2hpbnQgMzUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQwLTE0MwogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgIHZhbHVlPW9wLml0b2IobGFzdF9tb2RpZmllZF9yb3VuZCksCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0MwogICAgLy8gc2VsZi5fc2V0X2RlcHJlY2F0ZWRfYnkoYXNzZXRfaWQsIFVJbnQ2NCgwKSkKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE1NgogICAgLy8gdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU0LTE1NwogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIHZhbHVlPW9wLml0b2IoZGVwcmVjYXRlZF9ieSksCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTUKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgcHVzaGludCA0MwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTQtMTU3CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0RFUFJFQ0FURURfQlksCiAgICAvLyAgICAgdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwCiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIHB1c2hpbnQgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NDUtNDQ2CiAgICAvLyAjIFBvc3Rjb25kaXRpb25zCiAgICAvLyBpZiBzZWxmLl9pc19hcmMzKGFzc2V0X2lkKToKICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToyMgogICAgLy8gYXNhX25hbWUgPSBhc2EubmFtZQogICAgZGlnIDcKICAgIGR1cAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldE5hbWUKICAgIHN3YXAKICAgIGR1cAogICAgY292ZXIgMwogICAgYnVyeSAxNgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjIzCiAgICAvLyBhc2FfdXJsID0gYXNhLnVybAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldFVSTAogICAgc3dhcAogICAgYnVyeSAxNAogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjI3CiAgICAvLyBpZiBhc2FfbmFtZSA9PSBBUkMzX05BTUU6CiAgICBwdXNoYnl0ZXMgMHg2MTcyNjMzMwogICAgPT0KICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDE5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MjgKICAgIC8vIHJldHVybiBUcnVlCiAgICBpbnRjXzAgLy8gMQoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzLmFzYV92YWxpZGF0aW9uLkFzYVZhbGlkYXRpb24uX2lzX2FyYzNfY29tcGxpYW50QDI2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NDcKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hcmMzX2NvbXBsaWFudChhc3NldF9pZCksIGVyci5BU0FfTk9UX0FSQzNfQ09NUExJQU5UCiAgICBhc3NlcnQgLy8gSW52YWxpZCBBUkMtMyBwYXJhbWV0ZXJzIChuYW1lIG9yIFVSTCkKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGRpZyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICBwdXNoaW50IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDQ4CiAgICAvLyBpZiBzZWxmLl9pc19hcmM4OV9uYXRpdmUoYXNzZXRfaWQpOgogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMTAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weTo0MS00MgogICAgLy8gIyBUaGlzIHZhbGlkYXRpb24gZG9lcyBub3QgZW5mb3JjZSBBUkMtOTAgY29tcGxpYW5jZSBmcmFnbWVudHMgKG9wdGlvbmFsKQogICAgLy8gYXJjODlfcGFydGlhbF91cmkgPSBhcmM5MF9ib3hfcXVlcnkoR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQsIEJ5dGVzKCkpCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uSUQKICAgIGJ5dGVjXzEgLy8gMHgKICAgIGNhbGxzdWIgYXJjOTBfYm94X3F1ZXJ5CiAgICBkdXAKICAgIGJ1cnkgMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weTo0MwogICAgLy8gYXNhX3VybCA9IGFzYS51cmwKICAgIGRpZyA4CiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0VVJMCiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgMTUKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weTo0NQogICAgLy8gaWYgYXNhX3VybC5sZW5ndGggPCBhcmM4OV9wYXJ0aWFsX3VyaS5sZW5ndGg6CiAgICBsZW4KICAgIGR1cAogICAgYnVyeSAxMgogICAgc3dhcAogICAgbGVuCiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIDwKICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6NDYKICAgIC8vIHJldHVybiBGYWxzZQogICAgaW50Y18xIC8vIDAKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy5hc2FfdmFsaWRhdGlvbi5Bc2FWYWxpZGF0aW9uLl9pc19hcmM4OV9jb21wbGlhbnRAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0OQogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FyYzg5X2NvbXBsaWFudChhc3NldF9pZCksIGVyci5BU0FfTk9UX0FSQzg5X0NPTVBMSUFOVAogICAgYXNzZXJ0IC8vIEludmFsaWQgQVJDLTg5IHBhcnRpYWwgVVJJCgphcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDUxCiAgICAvLyBzZWxmLl9lbWl0X3VwZGF0ZWRfZXZlbnQoYXNzZXRfaWQsIG1ldGFkYXRhX2hhc2gpCiAgICBkaWcgNwogICAgZGlnIDExCiAgICBjYWxsc3ViIF9lbWl0X3VwZGF0ZWRfZXZlbnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDUzCiAgICAvLyBtYnJfZGVsdGFfYW1vdW50ID0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5taW5fYmFsYW5jZSAtIG1icl9pCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIGRpZyAyCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ1NQogICAgLy8gbWJyX2RlbHRhX3BheW1lbnQuYW1vdW50ID49IG1icl9kZWx0YV9hbW91bnQKICAgIGRpZyA1CiAgICBndHhucyBBbW91bnQKICAgIGRpZyAxCiAgICA+PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NTQtNDU2CiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIG1icl9kZWx0YV9wYXltZW50LmFtb3VudCA+PSBtYnJfZGVsdGFfYW1vdW50CiAgICAvLyApLCBlcnIuTUJSX0RFTFRBX0FNT1VOVF9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBNQlIgRGVsdGEgYW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ1OQogICAgLy8gc2lnbj1hcmM0LlVJbnQ4KGVudW1zLk1CUl9ERUxUQV9QT1MpLCBhbW91bnQ9YXJjNC5VSW50NjQobWJyX2RlbHRhX2Ftb3VudCkKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mzc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGJ5dGVjIDUgLy8gMHgxNTFmN2M3NTAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMTM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo0OAogICAgLy8gYXNzZXJ0IHByZWZpeC5sZW5ndGggPD0gcy5sZW5ndGgKICAgIGRpZyA4CiAgICBkdXAKICAgIGRpZyAxMQogICAgZHVwCiAgICBjb3ZlciAzCiAgICA8PQogICAgYXNzZXJ0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weTo0OQogICAgLy8gcmV0dXJuIHNbOiBwcmVmaXgubGVuZ3RoXSA9PSBwcmVmaXgKICAgIGR1cAogICAgZGlnIDIKICAgID49CiAgICBzd2FwCiAgICBjb3ZlciAyCiAgICBzZWxlY3QKICAgIGRpZyAxMgogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc3Vic3RyaW5nMwogICAgZGlnIDE0CiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NDkKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hcmM4OV9jb21wbGlhbnQoYXNzZXRfaWQpLCBlcnIuQVNBX05PVF9BUkM4OV9DT01QTElBTlQKICAgIGIgYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzLmFzYV92YWxpZGF0aW9uLkFzYVZhbGlkYXRpb24uX2lzX2FyYzg5X2NvbXBsaWFudEAxNAoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMTk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzAKICAgIC8vIGlmIGFzYV9uYW1lLmxlbmd0aCA+PSBhcmMzX25hbWVfc3VmZml4Lmxlbmd0aDoKICAgIGRpZyAxMgogICAgbGVuCiAgICBwdXNoaW50IDUKICAgID49CiAgICBieiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAyMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjMxCiAgICAvLyBpZiBlbmRzd2l0aChhc2FfbmFtZSwgYXJjM19uYW1lX3N1ZmZpeCk6CiAgICBkaWcgMTIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToyNAogICAgLy8gYXJjM19uYW1lX3N1ZmZpeCA9IEJ5dGVzKEFSQzNfTkFNRV9TVUZGSVgpCiAgICBwdXNoYnl0ZXMgMHg0MDYxNzI2MzMzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzEKICAgIC8vIGlmIGVuZHN3aXRoKGFzYV9uYW1lLCBhcmMzX25hbWVfc3VmZml4KToKICAgIGNhbGxzdWIgZW5kc3dpdGgKICAgIGJ6IGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDIyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzIKICAgIC8vIHJldHVybiBUcnVlCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NDcKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hcmMzX2NvbXBsaWFudChhc3NldF9pZCksIGVyci5BU0FfTk9UX0FSQzNfQ09NUExJQU5UCiAgICBiIGFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy5hc2FfdmFsaWRhdGlvbi5Bc2FWYWxpZGF0aW9uLl9pc19hcmMzX2NvbXBsaWFudEAyNgoKYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMjI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzQKICAgIC8vIGlmIGFzYV91cmwubGVuZ3RoID49IGFyYzNfdXJsX3N1ZmZpeC5sZW5ndGg6CiAgICBkaWcgMTEKICAgIGxlbgogICAgcHVzaGludCA1CiAgICA+PQogICAgYnogYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMjUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weTozNQogICAgLy8gaWYgZW5kc3dpdGgoYXNhX3VybCwgYXJjM191cmxfc3VmZml4KToKICAgIGRpZyAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjI1CiAgICAvLyBhcmMzX3VybF9zdWZmaXggPSBCeXRlcyhBUkMzX1VSTF9TVUZGSVgpCiAgICBwdXNoYnl0ZXMgMHgyMzYxNzI2MzMzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MzUKICAgIC8vIGlmIGVuZHN3aXRoKGFzYV91cmwsIGFyYzNfdXJsX3N1ZmZpeCk6CiAgICBjYWxsc3ViIGVuZHN3aXRoCiAgICBieiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUAyNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjM2CiAgICAvLyByZXR1cm4gVHJ1ZQogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDQ3CiAgICAvLyBhc3NlcnQgc2VsZi5faXNfYXJjM19jb21wbGlhbnQoYXNzZXRfaWQpLCBlcnIuQVNBX05PVF9BUkMzX0NPTVBMSUFOVAogICAgYiBhcmM4OV9jcmVhdGVfbWV0YWRhdGFfYWZ0ZXJfaW5saW5lZF9zbWFydF9jb250cmFjdHMuYXNhX3ZhbGlkYXRpb24uQXNhVmFsaWRhdGlvbi5faXNfYXJjM19jb21wbGlhbnRAMjYKCmFyYzg5X2NyZWF0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDI1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjM4CiAgICAvLyByZXR1cm4gRmFsc2UKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0NwogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FyYzNfY29tcGxpYW50KGFzc2V0X2lkKSwgZXJyLkFTQV9OT1RfQVJDM19DT01QTElBTlQKICAgIGIgYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzLmFzYV92YWxpZGF0aW9uLkFzYVZhbGlkYXRpb24uX2lzX2FyYzNfY29tcGxpYW50QDI2CgphcmM4OV9jcmVhdGVfbWV0YWRhdGFfZWxzZV9ib2R5QDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ0MAogICAgLy8gbWV0YWRhdGFfaGFzaCA9IHNlbGYuX2NvbXB1dGVfbWV0YWRhdGFfaGFzaChhc3NldF9pZCkKICAgIGRpZyA3CiAgICBjYWxsc3ViIF9jb21wdXRlX21ldGFkYXRhX2hhc2gKICAgIGJ1cnkgMTEKICAgIGIgYXJjODlfY3JlYXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VANgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9yZXBsYWNlX21ldGFkYXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfcmVwbGFjZV9tZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDYyCiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQxNgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0ODMtNDg0CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX3VwZGF0ZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkLCBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpKQogICAgc3dhcAogICAgYnRvaQogICAgZGlnIDIKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0ODUtNDg3CiAgICAvLyBhc3NlcnQgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSA8PSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZSgKICAgIC8vICAgICBhc3NldF9pZAogICAgLy8gKSwgZXJyLkxBUkdFUl9NRVRBREFUQV9TSVpFCiAgICBkaWcgMgogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIGRpZyAxCiAgICA+PQogICAgYXNzZXJ0IC8vIEludmFsaWQgTWV0YWRhdGEgc2l6ZSwgbXVzdCBiZSBzbWFsbGVyIHRoYW4gb3IgZXF1YWwgdG8gdGhlIGN1cnJlbnQgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0ODktNDkwCiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBCb2R5CiAgICAvLyBtYnJfaSA9IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0OTEKICAgIC8vIHNlbGYuX3NldF9tZXRhZGF0YV9wYXlsb2FkKGFzc2V0X2lkLCBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpLCBwYXlsb2FkLm5hdGl2ZSkKICAgIHVuY292ZXIgMgogICAgZXh0cmFjdCAyIDAKICAgIGRpZyAzCiAgICBkaWcgMwogICAgdW5jb3ZlciAyCiAgICBjYWxsc3ViIF9zZXRfbWV0YWRhdGFfcGF5bG9hZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0OTMtNDk0CiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBIZWFkZXIKICAgIC8vIHNlbGYuX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0KGFzc2V0X2lkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ5OAogICAgLy8gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpID09IG1ldGFkYXRhX3NpemUuYXNfdWludDY0KCkKICAgIHVuY292ZXIgMgogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIHVuY292ZXIgMgogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDk2LTQ5OQogICAgLy8gIyBQb3N0Y29uZGl0aW9ucwogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkgPT0gbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKQogICAgLy8gKSwgZXJyLk1FVEFEQVRBX1NJWkVfTUlTTUFUQ0gKICAgIGFzc2VydCAvLyBNZXRhZGF0YSBzaXplIG1pc21hdGNoLCBtdXN0IGJlIGV4YWN0bHkgZXF1YWwgdG8gZGVjbGFyZWQgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDEKICAgIC8vIG1icl9kZWx0YV9hbW91bnQgPSBtYnJfaSAtIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUwMgogICAgLy8gaWYgbWJyX2RlbHRhX2Ftb3VudCA9PSAwOgogICAgYm56IGFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfZWxzZV9ib2R5QDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTAzCiAgICAvLyBzaWduID0gVUludDY0KGVudW1zLk1CUl9ERUxUQV9OVUxMKQogICAgaW50Y18xIC8vIDAKCmFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MTEKICAgIC8vIHJldHVybiBhYmkuTWJyRGVsdGEoc2lnbj1hcmM0LlVJbnQ4KHNpZ24pLCBhbW91bnQ9YXJjNC5VSW50NjQobWJyX2RlbHRhX2Ftb3VudCkpCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgaW50Y18yIC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICBkaWcgMQogICAgaXRvYgogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ2MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgphcmM4OV9yZXBsYWNlX21ldGFkYXRhX2Vsc2VfYm9keUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDUKICAgIC8vIHNpZ24gPSBVSW50NjQoZW51bXMuTUJSX0RFTFRBX05FRykKICAgIHB1c2hpbnQgMjU1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUwNi01MDkKICAgIC8vIGl0eG4uUGF5bWVudCgKICAgIC8vICAgICByZWNlaXZlcj1hc3NldF9pZC5tYW5hZ2VyLAogICAgLy8gICAgIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50LAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDcKICAgIC8vIHJlY2VpdmVyPWFzc2V0X2lkLm1hbmFnZXIsCiAgICBkaWcgMgogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldE1hbmFnZXIKICAgIGFzc2VydCAvLyBhc3NldCBleGlzdHMKICAgIGRpZyAyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgaXR4bl9maWVsZCBSZWNlaXZlcgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDYKICAgIC8vIGl0eG4uUGF5bWVudCgKICAgIGludGNfMCAvLyBwYXkKICAgIGl0eG5fZmllbGQgVHlwZUVudW0KICAgIGludGNfMSAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MDYtNTA5CiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICAvLyAgICAgcmVjZWl2ZXI9YXNzZXRfaWQubWFuYWdlciwKICAgIC8vICAgICBhbW91bnQ9bWJyX2RlbHRhX2Ftb3VudCwKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICBiIGFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfYWZ0ZXJfaWZfZWxzZUA1CgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfbGFyZ2VyW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfcmVwbGFjZV9tZXRhZGF0YV9sYXJnZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUxMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18zIC8vIDIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDE2CiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAzCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBpbnRjXzMgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICB0eG4gR3JvdXBJbmRleAogICAgaW50Y18wIC8vIDEKICAgIC0KICAgIGR1cAogICAgZ3R4bnMgVHlwZUVudW0KICAgIGludGNfMCAvLyBwYXkKICAgID09CiAgICBhc3NlcnQgLy8gdHJhbnNhY3Rpb24gdHlwZSBpcyBwYXkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTM2LTUzNwogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucyhhc3NldF9pZCwgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSkKICAgIHVuY292ZXIgMgogICAgYnRvaQogICAgZGlnIDMKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1MzgtNTQwCiAgICAvLyBhc3NlcnQgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSA+IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKAogICAgLy8gICAgIGFzc2V0X2lkCiAgICAvLyApLCBlcnIuU01BTExFUl9NRVRBREFUQV9TSVpFCiAgICBkaWcgMwogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIGRpZyAxCiAgICA8CiAgICBhc3NlcnQgLy8gSW52YWxpZCBNZXRhZGF0YSBzaXplLCBtdXN0IGJlIGxhcmdlciB0aGFuIHRoZSBjdXJyZW50IHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTQyCiAgICAvLyBtYnJfZGVsdGFfcGF5bWVudC5yZWNlaXZlciA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzCiAgICBkaWcgMQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NDEtNTQzCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIG1icl9kZWx0YV9wYXltZW50LnJlY2VpdmVyID09IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MKICAgIC8vICksIGVyci5NQlJfREVMVEFfUkVDRUlWRVJfSU5WQUxJRAogICAgYXNzZXJ0IC8vIEludmFsaWQgTUJSIERlbHRhIHJlY2VpdmVyLCBtdXN0IGJlIHRoZSBBU0EgTWV0YWRhdGEgUmVnaXN0cnkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTQ1LTU0NgogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgQm9keQogICAgLy8gbWJyX2kgPSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLm1pbl9iYWxhbmNlCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTQ3CiAgICAvLyBzZWxmLl9zZXRfbWV0YWRhdGFfcGF5bG9hZChhc3NldF9pZCwgbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSwgcGF5bG9hZC5uYXRpdmUpCiAgICB1bmNvdmVyIDMKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgNAogICAgZGlnIDMKICAgIHVuY292ZXIgMgogICAgY2FsbHN1YiBfc2V0X21ldGFkYXRhX3BheWxvYWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTQ5LTU1MAogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgSGVhZGVyCiAgICAvLyBzZWxmLl91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdChhc3NldF9pZCkKICAgIGRpZyAzCiAgICBjYWxsc3ViIF91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NTQKICAgIC8vIHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzc2V0X2lkKSA9PSBtZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpCiAgICB1bmNvdmVyIDMKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICB1bmNvdmVyIDIKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU1Mi01NTUKICAgIC8vICMgUG9zdGNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpID09IG1ldGFkYXRhX3NpemUuYXNfdWludDY0KCkKICAgIC8vICksIGVyci5NRVRBREFUQV9TSVpFX01JU01BVENICiAgICBhc3NlcnQgLy8gTWV0YWRhdGEgc2l6ZSBtaXNtYXRjaCwgbXVzdCBiZSBleGFjdGx5IGVxdWFsIHRvIGRlY2xhcmVkIHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTU3CiAgICAvLyBtYnJfZGVsdGFfYW1vdW50ID0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5taW5fYmFsYW5jZSAtIG1icl9pCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIHN3YXAKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTU5CiAgICAvLyBtYnJfZGVsdGFfcGF5bWVudC5hbW91bnQgPj0gbWJyX2RlbHRhX2Ftb3VudAogICAgc3dhcAogICAgZ3R4bnMgQW1vdW50CiAgICBkaWcgMQogICAgPj0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTU4LTU2MAogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBtYnJfZGVsdGFfcGF5bWVudC5hbW91bnQgPj0gbWJyX2RlbHRhX2Ftb3VudAogICAgLy8gKSwgZXJyLk1CUl9ERUxUQV9BTU9VTlRfSU5WQUxJRAogICAgYXNzZXJ0IC8vIEludmFsaWQgTUJSIERlbHRhIGFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NjMKICAgIC8vIHNpZ249YXJjNC5VSW50OChlbnVtcy5NQlJfREVMVEFfUE9TKSwgYW1vdW50PWFyYzQuVUludDY0KG1icl9kZWx0YV9hbW91bnQpCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUxMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBieXRlYyA1IC8vIDB4MTUxZjdjNzUwMQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfcmVwbGFjZV9tZXRhZGF0YV9zbGljZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2U6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBkaWcgMQogICAgbGVuCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmR5bmFtaWNfYXJyYXk8YXJjNC51aW50OD4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTgzLTU4NAogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja191cGRhdGVfcHJlY29uZGl0aW9ucyhhc3NldF9pZCwgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICBkaWcgMwogICAgc3dhcAogICAgY2FsbHN1YiBfY2hlY2tfdXBkYXRlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTg1CiAgICAvLyBhc3NlcnQgb2Zmc2V0LmFzX3VpbnQ2NCgpICsgcGF5bG9hZC5uYXRpdmUubGVuZ3RoIDw9IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKAogICAgc3dhcAogICAgYnRvaQogICAgc3dhcAogICAgZXh0cmFjdCAyIDAKICAgIGR1cAogICAgY292ZXIgMwogICAgZHVwCiAgICBsZW4KICAgIGRpZyAyCiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1ODUtNTg3CiAgICAvLyBhc3NlcnQgb2Zmc2V0LmFzX3VpbnQ2NCgpICsgcGF5bG9hZC5uYXRpdmUubGVuZ3RoIDw9IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKAogICAgLy8gICAgIGFzc2V0X2lkCiAgICAvLyApLCBlcnIuRVhDRUVEU19NRVRBREFUQV9TSVpFCiAgICBkaWcgNAogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIDw9CiAgICBhc3NlcnQgLy8gU2xpY2UgZXhjZWVkcyBtZXRhZGF0YSByYW5nZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNTgKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICB1bmNvdmVyIDMKICAgIGl0b2IKICAgIGR1cAogICAgY292ZXIgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNTkKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQSArIG9mZnNldCwgbGVuZ3RoPXNpemUKICAgIHB1c2hpbnQgNTEKICAgIHVuY292ZXIgNAogICAgKwogICAgZHVwCiAgICBjb3ZlciA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1OC0yNjAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgb2Zmc2V0LCBsZW5ndGg9c2l6ZQogICAgLy8gKQogICAgdW5jb3ZlciAyCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1OTMKICAgIC8vIGlmIHBheWxvYWQubmF0aXZlICE9IGV4aXN0aW5nX3NsaWNlOgogICAgIT0KICAgIGJ6IGFyYzg5X3JlcGxhY2VfbWV0YWRhdGFfc2xpY2VfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU5NC01OTgKICAgIC8vICMgVXBkYXRlIE1ldGFkYXRhIEJvZHkKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzc2V0X2lkKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQSArIG9mZnNldC5hc191aW50NjQoKSwKICAgIC8vICAgICB2YWx1ZT1wYXlsb2FkLm5hdGl2ZSwKICAgIC8vICkKICAgIGR1cDIKICAgIGRpZyA0CiAgICBib3hfcmVwbGFjZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2MDAtNjAxCiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBIZWFkZXIKICAgIC8vIHNlbGYuX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0KGFzc2V0X2lkKQogICAgZGlnIDMKICAgIGNhbGxzdWIgX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0CgphcmM4OV9yZXBsYWNlX21ldGFkYXRhX3NsaWNlX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTY2CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfbWlncmF0ZV9tZXRhZGF0YVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X21pZ3JhdGVfbWV0YWRhdGE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYwMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBkdXAKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjE4LTYxOQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZGlnIDEKICAgIGNhbGxzdWIgX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjIxCiAgICAvLyBuZXdfcmVnaXN0cnlfaWQuYXNfdWludDY0KCkgIT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQuaWQKICAgIGJ0b2kKICAgIGR1cAogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICAhPQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2MjAtNjIyCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIG5ld19yZWdpc3RyeV9pZC5hc191aW50NjQoKSAhPSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZC5pZAogICAgLy8gKSwgZXJyLk5FV19SRUdJU1RSWV9JRF9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBuZXcgQVNBIE1ldGFkYXRhIFJlZ2lzdHJ5IElELCBtdXN0IGJlIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU0CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICBzd2FwCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE1NgogICAgLy8gdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIHN3YXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU0LTE1NwogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIHZhbHVlPW9wLml0b2IoZGVwcmVjYXRlZF9ieSksCiAgICAvLyApCiAgICBkaWcgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTUKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgcHVzaGludCA0MwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNTQtMTU3CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0RFUFJFQ0FURURfQlksCiAgICAvLyAgICAgdmFsdWU9b3AuaXRvYihkZXByZWNhdGVkX2J5KSwKICAgIC8vICkKICAgIHVuY292ZXIgMgogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjMwCiAgICAvLyByb3VuZD1hcmM0LlVJbnQ2NChHbG9iYWwucm91bmQpLAogICAgZ2xvYmFsIFJvdW5kCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYzMQogICAgLy8gdGltZXN0YW1wPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ3LTE1MAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5ERVBSRUNBVEVEX0JZX1NJWkUsCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIHB1c2hpbnQgNDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ5CiAgICAvLyBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgaW50Y18yIC8vIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ3LTE1MAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5ERVBSRUNBVEVEX0JZX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDYtMTUxCiAgICAvLyByZXR1cm4gb3AuYnRvaSgKICAgIC8vICAgICBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9ERVBSRUNBVEVEX0JZLAogICAgLy8gICAgICAgICBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjMyCiAgICAvLyBuZXdfcmVnaXN0cnlfaWQ9YXJjNC5VSW50NjQoc2VsZi5fZ2V0X2RlcHJlY2F0ZWRfYnkoYXNzZXRfaWQpKSwKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjI4LTYzMwogICAgLy8gYWJpLkFyYzg5TWV0YWRhdGFNaWdyYXRlZCgKICAgIC8vICAgICBhc3NldF9pZD1hcmM0LlVJbnQ2NChhc3NldF9pZC5pZCksCiAgICAvLyAgICAgcm91bmQ9YXJjNC5VSW50NjQoR2xvYmFsLnJvdW5kKSwKICAgIC8vICAgICB0aW1lc3RhbXA9YXJjNC5VSW50NjQoR2xvYmFsLmxhdGVzdF90aW1lc3RhbXApLAogICAgLy8gICAgIG5ld19yZWdpc3RyeV9pZD1hcmM0LlVJbnQ2NChzZWxmLl9nZXRfZGVwcmVjYXRlZF9ieShhc3NldF9pZCkpLAogICAgLy8gKQogICAgdW5jb3ZlciAzCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjI3LTYzNAogICAgLy8gYXJjNC5lbWl0KAogICAgLy8gICAgIGFiaS5BcmM4OU1ldGFkYXRhTWlncmF0ZWQoCiAgICAvLyAgICAgICAgIGFzc2V0X2lkPWFyYzQuVUludDY0KGFzc2V0X2lkLmlkKSwKICAgIC8vICAgICAgICAgcm91bmQ9YXJjNC5VSW50NjQoR2xvYmFsLnJvdW5kKSwKICAgIC8vICAgICAgICAgdGltZXN0YW1wPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIC8vICAgICAgICAgbmV3X3JlZ2lzdHJ5X2lkPWFyYzQuVUludDY0KHNlbGYuX2dldF9kZXByZWNhdGVkX2J5KGFzc2V0X2lkKSksCiAgICAvLyAgICAgKQogICAgLy8gKQogICAgcHVzaGJ5dGVzIDB4Yzg3MDIzYmYgLy8gbWV0aG9kICJBcmM4OU1ldGFkYXRhTWlncmF0ZWQodWludDY0LHVpbnQ2NCx1aW50NjQsdWludDY0KSIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYwMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2RlbGV0ZV9tZXRhZGF0YVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2RlbGV0ZV9tZXRhZGF0YToKICAgIGJ5dGVjXzEgLy8gIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjM2CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NTEtNjUyCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpLCBlcnIuQVNTRVRfTUVUQURBVEFfTk9UX0VYSVNUCiAgICBhc3NlcnQgLy8gQXNzZXQgTWV0YWRhdGEgZG9lcyBub3QgZXhpc3QgZm9yIHRoZSBzcGVjaWZpZWQgQVNBCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MTUKICAgIC8vIF9jcmVhdG9yLCBleGlzdHMgPSBvcC5Bc3NldFBhcmFtc0dldC5hc3NldF9jcmVhdG9yKGFzYSkKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjUzCiAgICAvLyBpZiBzZWxmLl9hc2FfZXhpc3RzKGFzc2V0X2lkKToKICAgIGJ6IGFyYzg5X2RlbGV0ZV9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NTQKICAgIC8vIGFzc2VydCBub3Qgc2VsZi5faXNfaW1tdXRhYmxlKGFzc2V0X2lkKSwgZXJyLklNTVVUQUJMRQogICAgIQogICAgYXNzZXJ0IC8vIE1ldGFkYXRhIGlzIGltbXV0YWJsZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NTUKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hc2FfbWFuYWdlcihhc3NldF9pZCksIGVyci5VTkFVVEhPUklaRUQKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9pc19hc2FfbWFuYWdlcgogICAgYXNzZXJ0IC8vIFVuYXV0aG9yaXplZCwgbXVzdCBiZSB0aGUgQXNzZXQgTWFuYWdlcgoKYXJjODlfZGVsZXRlX21ldGFkYXRhX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjU3LTY1OAogICAgLy8gIyBEZWxldGUgTWV0YWRhdGEgYW5kIHJlZnVuZCBNQlIKICAgIC8vIG1icl9pID0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5taW5fYmFsYW5jZQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY1OQogICAgLy8gZGVsIHNlbGYuYXNzZXRfbWV0YWRhdGFbYXNzZXRfaWRdCiAgICBkaWcgMQogICAgYm94X2RlbAogICAgcG9wCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY2MAogICAgLy8gbWJyX2RlbHRhX2Ftb3VudCA9IG1icl9pIC0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5taW5fYmFsYW5jZQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAtCiAgICBidXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjYxLTY2NAogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPWFzc2V0X2lkLm1hbmFnZXIgaWYgc2VsZi5fYXNhX2V4aXN0cyhhc3NldF9pZCkgZWxzZSBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50LAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjE1CiAgICAvLyBfY3JlYXRvciwgZXhpc3RzID0gb3AuQXNzZXRQYXJhbXNHZXQuYXNzZXRfY3JlYXRvcihhc2EpCiAgICBkaWcgMQogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NjIKICAgIC8vIHJlY2VpdmVyPWFzc2V0X2lkLm1hbmFnZXIgaWYgc2VsZi5fYXNhX2V4aXN0cyhhc3NldF9pZCkgZWxzZSBUeG4uc2VuZGVyLAogICAgYnogYXJjODlfZGVsZXRlX21ldGFkYXRhX3Rlcm5hcnlfZmFsc2VANQogICAgZGlnIDEKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRNYW5hZ2VyCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCgphcmM4OV9kZWxldGVfbWV0YWRhdGFfdGVybmFyeV9tZXJnZUA2OgogICAgZGlnIDQKICAgIGR1cAogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIHN3YXAKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjYxCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICBpbnRjXzAgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjYxLTY2NAogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPWFzc2V0X2lkLm1hbmFnZXIgaWYgc2VsZi5fYXNhX2V4aXN0cyhhc3NldF9pZCkgZWxzZSBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudD1tYnJfZGVsdGFfYW1vdW50LAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9zdWJtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjY5CiAgICAvLyByb3VuZD1hcmM0LlVJbnQ2NChHbG9iYWwucm91bmQpLAogICAgZ2xvYmFsIFJvdW5kCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY3MAogICAgLy8gdGltZXN0YW1wPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjY3LTY3MQogICAgLy8gYWJpLkFyYzg5TWV0YWRhdGFEZWxldGVkKAogICAgLy8gICAgIGFzc2V0X2lkPWFyYzQuVUludDY0KGFzc2V0X2lkLmlkKSwKICAgIC8vICAgICByb3VuZD1hcmM0LlVJbnQ2NChHbG9iYWwucm91bmQpLAogICAgLy8gICAgIHRpbWVzdGFtcD1hcmM0LlVJbnQ2NChHbG9iYWwubGF0ZXN0X3RpbWVzdGFtcCksCiAgICAvLyApCiAgICBkaWcgNQogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NjYtNjcyCiAgICAvLyBhcmM0LmVtaXQoCiAgICAvLyAgICAgYWJpLkFyYzg5TWV0YWRhdGFEZWxldGVkKAogICAgLy8gICAgICAgICBhc3NldF9pZD1hcmM0LlVJbnQ2NChhc3NldF9pZC5pZCksCiAgICAvLyAgICAgICAgIHJvdW5kPWFyYzQuVUludDY0KEdsb2JhbC5yb3VuZCksCiAgICAvLyAgICAgICAgIHRpbWVzdGFtcD1hcmM0LlVJbnQ2NChHbG9iYWwubGF0ZXN0X3RpbWVzdGFtcCksCiAgICAvLyAgICAgKQogICAgLy8gKQogICAgcHVzaGJ5dGVzIDB4YmMzZjIwZDEgLy8gbWV0aG9kICJBcmM4OU1ldGFkYXRhRGVsZXRlZCh1aW50NjQsdWludDY0LHVpbnQ2NCkiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2NzUKICAgIC8vIHNpZ249YXJjNC5VSW50OChlbnVtcy5NQlJfREVMVEFfTkVHKSwgYW1vdW50PWFyYzQuVUludDY0KG1icl9kZWx0YV9hbW91bnQpCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjYzNgogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBwdXNoYnl0ZXMgMHgxNTFmN2M3NWZmCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKYXJjODlfZGVsZXRlX21ldGFkYXRhX3Rlcm5hcnlfZmFsc2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjYyCiAgICAvLyByZWNlaXZlcj1hc3NldF9pZC5tYW5hZ2VyIGlmIHNlbGYuX2FzYV9leGlzdHMoYXNzZXRfaWQpIGVsc2UgVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIGIgYXJjODlfZGVsZXRlX21ldGFkYXRhX3Rlcm5hcnlfbWVyZ2VANgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9leHRyYV9wYXlsb2FkW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZXh0cmFfcGF5bG9hZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Njc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgaW50Y18xIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBzd2FwCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTItNjkzCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCBHbG9iYWwuZ3JvdXBfc2l6ZSA+PSAyLCBlcnIuTk9fUEFZTE9BRF9IRUFEX0NBTEwKICAgIGdsb2JhbCBHcm91cFNpemUKICAgIGludGNfMyAvLyAyCiAgICA+PQogICAgYXNzZXJ0IC8vIE5vIHBheWxvYWQgaGVhZCBjYWxsIGluIEdyb3VwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MTUKICAgIC8vIF9jcmVhdG9yLCBleGlzdHMgPSBvcC5Bc3NldFBhcmFtc0dldC5hc3NldF9jcmVhdG9yKGFzYSkKICAgIGR1cAogICAgYXNzZXRfcGFyYW1zX2dldCBBc3NldENyZWF0b3IKICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTQKICAgIC8vIGFzc2VydCBzZWxmLl9hc2FfZXhpc3RzKGFzc2V0X2lkKSwgZXJyLkFTQV9OT1RfRVhJU1QKICAgIGFzc2VydCAvLyBUaGUgc3BlY2lmaWVkIEFTQSBkb2VzIG5vdCBleGlzdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBkdXAKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OTUKICAgIC8vIGFzc2VydCBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpLCBlcnIuQVNTRVRfTUVUQURBVEFfTk9UX0VYSVNUCiAgICBhc3NlcnQgLy8gQXNzZXQgTWV0YWRhdGEgZG9lcyBub3QgZXhpc3QgZm9yIHRoZSBzcGVjaWZpZWQgQVNBCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5NgogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FzYV9tYW5hZ2VyKGFzc2V0X2lkKSwgZXJyLlVOQVVUSE9SSVpFRAogICAgY2FsbHN1YiBfaXNfYXNhX21hbmFnZXIKICAgIGFzc2VydCAvLyBVbmF1dGhvcml6ZWQsIG11c3QgYmUgdGhlIEFzc2V0IE1hbmFnZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Njc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfc2V0X3JldmVyc2libGVfZmxhZ1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3NldF9yZXZlcnNpYmxlX2ZsYWc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICBkdXAKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LmJvb2wKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzE0LTcxNQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzE2CiAgICAvLyBhc3NlcnQgZmxhZy5hc191aW50NjQoKSA8PSBmbGcuUkVWX0ZMR19SRVNFUlZFRF83LCBlcnIuRkxBR19JRFhfSU5WQUxJRAogICAgc3dhcAogICAgYnRvaQogICAgZHVwCiAgICBwdXNoaW50IDcKICAgIDw9CiAgICBhc3NlcnQgLy8gSW52YWxpZCBmbGFnIGluZGV4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICBpbnRjXzAgLy8gMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9SRVZfRkxBRyAtIGZsYWcsCiAgICBwdXNoaW50IDcKICAgIHVuY292ZXIgMgogICAgLQogICAgZHVwCiAgICBjb3ZlciAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc4LTgxCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9yZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9SRVZfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzIwCiAgICAvLyBpZiB2YWx1ZS5uYXRpdmUgIT0gZXhpc3RpbmdfdmFsdWU6CiAgICBzd2FwCiAgICBpbnRjXzEgLy8gMAogICAgZ2V0Yml0CiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgIT0KICAgIGJ6IGFyYzg5X3NldF9yZXZlcnNpYmxlX2ZsYWdfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBkaWcgMgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc0CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgaW50Y18wIC8vIDEKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3My03NQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODYtODgKICAgIC8vIHVwZGF0ZWRfZmxhZ3MgPSBvcC5zZXRiaXRfYnl0ZXMoCiAgICAvLyAgICAgc2VsZi5fZ2V0X3JldmVyc2libGVfZmxhZ3MoYXNhKSwgY29uc3QuQklUX1JJR0hUTU9TVF9SRVZfRkxBRyAtIGZsYWcsIHZhbHVlCiAgICAvLyApCiAgICBkaWcgMwogICAgZGlnIDMKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5MwogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Mi05NAogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCB2YWx1ZT1mbGFncwogICAgLy8gKQogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzI2LTcyNwogICAgLy8gIyBVcGRhdGUgTWV0YWRhdGEgSGVhZGVyCiAgICAvLyBzZWxmLl91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdChhc3NldF9pZCkKICAgIGRpZyAzCiAgICBjYWxsc3ViIF91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdAoKYXJjODlfc2V0X3JldmVyc2libGVfZmxhZ19hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzI5CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc0My03NDQKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfc2V0X2ZsYWdfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIHN3YXAKICAgIGNhbGxzdWIgX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQ2CiAgICAvLyBmbGcuSVJSX0ZMR19SRVNFUlZFRF8yIDw9IGZsYWcuYXNfdWludDY0KCkgPD0gZmxnLklSUl9GTEdfUkVTRVJWRURfNgogICAgYnRvaQogICAgZHVwCiAgICBpbnRjXzMgLy8gMgogICAgPj0KICAgIGJ6IGFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ19ib29sX2ZhbHNlQDQKICAgIGR1cAogICAgcHVzaGludCA2CiAgICA8PQogICAgYnogYXJjODlfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX2Jvb2xfZmFsc2VANAogICAgaW50Y18wIC8vIDEKCmFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ19ib29sX21lcmdlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc0NS03NDcKICAgIC8vIGFzc2VydCAoCiAgICAvLyAgICAgZmxnLklSUl9GTEdfUkVTRVJWRURfMiA8PSBmbGFnLmFzX3VpbnQ2NCgpIDw9IGZsZy5JUlJfRkxHX1JFU0VSVkVEXzYKICAgIC8vICksIGVyci5GTEFHX0lEWF9JTlZBTElECiAgICBhc3NlcnQgLy8gSW52YWxpZCBmbGFnIGluZGV4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgZGlnIDEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwCiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIHB1c2hpbnQgNwogICAgZGlnIDIKICAgIC0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4LTExMQogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfaXJyZXZlcnNpYmxlX2ZsYWdzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzUxCiAgICAvLyBpZiBub3QgZXhpc3RpbmdfdmFsdWU6CiAgICBibnogYXJjODlfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX2FmdGVyX2lmX2Vsc2VANwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NTItNzUzCiAgICAvLyAjIFNldCBJcnJldmVyc2libGUgRmxhZwogICAgLy8gc2VsZi5fc2V0X2lycmV2ZXJzaWJsZV9mbGFnX3ZhbHVlKGFzc2V0X2lkLCBmbGFnLmFzX3VpbnQ2NCgpKQogICAgZGlnIDEKICAgIGR1cAogICAgZGlnIDIKICAgIGNhbGxzdWIgX3NldF9pcnJldmVyc2libGVfZmxhZ192YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NTUtNzU2CiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBIZWFkZXIKICAgIC8vIHNlbGYuX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0KGFzc2V0X2lkKQogICAgY2FsbHN1YiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQKCmFyYzg5X3NldF9pcnJldmVyc2libGVfZmxhZ19hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjcyOQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgphcmM4OV9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfYm9vbF9mYWxzZUA0OgogICAgaW50Y18xIC8vIDAKICAgIGIgYXJjODlfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX2Jvb2xfbWVyZ2VANQoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5hcmM4OV9zZXRfaW1tdXRhYmxlW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfc2V0X2ltbXV0YWJsZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzU4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzcwLTc3MQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc3My03NzQKICAgIC8vICMgU2V0IEltbXV0YWJsZSBGbGFnCiAgICAvLyBzZWxmLl9zZXRfaXJyZXZlcnNpYmxlX2ZsYWdfdmFsdWUoYXNzZXRfaWQsIFVJbnQ2NChmbGcuSVJSX0ZMR19JTU1VVEFCTEUpKQogICAgZHVwCiAgICBwdXNoaW50IDcKICAgIGNhbGxzdWIgX3NldF9pcnJldmVyc2libGVfZmxhZ192YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3NzYtNzc3CiAgICAvLyAjIFVwZGF0ZSBNZXRhZGF0YSBIZWFkZXIKICAgIC8vIHNlbGYuX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0KGFzc2V0X2lkKQogICAgY2FsbHN1YiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzU4CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX3BhcnRpYWxfdXJpW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX3BhcnRpYWxfdXJpOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MDgKICAgIC8vIHJldHVybiBTdHJpbmcuZnJvbV9ieXRlcyhhcmM5MF9ib3hfcXVlcnkoR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQsIEJ5dGVzKCkpKQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbklECiAgICBieXRlY18xIC8vIDB4CiAgICBjYWxsc3ViIGFyYzkwX2JveF9xdWVyeQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MDAKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgZHVwCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGE6CiAgICBieXRlY18xIC8vICIiCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODEwCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMyAvLyAyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQxNgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzAKICAgIC8vIG5ld19tZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpIDw9IGNvbnN0Lk1BWF9NRVRBREFUQV9TSVpFCiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGludGMgNiAvLyAzMDUwNgogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODI4LTgzMQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIG5ld19tZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpIDw9IGNvbnN0Lk1BWF9NRVRBREFUQV9TSVpFCiAgICAvLyApLCBlcnIuRVhDRUVEU19NQVhfTUVUQURBVEFfU0laRQogICAgYXNzZXJ0IC8vIEludmFsaWQgTWV0YWRhdGEgc2l6ZSwgZXhjZWVkcyBtYXhpbXVtIGFsbG93ZWQgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo0NwogICAgLy8gcmV0dXJuIGFzYSBpbiBzZWxmLmFzc2V0X21ldGFkYXRhCiAgICBpdG9iCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODMzCiAgICAvLyBpZiBzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpOgogICAgYnogYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9lbHNlX2JvZHlAOQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzQKICAgIC8vIG1ldGFkYXRhX3NpemUgPSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgZHVwCiAgICBidXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODM1CiAgICAvLyBmbGF0X21iciA9IFVJbnQ2NCgwKQogICAgaW50Y18xIC8vIDAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzYKICAgIC8vIGlmIG5ld19tZXRhZGF0YV9zaXplLmFzX3VpbnQ2NCgpID09IG1ldGFkYXRhX3NpemU6CiAgICBkaWcgMQogICAgPT0KICAgIGJ6IGFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfZWxzZV9ib2R5QDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODM4CiAgICAvLyBkZWx0YV9zaXplID0gVUludDY0KDApCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4MzcKICAgIC8vIHNpZ24gPSBVSW50NjQoZW51bXMuTUJSX0RFTFRBX05VTEwpCiAgICBkdXAKCmFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODU0CiAgICAvLyBkZWx0YV9hbW91bnQgPSBmbGF0X21iciArIGNvbnN0LkJZVEVfTUJSICogZGVsdGFfc2l6ZQogICAgcHVzaGludCA0MDAKICAgIHVuY292ZXIgMgogICAgKgogICAgZGlnIDUKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODU2CiAgICAvLyByZXR1cm4gYWJpLk1ickRlbHRhKHNpZ249YXJjNC5VSW50OChzaWduKSwgYW1vdW50PWFyYzQuVUludDY0KGRlbHRhX2Ftb3VudCkpCiAgICBzd2FwCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgaW50Y18yIC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICBzd2FwCiAgICBpdG9iCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODEwCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCmFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfZWxzZV9ib2R5QDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjgzOQogICAgLy8gZWxpZiBuZXdfbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKSA+IG1ldGFkYXRhX3NpemU6CiAgICBkdXAKICAgIGRpZyAzCiAgICA+CiAgICBieiBhcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhX2Vsc2VfYm9keUA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg0MAogICAgLy8gc2lnbiA9IFVJbnQ2NChlbnVtcy5NQlJfREVMVEFfUE9TKQogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODQxCiAgICAvLyBkZWx0YV9zaXplID0gbmV3X21ldGFkYXRhX3NpemUuYXNfdWludDY0KCkgLSBtZXRhZGF0YV9zaXplCiAgICBkaWcgMQogICAgZGlnIDQKICAgIC0KICAgIHN3YXAKICAgIGIgYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9hZnRlcl9pZl9lbHNlQDEwCgphcmM4OV9nZXRfbWV0YWRhdGFfbWJyX2RlbHRhX2Vsc2VfYm9keUA2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4NDMKICAgIC8vIHNpZ24gPSBVSW50NjQoZW51bXMuTUJSX0RFTFRBX05FRykKICAgIHB1c2hpbnQgMjU1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg0NAogICAgLy8gZGVsdGFfc2l6ZSA9IG1ldGFkYXRhX3NpemUgLSBuZXdfbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKQogICAgZGlnIDMKICAgIGRpZyAyCiAgICAtCiAgICBzd2FwCiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9tYnJfZGVsdGFfYWZ0ZXJfaWZfZWxzZUAxMAoKYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9lbHNlX2JvZHlAOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODQ2CiAgICAvLyBmbGF0X21iciA9IFVJbnQ2NChjb25zdC5GTEFUX01CUikKICAgIHB1c2hpbnQgMjUwMAogICAgYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg0NwogICAgLy8gc2lnbiA9IFVJbnQ2NChlbnVtcy5NQlJfREVMVEFfUE9TKQogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODQ5LTg1MAogICAgLy8gY29uc3QuQVNTRVRfTUVUQURBVEFfQk9YX0tFWV9TSVpFCiAgICAvLyArIGNvbnN0LkhFQURFUl9TSVpFCiAgICBwdXNoaW50IDU5CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg0OS04NTEKICAgIC8vIGNvbnN0LkFTU0VUX01FVEFEQVRBX0JPWF9LRVlfU0laRQogICAgLy8gKyBjb25zdC5IRUFERVJfU0laRQogICAgLy8gKyBuZXdfbWV0YWRhdGFfc2l6ZS5hc191aW50NjQoKQogICAgZGlnIDIKICAgICsKICAgIHN3YXAKICAgIGIgYXJjODlfZ2V0X21ldGFkYXRhX21icl9kZWx0YV9hZnRlcl9pZl9lbHNlQDEwCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2NoZWNrX21ldGFkYXRhX2V4aXN0c1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2NoZWNrX21ldGFkYXRhX2V4aXN0czoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODU4CiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfdmFsaWRhdGlvbi5weToxNQogICAgLy8gX2NyZWF0b3IsIGV4aXN0cyA9IG9wLkFzc2V0UGFyYW1zR2V0LmFzc2V0X2NyZWF0b3IoYXNhKQogICAgZHVwCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0Q3JlYXRvcgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg3NAogICAgLy8gYXNhX2V4aXN0cz1hcmM0LkJvb2woc2VsZi5fYXNhX2V4aXN0cyhhc3NldF9pZCkpLAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NDcKICAgIC8vIHJldHVybiBhc2EgaW4gc2VsZi5hc3NldF9tZXRhZGF0YQogICAgc3dhcAogICAgaXRvYgogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg3NQogICAgLy8gbWV0YWRhdGFfZXhpc3RzPWFyYzQuQm9vbChzZWxmLl9tZXRhZGF0YV9leGlzdHMoYXNzZXRfaWQpKSwKICAgIGJ5dGVjXzIgLy8gMHgwMAogICAgaW50Y18xIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg3My04NzYKICAgIC8vIHJldHVybiBhYmkuTWV0YWRhdGFFeGlzdGVuY2UoCiAgICAvLyAgICAgYXNhX2V4aXN0cz1hcmM0LkJvb2woc2VsZi5fYXNhX2V4aXN0cyhhc3NldF9pZCkpLAogICAgLy8gICAgIG1ldGFkYXRhX2V4aXN0cz1hcmM0LkJvb2woc2VsZi5fbWV0YWRhdGFfZXhpc3RzKGFzc2V0X2lkKSksCiAgICAvLyApCiAgICBpbnRjXzEgLy8gMAogICAgZ2V0Yml0CiAgICBpbnRjXzAgLy8gMQogICAgc3dhcAogICAgc2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojg1OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZVtyb3V0aW5nXSgpIC0+IHZvaWQ6CmFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4OTMtODk0CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTcKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo4OTcKICAgIC8vIHNlbGYuX2lzX2ltbXV0YWJsZShhc3NldF9pZCkgb3IgYXNzZXRfaWQubWFuYWdlciA9PSBHbG9iYWwuemVyb19hZGRyZXNzCiAgICBibnogYXJjODlfaXNfbWV0YWRhdGFfaW1tdXRhYmxlX2Jvb2xfdHJ1ZUAzCiAgICBkdXAKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRNYW5hZ2VyCiAgICBhc3NlcnQgLy8gYXNzZXQgZXhpc3RzCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgID09CiAgICBieiBhcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVfYm9vbF9mYWxzZUA0CgphcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVfYm9vbF90cnVlQDM6CiAgICBpbnRjXzAgLy8gMQoKYXJjODlfaXNfbWV0YWRhdGFfaW1tdXRhYmxlX2Jvb2xfbWVyZ2VANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODk2LTg5OAogICAgLy8gcmV0dXJuIGFyYzQuQm9vbCgKICAgIC8vICAgICBzZWxmLl9pc19pbW11dGFibGUoYXNzZXRfaWQpIG9yIGFzc2V0X2lkLm1hbmFnZXIgPT0gR2xvYmFsLnplcm9fYWRkcmVzcwogICAgLy8gKQogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6ODc4CiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCmFyYzg5X2lzX21ldGFkYXRhX2ltbXV0YWJsZV9ib29sX2ZhbHNlQDQ6CiAgICBpbnRjXzEgLy8gMAogICAgYiBhcmM4OV9pc19tZXRhZGF0YV9pbW11dGFibGVfYm9vbF9tZXJnZUA1CgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2lzX21ldGFkYXRhX3Nob3J0W3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfaXNfbWV0YWRhdGFfc2hvcnQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkwMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkxNS05MTYKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkdXAKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTcKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU4CiAgICAvLyBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5CiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2Ny03MAogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfaWRlbnRpZmllcnMoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTE5CiAgICAvLyBmbGFnPWFyYzQuQm9vbChzZWxmLl9pc19zaG9ydChhc3NldF9pZCkpLAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMzLTEzNgogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5MQVNUX01PRElGSUVEX1JPVU5EX1NJWkUsCiAgICAvLyApCiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICBwdXNoaW50IDM1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNQogICAgLy8gbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIGludGNfMiAvLyA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzMy0xMzYKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMyLTEzNwogICAgLy8gcmV0dXJuIG9wLmJ0b2koCiAgICAvLyAgICAgc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICAgICAgbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIC8vICAgICApCiAgICAvLyApCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkyMAogICAgLy8gbGFzdF9tb2RpZmllZF9yb3VuZD1hcmM0LlVJbnQ2NChzZWxmLl9nZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc3NldF9pZCkpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5MTgtOTIxCiAgICAvLyByZXR1cm4gYWJpLk11dGFibGVGbGFnKAogICAgLy8gICAgIGZsYWc9YXJjNC5Cb29sKHNlbGYuX2lzX3Nob3J0KGFzc2V0X2lkKSksCiAgICAvLyAgICAgbGFzdF9tb2RpZmllZF9yb3VuZD1hcmM0LlVJbnQ2NChzZWxmLl9nZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc3NldF9pZCkpLAogICAgLy8gKQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkwMAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9oZWFkZXJbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfaGVhZGVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5MjMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5MzktOTQwCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NgogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTYtNTkKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgLy8gKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU3CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1OAogICAgLy8gbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3My03NQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgLy8gKQogICAgZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICBpbnRjXzAgLy8gMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkaWcgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjItMTI0CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSEFTSF9TSVpFCiAgICAvLyApCiAgICBkaWcgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjMKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSEFTSF9TSVpFCiAgICBwdXNoaW50cyAzIDMyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMi0xMjQKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIGxlbmd0aD1jb25zdC5NRVRBREFUQV9IQVNIX1NJWkUKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzMy0xMzYKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gKQogICAgZGlnIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTM0CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIHB1c2hpbnQgMzUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTM1CiAgICAvLyBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgaW50Y18yIC8vIDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMzLTEzNgogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5MQVNUX01PRElGSUVEX1JPVU5EX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMzItMTM3CiAgICAvLyByZXR1cm4gb3AuYnRvaSgKICAgIC8vICAgICBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9MQVNUX01PRElGSUVEX1JPVU5ELAogICAgLy8gICAgICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gICAgICkKICAgIC8vICkKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTQ5CiAgICAvLyBsYXN0X21vZGlmaWVkX3JvdW5kPWFyYzQuVUludDY0KHNlbGYuX2dldF9sYXN0X21vZGlmaWVkX3JvdW5kKGFzc2V0X2lkKSksCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0Ny0xNTAKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgLy8gKQogICAgdW5jb3ZlciA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0RFUFJFQ0FURURfQlksCiAgICBwdXNoaW50IDQzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0OQogICAgLy8gbGVuZ3RoPWNvbnN0LkRFUFJFQ0FURURfQllfU0laRSwKICAgIGludGNfMiAvLyA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0Ny0xNTAKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuREVQUkVDQVRFRF9CWV9TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTQ2LTE1MQogICAgLy8gcmV0dXJuIG9wLmJ0b2koCiAgICAvLyAgICAgc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfREVQUkVDQVRFRF9CWSwKICAgIC8vICAgICAgICAgbGVuZ3RoPWNvbnN0LkRFUFJFQ0FURURfQllfU0laRSwKICAgIC8vICAgICApCiAgICAvLyApCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk1MAogICAgLy8gZGVwcmVjYXRlZF9ieT1hcmM0LlVJbnQ2NChzZWxmLl9nZXRfZGVwcmVjYXRlZF9ieShhc3NldF9pZCkpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NDItOTUxCiAgICAvLyByZXR1cm4gYWJpLk1ldGFkYXRhSGVhZGVyKAogICAgLy8gICAgIGlkZW50aWZpZXJzPWFyYzQuQnl0ZS5mcm9tX2J5dGVzKHNlbGYuX2dldF9tZXRhZGF0YV9pZGVudGlmaWVycyhhc3NldF9pZCkpLAogICAgLy8gICAgIHJldmVyc2libGVfZmxhZ3M9YXJjNC5CeXRlLmZyb21fYnl0ZXMoc2VsZi5fZ2V0X3JldmVyc2libGVfZmxhZ3MoYXNzZXRfaWQpKSwKICAgIC8vICAgICBpcnJldmVyc2libGVfZmxhZ3M9YXJjNC5CeXRlLmZyb21fYnl0ZXMoCiAgICAvLyAgICAgICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNzZXRfaWQpCiAgICAvLyAgICAgKSwKICAgIC8vICAgICBoYXNoPWFiaS5IYXNoLmZyb21fYnl0ZXMoc2VsZi5fZ2V0X21ldGFkYXRhX2hhc2goYXNzZXRfaWQpKSwKICAgIC8vICAgICBsYXN0X21vZGlmaWVkX3JvdW5kPWFyYzQuVUludDY0KHNlbGYuX2dldF9sYXN0X21vZGlmaWVkX3JvdW5kKGFzc2V0X2lkKSksCiAgICAvLyAgICAgZGVwcmVjYXRlZF9ieT1hcmM0LlVJbnQ2NChzZWxmLl9nZXRfZGVwcmVjYXRlZF9ieShhc3NldF9pZCkpLAogICAgLy8gKQogICAgdW5jb3ZlciA1CiAgICB1bmNvdmVyIDUKICAgIGNvbmNhdAogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjkyMwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9wYWdpbmF0aW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX3BhZ2luYXRpb246CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk1MwogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk2Ny05NjgKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkdXAKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3MQogICAgLy8gbWV0YWRhdGFfc2l6ZT1hcmM0LlVJbnQxNihzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc3NldF9pZCkpLAogICAgZHVwCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgaXRvYgogICAgZHVwCiAgICBiaXRsZW4KICAgIHB1c2hpbnQgMTYKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIzMgogICAgLy8gbiA9IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkKICAgIHN3YXAKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToyOQogICAgLy8gcmV0dXJuIChudW0gKyAoZGVuIC0gMSkpIC8vIGRlbgogICAgaW50YyA1IC8vIDEwMDYKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjMzCiAgICAvLyByZXR1cm4gY2VpbF9kaXYobnVtPW4sIGRlbj1VSW50NjQoY29uc3QuUEFHRV9TSVpFKSkKICAgIGludGMgNCAvLyAxMDA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToyOQogICAgLy8gcmV0dXJuIChudW0gKyAoZGVuIC0gMSkpIC8vIGRlbgogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NzMKICAgIC8vIHRvdGFsX3BhZ2VzPWFyYzQuVUludDgoc2VsZi5fZ2V0X3RvdGFsX3BhZ2VzKGFzc2V0X2lkKSksCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgaW50Y18yIC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3MC05NzQKICAgIC8vIHJldHVybiBhYmkuUGFnaW5hdGlvbigKICAgIC8vICAgICBtZXRhZGF0YV9zaXplPWFyYzQuVUludDE2KHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzc2V0X2lkKSksCiAgICAvLyAgICAgcGFnZV9zaXplPWFyYzQuVUludDE2KGNvbnN0LlBBR0VfU0laRSksCiAgICAvLyAgICAgdG90YWxfcGFnZXM9YXJjNC5VSW50OChzZWxmLl9nZXRfdG90YWxfcGFnZXMoYXNzZXRfaWQpKSwKICAgIC8vICkKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTcyCiAgICAvLyBwYWdlX3NpemU9YXJjNC5VSW50MTYoY29uc3QuUEFHRV9TSVpFKSwKICAgIHB1c2hieXRlcyAweDAzZWYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTcwLTk3NAogICAgLy8gcmV0dXJuIGFiaS5QYWdpbmF0aW9uKAogICAgLy8gICAgIG1ldGFkYXRhX3NpemU9YXJjNC5VSW50MTYoc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNzZXRfaWQpKSwKICAgIC8vICAgICBwYWdlX3NpemU9YXJjNC5VSW50MTYoY29uc3QuUEFHRV9TSVpFKSwKICAgIC8vICAgICB0b3RhbF9wYWdlcz1hcmM0LlVJbnQ4KHNlbGYuX2dldF90b3RhbF9wYWdlcyhhc3NldF9pZCkpLAogICAgLy8gKQogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTUzCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhOgogICAgYnl0ZWNfMSAvLyAiIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NzYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgZHVwCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGxlbgogICAgaW50Y18wIC8vIDEKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkzLTk5NAogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGR1cAogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjMyCiAgICAvLyBuID0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKQogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjI5CiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICBpbnRjIDUgLy8gMTAwNgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzMKICAgIC8vIHJldHVybiBjZWlsX2RpdihudW09biwgZGVuPVVJbnQ2NChjb25zdC5QQUdFX1NJWkUpKQogICAgaW50YyA0IC8vIDEwMDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjI5CiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICAvCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTk2CiAgICAvLyBpZiB0b3RhbF9wYWdlcyA+IDA6CiAgICBieiBhcmM4OV9nZXRfbWV0YWRhdGFfZWxzZV9ib2R5QDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTk3CiAgICAvLyBhc3NlcnQgcGFnZS5hc191aW50NjQoKSA8IHRvdGFsX3BhZ2VzLCBlcnIuUEFHRV9JRFhfSU5WQUxJRAogICAgYnRvaQogICAgZHVwCiAgICBkaWcgMgogICAgZHVwCiAgICBjb3ZlciAyCiAgICA8CiAgICBhc3NlcnQgLy8gSW52YWxpZCBwYWdlIGluZGV4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5OAogICAgLy8gaGFzX25leHRfcGFnZSA9IHBhZ2UuYXNfdWludDY0KCkgPCB0b3RhbF9wYWdlcyAtIDEKICAgIGludGNfMCAvLyAxCiAgICAtCiAgICBkaWcgMQogICAgPgogICAgYnVyeSA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5OQogICAgLy8gcGFnZV9jb250ZW50ID0gc2VsZi5fZ2V0X21ldGFkYXRhX3BhZ2UoYXNzZXRfaWQsIHBhZ2UuYXNfdWludDY0KCkpCiAgICBkaWcgMgogICAgc3dhcAogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3BhZ2UKCmFyYzg5X2dldF9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDYKICAgIC8vIGhhc19uZXh0X3BhZ2U9YXJjNC5Cb29sKGhhc19uZXh0X3BhZ2UpLAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgZGlnIDUKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMzMKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGRpZyAzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICBwdXNoaW50IDM1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzNQogICAgLy8gbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIGludGNfMiAvLyA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEzMy0xMzYKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTEFTVF9NT0RJRklFRF9ST1VORF9TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTMyLTEzNwogICAgLy8gcmV0dXJuIG9wLmJ0b2koCiAgICAvLyAgICAgc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICAgICAgbGVuZ3RoPWNvbnN0LkxBU1RfTU9ESUZJRURfUk9VTkRfU0laRSwKICAgIC8vICAgICApCiAgICAvLyApCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDcKICAgIC8vIGxhc3RfbW9kaWZpZWRfcm91bmQ9YXJjNC5VSW50NjQoc2VsZi5fZ2V0X2xhc3RfbW9kaWZpZWRfcm91bmQoYXNzZXRfaWQpKSwKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAwOAogICAgLy8gcGFnZV9jb250ZW50PWFyYzQuRHluYW1pY0J5dGVzKHBhZ2VfY29udGVudCksCiAgICB1bmNvdmVyIDIKICAgIGR1cAogICAgbGVuCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDUtMTAwOQogICAgLy8gcmV0dXJuIGFiaS5QYWdpbmF0ZWRNZXRhZGF0YSgKICAgIC8vICAgICBoYXNfbmV4dF9wYWdlPWFyYzQuQm9vbChoYXNfbmV4dF9wYWdlKSwKICAgIC8vICAgICBsYXN0X21vZGlmaWVkX3JvdW5kPWFyYzQuVUludDY0KHNlbGYuX2dldF9sYXN0X21vZGlmaWVkX3JvdW5kKGFzc2V0X2lkKSksCiAgICAvLyAgICAgcGFnZV9jb250ZW50PWFyYzQuRHluYW1pY0J5dGVzKHBhZ2VfY29udGVudCksCiAgICAvLyApCiAgICBjb3ZlciAyCiAgICBjb25jYXQKICAgIHB1c2hieXRlcyAweDAwMGIKICAgIGNvbmNhdAogICAgc3dhcAogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3NgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgphcmM4OV9nZXRfbWV0YWRhdGFfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDEKICAgIC8vIGFzc2VydCBwYWdlLmFzX3VpbnQ2NCgpID09IDAsIGVyci5QQUdFX0lEWF9JTlZBTElECiAgICBidG9pCiAgICAhCiAgICBhc3NlcnQgLy8gSW52YWxpZCBwYWdlIGluZGV4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMDIKICAgIC8vIGhhc19uZXh0X3BhZ2UgPSBGYWxzZQogICAgaW50Y18xIC8vIDAKICAgIGJ1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDAzCiAgICAvLyBwYWdlX2NvbnRlbnQgPSBCeXRlcygpCiAgICBieXRlY18xIC8vIDB4CiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9hZnRlcl9pZl9lbHNlQDQKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX3NsaWNlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDExCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDMKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzMgLy8gMgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50MTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAzMC0xMDMxCiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZGlnIDIKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzIKICAgIC8vIGFzc2VydCBzaXplLmFzX3VpbnQ2NCgpIDw9IGNvbnN0LlBBR0VfU0laRSwgZXJyLkVYQ0VFRFNfUEFHRV9TSVpFCiAgICBidG9pCiAgICBkdXAKICAgIGludGMgNCAvLyAxMDA3CiAgICA8PQogICAgYXNzZXJ0IC8vIFBheWxvYWQgZXhjZWVkcyBwYWdlIHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAzMwogICAgLy8gYXNzZXJ0IG9mZnNldC5hc191aW50NjQoKSArIHNpemUuYXNfdWludDY0KCkgPD0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICBzd2FwCiAgICBidG9pCiAgICBkdXAKICAgIGRpZyAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzMtMTAzNQogICAgLy8gYXNzZXJ0IG9mZnNldC5hc191aW50NjQoKSArIHNpemUuYXNfdWludDY0KCkgPD0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoCiAgICAvLyAgICAgYXNzZXRfaWQKICAgIC8vICksIGVyci5FWENFRURTX01FVEFEQVRBX1NJWkUKICAgIGRpZyAzCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgPD0KICAgIGFzc2VydCAvLyBTbGljZSBleGNlZWRzIG1ldGFkYXRhIHJhbmdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzcKICAgIC8vIG1ldGFkYXRhX3NsaWNlID0gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNzZXRfaWQpLmV4dHJhY3QoCiAgICB1bmNvdmVyIDIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTAzOAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgb2Zmc2V0LmFzX3VpbnQ2NCgpLCBsZW5ndGg9c2l6ZS5hc191aW50NjQoKQogICAgcHVzaGludCA1MQogICAgdW5jb3ZlciAyCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMzctMTAzOQogICAgLy8gbWV0YWRhdGFfc2xpY2UgPSBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc3NldF9pZCkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEEgKyBvZmZzZXQuYXNfdWludDY0KCksIGxlbmd0aD1zaXplLmFzX3VpbnQ2NCgpCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwMTEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgZHVwCiAgICBsZW4KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlcl9oYXNoW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX2hlYWRlcl9oYXNoOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDQyCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA1Ny0xMDU4CiAgICAvLyAjIFByZWNvbmRpdGlvbnMKICAgIC8vIHNlbGYuX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zKGFzc2V0X2lkKQogICAgZHVwCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDYwCiAgICAvLyByZXR1cm4gYWJpLkhhc2guZnJvbV9ieXRlcyhzZWxmLl9jb21wdXRlX2hlYWRlcl9oYXNoKGFzc2V0X2lkKSkKICAgIGNhbGxzdWIgX2NvbXB1dGVfaGVhZGVyX2hhc2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA0MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9wYWdlX2hhc2hbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfcGFnZV9oYXNoOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDYyCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzIgLy8gOAogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50NjQKICAgIGJ0b2kKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzAgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC51aW50OAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDc5LTEwODAKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjMyCiAgICAvLyBuID0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKQogICAgZGlnIDEKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToyOQogICAgLy8gcmV0dXJuIChudW0gKyAoZGVuIC0gMSkpIC8vIGRlbgogICAgaW50YyA1IC8vIDEwMDYKICAgICsKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjMzCiAgICAvLyByZXR1cm4gY2VpbF9kaXYobnVtPW4sIGRlbj1VSW50NjQoY29uc3QuUEFHRV9TSVpFKSkKICAgIGludGMgNCAvLyAxMDA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToyOQogICAgLy8gcmV0dXJuIChudW0gKyAoZGVuIC0gMSkpIC8vIGRlbgogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgyCiAgICAvLyBpZiB0b3RhbF9wYWdlcyA+IDA6CiAgICBkdXAKICAgIGFzc2VydCAvLyBNZXRhZGF0YSBpcyBlbXB0eQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgzCiAgICAvLyBhc3NlcnQgcGFnZS5hc191aW50NjQoKSA8IHRvdGFsX3BhZ2VzLCBlcnIuUEFHRV9JRFhfSU5WQUxJRAogICAgc3dhcAogICAgYnRvaQogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIDwKICAgIGFzc2VydCAvLyBJbnZhbGlkIHBhZ2UgaW5kZXgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA4NwogICAgLy8gcGFnZV9jb250ZW50ID0gc2VsZi5fZ2V0X21ldGFkYXRhX3BhZ2UoYXNzZXRfaWQsIHBhZ2UuYXNfdWludDY0KCkpCiAgICBkdXAyCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfcGFnZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDg4CiAgICAvLyBwYWdlX2hhc2ggPSBzZWxmLl9jb21wdXRlX3BhZ2VfaGFzaChhc3NldF9pZCwgcGFnZS5hc191aW50NjQoKSwgcGFnZV9jb250ZW50KQogICAgY2FsbHN1YiBfY29tcHV0ZV9wYWdlX2hhc2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTA2MgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9oYXNoW3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX2hhc2g6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwOTEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTA2LTExMDcKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkdXAKICAgIGNhbGxzdWIgX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMgogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTIzCiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSEFTSCwgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0hBU0hfU0laRQogICAgcHVzaGludHMgMyAzMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjItMTI0CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSEFTSF9TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDkxCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX3N0cmluZ19ieV9rZXlbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfc3RyaW5nX2J5X2tleToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTExMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBpbnRjXzMgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMzAtMTEzMQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTMzLTExMzgKICAgIC8vICMgRmV0Y2gga2V5J3MgdmFsdWUKICAgIC8vICMg4pqg77iPIFdBUk5JTkc6IFRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBjYXVzZSBBVk0gcnVudGltZSBlcnJvcjoKICAgIC8vICMgLSBUaGUgc2hvcnQgTWV0YWRhdGEgaXMgbm90IGEgdmFsaWQgVVRGLTggZW5jb2RlZCBKU09OIG9iamVjdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5IGRvZXMgbm90IGV4aXN0CiAgICAvLyAjIC0gVGhlIHRvcC1sZXZlbCBrZXkncyB2YWx1ZSBpcyBub3QgYSBKU09OIFN0cmluZwogICAgLy8gb2JqID0gc2VsZi5fZ2V0X3Nob3J0X21ldGFkYXRhKGFzc2V0X2lkKQogICAgc3dhcAogICAgY2FsbHN1YiBfZ2V0X3Nob3J0X21ldGFkYXRhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMzkKICAgIC8vIHZhbHVlID0gb3AuSnNvblJlZi5qc29uX3N0cmluZyhvYmosIGtleS5uYXRpdmUuYnl0ZXMpCiAgICBzd2FwCiAgICBleHRyYWN0IDIgMAogICAganNvbl9yZWYgSlNPTlN0cmluZwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTQxLTExNDIKICAgIC8vICMgUG9zdGNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCB2YWx1ZS5sZW5ndGggPD0gY29uc3QuUEFHRV9TSVpFLCBlcnIuRVhDRUVEU19QQUdFX1NJWkUKICAgIGR1cAogICAgbGVuCiAgICBkdXAKICAgIGludGMgNCAvLyAxMDA3CiAgICA8PQogICAgYXNzZXJ0IC8vIFBheWxvYWQgZXhjZWVkcyBwYWdlIHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTExMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV91aW50NjRfYnlfa2V5W3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX3VpbnQ2NF9ieV9rZXk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExNDYKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTY1LTExNjYKICAgIC8vICMgUHJlY29uZGl0aW9ucwogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNzZXRfaWQpCiAgICBkaWcgMQogICAgY2FsbHN1YiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE2OC0xMTczCiAgICAvLyAjIEZldGNoIGtleSdzIHZhbHVlCiAgICAvLyAjIOKaoO+4jyBXQVJOSU5HOiBUaGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgY2F1c2UgQVZNIHJ1bnRpbWUgZXJyb3I6CiAgICAvLyAjIC0gVGhlIHNob3J0IE1ldGFkYXRhIGlzIG5vdCBhIHZhbGlkIFVURi04IGVuY29kZWQgSlNPTiBvYmplY3QKICAgIC8vICMgLSBUaGUgdG9wLWxldmVsIGtleSBkb2VzIG5vdCBleGlzdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5J3MgdmFsdWUgaXMgbm90IGEgSlNPTiBVaW50NjQKICAgIC8vIG9iaiA9IHNlbGYuX2dldF9zaG9ydF9tZXRhZGF0YShhc3NldF9pZCkKICAgIHN3YXAKICAgIGNhbGxzdWIgX2dldF9zaG9ydF9tZXRhZGF0YQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTc0CiAgICAvLyB2YWx1ZSA9IG9wLkpzb25SZWYuanNvbl91aW50NjQob2JqLCBrZXkubmF0aXZlLmJ5dGVzKQogICAgc3dhcAogICAgZXh0cmFjdCAyIDAKICAgIGpzb25fcmVmIEpTT05VaW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE3NgogICAgLy8gcmV0dXJuIGFyYzQuVUludDY0KHZhbHVlKQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTQ2CiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzAgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuYXJjODlfZ2V0X21ldGFkYXRhX29iamVjdF9ieV9rZXlbcm91dGluZ10oKSAtPiB2b2lkOgphcmM4OV9nZXRfbWV0YWRhdGFfb2JqZWN0X2J5X2tleToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE3OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQudWludDY0CiAgICBidG9pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAyCiAgICBkdXAKICAgIGludGNfMSAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBpbnRjXzMgLy8gMgogICAgKwogICAgZGlnIDEKICAgIGxlbgogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYXJjNC5keW5hbWljX2FycmF5PGFyYzQudWludDg+CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExOTctMTE5OAogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGRpZyAxCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjAwLTEyMDUKICAgIC8vICMgRmV0Y2gga2V5J3MgdmFsdWUKICAgIC8vICMg4pqg77iPIFdBUk5JTkc6IFRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBjYXVzZSBBVk0gcnVudGltZSBlcnJvcjoKICAgIC8vICMgLSBUaGUgc2hvcnQgTWV0YWRhdGEgaXMgbm90IGEgdmFsaWQgVVRGLTggZW5jb2RlZCBKU09OIG9iamVjdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5IGRvZXMgbm90IGV4aXN0CiAgICAvLyAjIC0gVGhlIHRvcC1sZXZlbCBrZXkncyB2YWx1ZSBpcyBub3QgYSBKU09OIE9iamVjdAogICAgLy8gb2JqID0gc2VsZi5fZ2V0X3Nob3J0X21ldGFkYXRhKGFzc2V0X2lkKQogICAgc3dhcAogICAgY2FsbHN1YiBfZ2V0X3Nob3J0X21ldGFkYXRhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMDYKICAgIC8vIHZhbHVlID0gb3AuSnNvblJlZi5qc29uX29iamVjdChvYmosIGtleS5uYXRpdmUuYnl0ZXMpCiAgICBzd2FwCiAgICBleHRyYWN0IDIgMAogICAganNvbl9yZWYgSlNPTk9iamVjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjA4LTEyMDkKICAgIC8vICMgUG9zdGNvbmRpdGlvbnMKICAgIC8vIGFzc2VydCB2YWx1ZS5sZW5ndGggPD0gY29uc3QuUEFHRV9TSVpFLCBlcnIuRVhDRUVEU19QQUdFX1NJWkUKICAgIGR1cAogICAgbGVuCiAgICBkdXAKICAgIGludGMgNCAvLyAxMDA3CiAgICA8PQogICAgYXNzZXJ0IC8vIFBheWxvYWQgZXhjZWVkcyBwYWdlIHNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE3OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgc3dhcAogICAgY29uY2F0CiAgICBieXRlY18wIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzAgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5LmFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5W3JvdXRpbmddKCkgLT4gdm9pZDoKYXJjODlfZ2V0X21ldGFkYXRhX2I2NF9ieXRlc19ieV9rZXk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ2NAogICAgYnRvaQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBpbnRjXzEgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuZHluYW1pY19hcnJheTxhcmM0LnVpbnQ4PgogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMwogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBhcmM0LnVpbnQ4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMzAtMTIzMQogICAgLy8gIyBQcmVjb25kaXRpb25zCiAgICAvLyBzZWxmLl9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc3NldF9pZCkKICAgIGRpZyAyCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjMzCiAgICAvLyBiNjRfZW5jb2RpbmcuYXNfdWludDY0KCkgPD0gZW51bXMuQjY0X1NURF9FTkNPRElORwogICAgYnRvaQogICAgZHVwCiAgICBpbnRjXzAgLy8gMQogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTIzMi0xMjM0CiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIGI2NF9lbmNvZGluZy5hc191aW50NjQoKSA8PSBlbnVtcy5CNjRfU1REX0VOQ09ESU5HCiAgICAvLyApLCBlcnIuQjY0X0VOQ09ESU5HX0lOVkFMSUQKICAgIGFzc2VydCAvLyBJbnZhbGlkIGJhc2U2NCBlbmNvZGluZywgbXVzdCBiZSAwIChVUkwgc2FmZSkgb3IgMSAoU3RkKQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjM2LTEyNDEKICAgIC8vICMgRmV0Y2gga2V5J3MgdmFsdWUKICAgIC8vICMg4pqg77iPIFdBUk5JTkc6IFRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBjYXVzZSBBVk0gcnVudGltZSBlcnJvcjoKICAgIC8vICMgLSBUaGUgc2hvcnQgTWV0YWRhdGEgaXMgbm90IGEgdmFsaWQgVVRGLTggZW5jb2RlZCBKU09OIG9iamVjdAogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5IGRvZXMgbm90IGV4aXN0CiAgICAvLyAjIC0gVGhlIHRvcC1sZXZlbCBrZXkncyB2YWx1ZSBpcyBub3QgYSBKU09OIFN0cmluZwogICAgLy8gb2JqID0gc2VsZi5fZ2V0X3Nob3J0X21ldGFkYXRhKGFzc2V0X2lkKQogICAgdW5jb3ZlciAyCiAgICBjYWxsc3ViIF9nZXRfc2hvcnRfbWV0YWRhdGEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI0MgogICAgLy8gdmFsdWUgPSBvcC5Kc29uUmVmLmpzb25fc3RyaW5nKG9iaiwga2V5Lm5hdGl2ZS5ieXRlcykKICAgIHVuY292ZXIgMgogICAgZXh0cmFjdCAyIDAKICAgIGpzb25fcmVmIEpTT05TdHJpbmcKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI0NC0xMjQ4CiAgICAvLyAjIERlY29kZSB2YWx1ZQogICAgLy8gIyDimqDvuI8gV0FSTklORzogVGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGNhdXNlIEFWTSBydW50aW1lIGVycm9yOgogICAgLy8gIyAtIFRoZSB0b3AtbGV2ZWwga2V5J3MgdmFsdWUgaXMgbm90IGEgdmFsaWQgYmFzZTY0LWVuY29kaW5nIHN0cmluZyBmb3IKICAgIC8vICMgdGhlIGNob3NlbiBlbmNvZGluZy4KICAgIC8vIGlmIGI2NF9lbmNvZGluZy5hc191aW50NjQoKSA9PSBlbnVtcy5CNjRfVVJMX0VOQ09ESU5HOgogICAgYm56IGFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5X2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNDkKICAgIC8vIGRlY29kZWRfdmFsdWUgPSBvcC5iYXNlNjRfZGVjb2RlKG9wLkJhc2U2NC5VUkxFbmNvZGluZywgdmFsdWUpCiAgICBiYXNlNjRfZGVjb2RlIFVSTEVuY29kaW5nCgphcmM4OV9nZXRfbWV0YWRhdGFfYjY0X2J5dGVzX2J5X2tleV9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNTMtMTI1NAogICAgLy8gIyBQb3N0Y29uZGl0aW9ucwogICAgLy8gYXNzZXJ0IGRlY29kZWRfdmFsdWUubGVuZ3RoIDw9IGNvbnN0LlBBR0VfU0laRSwgZXJyLkVYQ0VFRFNfUEFHRV9TSVpFCiAgICBkdXAKICAgIGxlbgogICAgZHVwCiAgICBpbnRjIDQgLy8gMTAwNwogICAgPD0KICAgIGFzc2VydCAvLyBQYXlsb2FkIGV4Y2VlZHMgcGFnZSBzaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyMTMKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgYnl0ZWNfMCAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18wIC8vIDEKICAgIHJldHVybgoKYXJjODlfZ2V0X21ldGFkYXRhX2I2NF9ieXRlc19ieV9rZXlfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNTEKICAgIC8vIGRlY29kZWRfdmFsdWUgPSBvcC5iYXNlNjRfZGVjb2RlKG9wLkJhc2U2NC5TdGRFbmNvZGluZywgdmFsdWUpCiAgICBiYXNlNjRfZGVjb2RlIFN0ZEVuY29kaW5nCiAgICBiIGFyYzg5X2dldF9tZXRhZGF0YV9iNjRfYnl0ZXNfYnlfa2V5X2FmdGVyX2lmX2Vsc2VANAoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS53aXRoZHJhd19iYWxhbmNlX2V4Y2Vzc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CndpdGhkcmF3X2JhbGFuY2VfZXhjZXNzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc0CiAgICAvLyBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLmJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdEJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc1CiAgICAvLyAtIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MubWluX2JhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc0LTEyNzUKICAgIC8vIEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MuYmFsYW5jZQogICAgLy8gLSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9hZGRyZXNzLm1pbl9iYWxhbmNlCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEyNzctMTI4MAogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPUdsb2JhbC5jcmVhdG9yX2FkZHJlc3MsCiAgICAvLyAgICAgYW1vdW50PWV4Y2Vzc19iYWxhbmNlLAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc4CiAgICAvLyByZWNlaXZlcj1HbG9iYWwuY3JlYXRvcl9hZGRyZXNzLAogICAgZ2xvYmFsIENyZWF0b3JBZGRyZXNzCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjc3CiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICBpbnRjXzAgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gMAogICAgaXR4bl9maWVsZCBGZWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI3Ny0xMjgwCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICAvLyAgICAgcmVjZWl2ZXI9R2xvYmFsLmNyZWF0b3JfYWRkcmVzcywKICAgIC8vICAgICBhbW91bnQ9ZXhjZXNzX2JhbGFuY2UsCiAgICAvLyApLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjY1CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGludGNfMCAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX3NldF9pcnJldmVyc2libGVfZmxhZ192YWx1ZShhc2E6IHVpbnQ2NCwgZmxhZzogdWludDY0KSAtPiB2b2lkOgpfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX3ZhbHVlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTMKICAgIC8vIGRlZiBfc2V0X2lycmV2ZXJzaWJsZV9mbGFnX3ZhbHVlKHNlbGYsIGFzYTogQXNzZXQsIGZsYWc6IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5NwogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTE2CiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIHB1c2hpbnQgNwogICAgZnJhbWVfZGlnIC0xCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExNwogICAgLy8gVHJ1ZSwgICMgbm9xYTogRkJUMDAzCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMTQtMTE4CiAgICAvLyB1cGRhdGVkX2ZsYWdzID0gb3Auc2V0Yml0X2J5dGVzKAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICAgICBUcnVlLCAgIyBub3FhOiBGQlQwMDMKICAgIC8vICkKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsIHZhbHVlPWZsYWdzCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDMtMTA1CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywgdmFsdWU9ZmxhZ3MKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2dldF9tZXRhZGF0YV9zaXplKGFzYTogdWludDY0KSAtPiB1aW50NjQ6Cl9nZXRfbWV0YWRhdGFfc2l6ZToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTU5CiAgICAvLyBkZWYgX2dldF9tZXRhZGF0YV9zaXplKHNlbGYsIGFzYTogQXNzZXQpIC0+IFVJbnQ2NDoKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNjAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmxlbmd0aCAtIGNvbnN0LkhFQURFUl9TSVpFCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIGJveF9sZW4KICAgIGFzc2VydCAvLyBjaGVjayBCb3ggZXhpc3RzCiAgICBwdXNoaW50IDUxCiAgICAtCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2FwcGVuZF9wYXlsb2FkKGFzYTogdWludDY0LCBwYXlsb2FkOiBieXRlcykgLT4gdm9pZDoKX2FwcGVuZF9wYXlsb2FkOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNjIKICAgIC8vIGRlZiBfYXBwZW5kX3BheWxvYWQoc2VsZiwgYXNhOiBBc3NldCwgcGF5bG9hZDogQnl0ZXMpIC0+IE5vbmU6CiAgICBwcm90byAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTYzCiAgICAvLyBvbGRfYXNzZXRfbWV0YWRhdGFfYm94X3NpemUgPSBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmxlbmd0aAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICBkdXAKICAgIGJveF9sZW4KICAgIGFzc2VydCAvLyBjaGVjayBCb3ggZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE2NQogICAgLy8gbmV3X3NpemU9b2xkX2Fzc2V0X21ldGFkYXRhX2JveF9zaXplICsgcGF5bG9hZC5sZW5ndGgKICAgIGZyYW1lX2RpZyAtMQogICAgbGVuCiAgICBkaWcgMQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNjQtMTY2CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlc2l6ZSgKICAgIC8vICAgICBuZXdfc2l6ZT1vbGRfYXNzZXRfbWV0YWRhdGFfYm94X3NpemUgKyBwYXlsb2FkLmxlbmd0aAogICAgLy8gKQogICAgZGlnIDIKICAgIHN3YXAKICAgIGJveF9yZXNpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTY3LTE2OQogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PW9sZF9hc3NldF9tZXRhZGF0YV9ib3hfc2l6ZSwgdmFsdWU9cGF5bG9hZAogICAgLy8gKQogICAgZnJhbWVfZGlnIC0xCiAgICBib3hfcmVwbGFjZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9zZXRfbWV0YWRhdGFfcGF5bG9hZChhc2E6IHVpbnQ2NCwgbWV0YWRhdGFfc2l6ZTogdWludDY0LCBwYXlsb2FkOiBieXRlcykgLT4gdm9pZDoKX3NldF9tZXRhZGF0YV9wYXlsb2FkOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMDEtMjAzCiAgICAvLyBkZWYgX3NldF9tZXRhZGF0YV9wYXlsb2FkKAogICAgLy8gICAgIHNlbGYsIGFzYTogQXNzZXQsIG1ldGFkYXRhX3NpemU6IFVJbnQ2NCwgcGF5bG9hZDogQnl0ZXMKICAgIC8vICkgLT4gTm9uZToKICAgIHByb3RvIDMgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMDQtMjA1CiAgICAvLyAjIEVyYXNlIGV4aXN0aW5nIG1ldGFkYXRhIHBheWxvYWQKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVzaXplKG5ld19zaXplPVVJbnQ2NChjb25zdC5IRUFERVJfU0laRSkpCiAgICBmcmFtZV9kaWcgLTMKICAgIGl0b2IKICAgIGR1cAogICAgcHVzaGludCA1MQogICAgYm94X3Jlc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMDctMjA4CiAgICAvLyAjIEFwcGVuZCBwcm92aWRlZCBwYXlsb2FkCiAgICAvLyBzZWxmLl9hcHBlbmRfcGF5bG9hZChhc2EsIHBheWxvYWQpCiAgICBmcmFtZV9kaWcgLTMKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfYXBwZW5kX3BheWxvYWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjA5CiAgICAvLyBhc3NlcnQgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKSA8PSBtZXRhZGF0YV9zaXplLCBlcnIuUEFZTE9BRF9PVkVSRkxPVwogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgZnJhbWVfZGlnIC0yCiAgICA8PQogICAgYXNzZXJ0IC8vIFBheWxvYWQgb3ZlcmZsb3csIGV4Y2VlZHMgbWV0YWRhdGEgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTEtMjEyCiAgICAvLyAjIEFwcGVuZCBzdGFnZWQgZXh0cmEgcGF5bG9hZCAoaW4gdGhlIHNhbWUgR3JvdXAsIGlmIGFueSkKICAgIC8vIGdyb3VwX3NpemUgPSBHbG9iYWwuZ3JvdXBfc2l6ZQogICAgZ2xvYmFsIEdyb3VwU2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTMKICAgIC8vIGdyb3VwX2luZGV4ID0gVHhuLmdyb3VwX2luZGV4CiAgICB0eG4gR3JvdXBJbmRleAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTQKICAgIC8vIGZvciBpZHggaW4gdXJhbmdlKGdyb3VwX2luZGV4ICsgMSwgZ3JvdXBfc2l6ZSk6CiAgICBpbnRjXzAgLy8gMQogICAgKwoKX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Zvcl9oZWFkZXJAMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjE0CiAgICAvLyBmb3IgaWR4IGluIHVyYW5nZShncm91cF9pbmRleCArIDEsIGdyb3VwX3NpemUpOgogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAxCiAgICA8CiAgICBieiBfc2V0X21ldGFkYXRhX3BheWxvYWRfYWZ0ZXJfZm9yQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTgyCiAgICAvLyB0eG4udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsCiAgICBmcmFtZV9kaWcgMgogICAgZ3R4bnMgVHlwZUVudW0KICAgIHB1c2hpbnQgNiAvLyBhcHBsCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxODItMTg0CiAgICAvLyB0eG4udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsCiAgICAvLyBhbmQgdHhuLmFwcF9pZCA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZAogICAgLy8gYW5kIHR4bi5vbl9jb21wbGV0aW9uID09IE9uQ29tcGxldGVBY3Rpb24uTm9PcAogICAgYnogX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Jvb2xfZmFsc2VAMTMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTgzCiAgICAvLyBhbmQgdHhuLmFwcF9pZCA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZAogICAgZnJhbWVfZGlnIDIKICAgIGd0eG5zIEFwcGxpY2F0aW9uSUQKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25JRAogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTgyLTE4NAogICAgLy8gdHhuLnR5cGUgPT0gVHJhbnNhY3Rpb25UeXBlLkFwcGxpY2F0aW9uQ2FsbAogICAgLy8gYW5kIHR4bi5hcHBfaWQgPT0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25faWQKICAgIC8vIGFuZCB0eG4ub25fY29tcGxldGlvbiA9PSBPbkNvbXBsZXRlQWN0aW9uLk5vT3AKICAgIGJ6IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDEzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE4NAogICAgLy8gYW5kIHR4bi5vbl9jb21wbGV0aW9uID09IE9uQ29tcGxldGVBY3Rpb24uTm9PcAogICAgZnJhbWVfZGlnIDIKICAgIGd0eG5zIE9uQ29tcGxldGlvbgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxODItMTg0CiAgICAvLyB0eG4udHlwZSA9PSBUcmFuc2FjdGlvblR5cGUuQXBwbGljYXRpb25DYWxsCiAgICAvLyBhbmQgdHhuLmFwcF9pZCA9PSBHbG9iYWwuY3VycmVudF9hcHBsaWNhdGlvbl9pZAogICAgLy8gYW5kIHR4bi5vbl9jb21wbGV0aW9uID09IE9uQ29tcGxldGVBY3Rpb24uTm9PcAogICAgYm56IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDEzCiAgICBpbnRjXzAgLy8gMQoKX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Jvb2xfbWVyZ2VAMTQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE4OS0xOTIKICAgIC8vIHNlbGYuX2lzX3JlZ2lzdHJ5X2NhbGwodHhuKQogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM0X0FSR19NRVRIT0RfU0VMRUNUT1IpCiAgICAvLyA9PSBhcmM0LmFyYzRfc2lnbmF0dXJlKEFyYzg5SW50ZXJmYWNlLmFyYzg5X2V4dHJhX3BheWxvYWQpCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX0FTU0VUX0lEKSA9PSBvcC5pdG9iKGFzYS5pZCkKICAgIGJ6IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDE4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE5MAogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM0X0FSR19NRVRIT0RfU0VMRUNUT1IpCiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18xIC8vIDAKICAgIGd0eG5zYXMgQXBwbGljYXRpb25BcmdzCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE5MQogICAgLy8gPT0gYXJjNC5hcmM0X3NpZ25hdHVyZShBcmM4OUludGVyZmFjZS5hcmM4OV9leHRyYV9wYXlsb2FkKQogICAgYnl0ZWNfMyAvLyBtZXRob2QgImFyYzg5X2V4dHJhX3BheWxvYWQodWludDY0LGJ5dGVbXSl2b2lkIgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxOTAtMTkxCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzRfQVJHX01FVEhPRF9TRUxFQ1RPUikKICAgIC8vID09IGFyYzQuYXJjNF9zaWduYXR1cmUoQXJjODlJbnRlcmZhY2UuYXJjODlfZXh0cmFfcGF5bG9hZCkKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE4OS0xOTIKICAgIC8vIHNlbGYuX2lzX3JlZ2lzdHJ5X2NhbGwodHhuKQogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM0X0FSR19NRVRIT0RfU0VMRUNUT1IpCiAgICAvLyA9PSBhcmM0LmFyYzRfc2lnbmF0dXJlKEFyYzg5SW50ZXJmYWNlLmFyYzg5X2V4dHJhX3BheWxvYWQpCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX0FTU0VUX0lEKSA9PSBvcC5pdG9iKGFzYS5pZCkKICAgIGJ6IF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX2ZhbHNlQDE4CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE5MgogICAgLy8gYW5kIHR4bi5hcHBfYXJncyhjb25zdC5BUkM4OV9FWFRSQV9QQVlMT0FEX0FSR19BU1NFVF9JRCkgPT0gb3AuaXRvYihhc2EuaWQpCiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18wIC8vIDEKICAgIGd0eG5zYXMgQXBwbGljYXRpb25BcmdzCiAgICBmcmFtZV9kaWcgMAogICAgPT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTg5LTE5MgogICAgLy8gc2VsZi5faXNfcmVnaXN0cnlfY2FsbCh0eG4pCiAgICAvLyBhbmQgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzRfQVJHX01FVEhPRF9TRUxFQ1RPUikKICAgIC8vID09IGFyYzQuYXJjNF9zaWduYXR1cmUoQXJjODlJbnRlcmZhY2UuYXJjODlfZXh0cmFfcGF5bG9hZCkKICAgIC8vIGFuZCB0eG4uYXBwX2FyZ3MoY29uc3QuQVJDODlfRVhUUkFfUEFZTE9BRF9BUkdfQVNTRVRfSUQpID09IG9wLml0b2IoYXNhLmlkKQogICAgYnogX3NldF9tZXRhZGF0YV9wYXlsb2FkX2Jvb2xfZmFsc2VAMTgKICAgIGludGNfMCAvLyAxCgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYm9vbF9tZXJnZUAxOToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjE2CiAgICAvLyBpZiBzZWxmLl9pc19leHRyYV9wYXlsb2FkX2NhbGwoYXNhLCB0eG4pOgogICAgYnogX3NldF9tZXRhZGF0YV9wYXlsb2FkX2FmdGVyX2lmX2Vsc2VANAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxOTYtMTk5CiAgICAvLyAjIFRoaXMgc3Vicm91dGluZSBhc3N1bWVzIHR4biBpcyBhbHJlYWR5IHZhbGlkYXRlZCBhcyBhbiBleHRyYSBwYXlsb2FkIHR4bgogICAgLy8gcmV0dXJuIGFyYzQuRHluYW1pY0J5dGVzLmZyb21fYnl0ZXMoCiAgICAvLyAgICAgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX1BBWUxPQUQpCiAgICAvLyApLm5hdGl2ZQogICAgZnJhbWVfZGlnIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTk4CiAgICAvLyB0eG4uYXBwX2FyZ3MoY29uc3QuQVJDODlfRVhUUkFfUEFZTE9BRF9BUkdfUEFZTE9BRCkKICAgIGludGNfMyAvLyAyCiAgICBndHhuc2FzIEFwcGxpY2F0aW9uQXJncwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxOTYtMTk5CiAgICAvLyAjIFRoaXMgc3Vicm91dGluZSBhc3N1bWVzIHR4biBpcyBhbHJlYWR5IHZhbGlkYXRlZCBhcyBhbiBleHRyYSBwYXlsb2FkIHR4bgogICAgLy8gcmV0dXJuIGFyYzQuRHluYW1pY0J5dGVzLmZyb21fYnl0ZXMoCiAgICAvLyAgICAgdHhuLmFwcF9hcmdzKGNvbnN0LkFSQzg5X0VYVFJBX1BBWUxPQURfQVJHX1BBWUxPQUQpCiAgICAvLyApLm5hdGl2ZQogICAgZXh0cmFjdCAyIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjE5CiAgICAvLyBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpICsgZXh0cmFfcGF5bG9hZC5sZW5ndGggPD0gbWV0YWRhdGFfc2l6ZQogICAgZnJhbWVfZGlnIC0zCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgZGlnIDEKICAgIGxlbgogICAgKwogICAgZnJhbWVfZGlnIC0yCiAgICA8PQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTgtMjIwCiAgICAvLyBhc3NlcnQgKAogICAgLy8gICAgIHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkgKyBleHRyYV9wYXlsb2FkLmxlbmd0aCA8PSBtZXRhZGF0YV9zaXplCiAgICAvLyApLCBlcnIuUEFZTE9BRF9PVkVSRkxPVwogICAgYXNzZXJ0IC8vIFBheWxvYWQgb3ZlcmZsb3csIGV4Y2VlZHMgbWV0YWRhdGEgc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMjEKICAgIC8vIHNlbGYuX2FwcGVuZF9wYXlsb2FkKGFzYSwgZXh0cmFfcGF5bG9hZCkKICAgIGZyYW1lX2RpZyAtMwogICAgc3dhcAogICAgY2FsbHN1YiBfYXBwZW5kX3BheWxvYWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjIzCiAgICAvLyBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpIDw9IG1ldGFkYXRhX3NpemUKICAgIGZyYW1lX2RpZyAtMwogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIGZyYW1lX2RpZyAtMgogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjIyLTIyNAogICAgLy8gYXNzZXJ0ICgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpIDw9IG1ldGFkYXRhX3NpemUKICAgIC8vICksIGVyci5QQVlMT0FEX09WRVJGTE9XCiAgICBhc3NlcnQgLy8gUGF5bG9hZCBvdmVyZmxvdywgZXhjZWVkcyBtZXRhZGF0YSBzaXplCgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMTQKICAgIC8vIGZvciBpZHggaW4gdXJhbmdlKGdyb3VwX2luZGV4ICsgMSwgZ3JvdXBfc2l6ZSk6CiAgICBmcmFtZV9kaWcgMgogICAgaW50Y18wIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMgogICAgYiBfc2V0X21ldGFkYXRhX3BheWxvYWRfZm9yX2hlYWRlckAxCgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYm9vbF9mYWxzZUAxODoKICAgIGludGNfMSAvLyAwCiAgICBiIF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX21lcmdlQDE5Cgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYm9vbF9mYWxzZUAxMzoKICAgIGludGNfMSAvLyAwCiAgICBiIF9zZXRfbWV0YWRhdGFfcGF5bG9hZF9ib29sX21lcmdlQDE0Cgpfc2V0X21ldGFkYXRhX3BheWxvYWRfYWZ0ZXJfZm9yQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIyNQogICAgLy8gYXNzZXJ0IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkgPT0gbWV0YWRhdGFfc2l6ZSwgZXJyLk1FVEFEQVRBX1NJWkVfTUlTTUFUQ0gKICAgIGZyYW1lX2RpZyAtMwogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIGZyYW1lX2RpZyAtMgogICAgPT0KICAgIGFzc2VydCAvLyBNZXRhZGF0YSBzaXplIG1pc21hdGNoLCBtdXN0IGJlIGV4YWN0bHkgZXF1YWwgdG8gZGVjbGFyZWQgc2l6ZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9nZXRfbWV0YWRhdGFfcGFnZShhc2E6IHVpbnQ2NCwgcGFnZV9pbmRleDogdWludDY0KSAtPiBieXRlczoKX2dldF9tZXRhZGF0YV9wYWdlOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzUKICAgIC8vIGRlZiBfZ2V0X21ldGFkYXRhX3BhZ2Uoc2VsZiwgYXNhOiBBc3NldCwgcGFnZV9pbmRleDogVUludDY0KSAtPiBCeXRlczoKICAgIHByb3RvIDIgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNDMKICAgIC8vIG4gPSBzZWxmLl9nZXRfbWV0YWRhdGFfc2l6ZShhc2EpCiAgICBmcmFtZV9kaWcgLTIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ1CiAgICAvLyBzdGFydCA9IHBhZ2VfaW5kZXggKiBwcwogICAgZnJhbWVfZGlnIC0xCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI0MgogICAgLy8gcHMgPSBVSW50NjQoY29uc3QuUEFHRV9TSVpFKQogICAgaW50YyA0IC8vIDEwMDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ1CiAgICAvLyBzdGFydCA9IHBhZ2VfaW5kZXggKiBwcwogICAgKgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ2CiAgICAvLyBpZiBzdGFydCA+PSBuOgogICAgPj0KICAgIGJ6IF9nZXRfbWV0YWRhdGFfcGFnZV9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjQ3LTI0OAogICAgLy8gIyBPdXQtb2YtcmFuZ2UgcGFnZSAoaW5jbHVkaW5nIGVtcHR5IG1ldGFkYXRhIHdpdGggcGFnZV9pbmRleCA+IDApCiAgICAvLyByZXR1cm4gQnl0ZXMoYiIiKQogICAgYnl0ZWNfMSAvLyAweAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCl9nZXRfbWV0YWRhdGFfcGFnZV9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1MAogICAgLy8gcmVtYWluaW5nID0gbiAtIHN0YXJ0CiAgICBmcmFtZV9kaWcgMAogICAgZnJhbWVfZGlnIDEKICAgIGR1cAogICAgY292ZXIgMgogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNDIKICAgIC8vIHBzID0gVUludDY0KGNvbnN0LlBBR0VfU0laRSkKICAgIGludGMgNCAvLyAxMDA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToyNAogICAgLy8gcmV0dXJuIGEgaWYgYSA8IGIgZWxzZSBiCiAgICBkaWcgMQogICAgPAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNDIKICAgIC8vIHBzID0gVUludDY0KGNvbnN0LlBBR0VfU0laRSkKICAgIGludGMgNCAvLyAxMDA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToyNAogICAgLy8gcmV0dXJuIGEgaWYgYSA8IGIgZWxzZSBiCiAgICBzd2FwCiAgICBzZWxlY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjUzCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgZnJhbWVfZGlnIC0yCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1NAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgc3RhcnQsIGxlbmd0aD1sZW5ndGgKICAgIHB1c2hpbnQgNTEKICAgIHVuY292ZXIgMwogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNTMtMjU1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQSArIHN0YXJ0LCBsZW5ndGg9bGVuZ3RoCiAgICAvLyApCiAgICB1bmNvdmVyIDIKICAgIGJveF9leHRyYWN0CiAgICBmcmFtZV9idXJ5IDAKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5fZ2V0X3Nob3J0X21ldGFkYXRhKGFzYTogdWludDY0KSAtPiBieXRlczoKX2dldF9zaG9ydF9tZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjYyCiAgICAvLyBkZWYgX2dldF9zaG9ydF9tZXRhZGF0YShzZWxmLCBhc2E6IEFzc2V0KSAtPiBCeXRlczoKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NgogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTcKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU4CiAgICAvLyBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjY5CiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2Ny03MAogICAgLy8gcmV0dXJuIG9wLmdldGJpdCgKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfaWRlbnRpZmllcnMoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICAvLyApCiAgICBnZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjYzCiAgICAvLyBhc3NlcnQgc2VsZi5faXNfc2hvcnQoYXNhKSwgZXJyLk1FVEFEQVRBX05PVF9TSE9SVAogICAgYXNzZXJ0IC8vIE1ldGFkYXRhIGlzIG5vdCBzaG9ydAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNjQKICAgIC8vIHJldHVybiBzZWxmLl9nZXRfc2xpY2UoYXNhLCBVSW50NjQoMCksIHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9zaXplCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI1OQogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBICsgb2Zmc2V0LCBsZW5ndGg9c2l6ZQogICAgcHVzaGludCA1MQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNTgtMjYwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQSArIG9mZnNldCwgbGVuZ3RoPXNpemUKICAgIC8vICkKICAgIHN3YXAKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI2NAogICAgLy8gcmV0dXJuIHNlbGYuX2dldF9zbGljZShhc2EsIFVJbnQ2NCgwKSwgc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKSkKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5faWRlbnRpZnlfbWV0YWRhdGEoYXNhOiB1aW50NjQpIC0+IHZvaWQ6Cl9pZGVudGlmeV9tZXRhZGF0YToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjY2CiAgICAvLyBkZWYgX2lkZW50aWZ5X21ldGFkYXRhKHNlbGYsIGFzYTogQXNzZXQpIC0+IE5vbmU6CiAgICBwcm90byAxIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjY3CiAgICAvLyBtZXRhZGF0YV9zaXplID0gc2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKQogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIF9nZXRfbWV0YWRhdGFfc2l6ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1NgogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTcKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU4CiAgICAvLyBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjUzCiAgICAvLyByZXR1cm4gbWV0YWRhdGFfc2l6ZSA8PSBjb25zdC5TSE9SVF9NRVRBREFUQV9TSVpFCiAgICB1bmNvdmVyIDIKICAgIHB1c2hpbnQgNDA5NgogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MjcwCiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyNjgtMjcyCiAgICAvLyBpZGVudGlmaWVycyA9IG9wLnNldGJpdF9ieXRlcygKICAgIC8vICAgICBzZWxmLl9nZXRfbWV0YWRhdGFfaWRlbnRpZmllcnMoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lERU5USUZJRVIgLSBmbGcuSURfU0hPUlQsCiAgICAvLyAgICAgc2VsZi5faXNfc2hvcnRfbWV0YWRhdGFfc2l6ZShtZXRhZGF0YV9zaXplKSwKICAgIC8vICkKICAgIHN3YXAKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2MwogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLCB2YWx1ZT1pZGVudGlmaWVycwogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjItNjQKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsIHZhbHVlPWlkZW50aWZpZXJzCiAgICAvLyApCiAgICBzd2FwCiAgICBib3hfcmVwbGFjZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9jb21wdXRlX2hlYWRlcl9oYXNoKGFzYTogdWludDY0KSAtPiBieXRlczoKX2NvbXB1dGVfaGVhZGVyX2hhc2g6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI3NQogICAgLy8gZGVmIF9jb21wdXRlX2hlYWRlcl9oYXNoKHNlbGYsIGFzYTogQXNzZXQpIC0+IEJ5dGVzOgogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI3Ni0yNzgKICAgIC8vICMgaGggPSBTSEEtNTEyLzI1NigiYXJjMDA4OS9oZWFkZXIiIHx8IEFzc2V0IElEIHx8IE1ldGFkYXRhIElkZW50aWZpZXJzCiAgICAvLyAjIHx8IFJldmVyc2libGUgRmxhZ3MgfHwgSXJyZXZlcnNpYmxlIEZsYWdzIHx8IE1ldGFkYXRhIFNpemUpCiAgICAvLyBlbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldD1jb25zdC5IRUFERVJfSEFTSF9PUF9CVURHRVQpCiAgICBwdXNoaW50IDExMAogICAgaW50Y18xIC8vIDAKICAgIGNhbGxzdWIgZW5zdXJlX2J1ZGdldAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyODAKICAgIC8vIGFzc2V0X2lkID0gb3AuaXRvYihhc2EuaWQpCiAgICBmcmFtZV9kaWcgLTEKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTYtNTkKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0lERU5USUZJRVJTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5NRVRBREFUQV9JREVOVElGSUVSU19TSVpFLAogICAgLy8gKQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU3CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1OAogICAgLy8gbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3My03NQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgLy8gKQogICAgZGlnIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzQKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICBpbnRjXzAgLy8gMQogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjczLTc1CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9SRVZFUlNJQkxFX0ZMQUdTLCBsZW5ndGg9Y29uc3QuUkVWRVJTSUJMRV9GTEFHU19TSVpFCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBkaWcgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OAogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIGludGNfMyAvLyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk5CiAgICAvLyBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5Ny0xMDAKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX0lSUkVWRVJTSUJMRV9GTEFHUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuSVJSRVZFUlNJQkxFX0ZMQUdTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyODUKICAgIC8vIHVpbnQ9c2VsZi5fZ2V0X21ldGFkYXRhX3NpemUoYXNhKSwKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjE5CiAgICAvLyByZXR1cm4gb3AuZXh0cmFjdChvcC5pdG9iKHVpbnQpLCBzdGFydCwgc2l6ZSkKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI3OQogICAgLy8gZG9tYWluID0gQnl0ZXMoY29uc3QuSEFTSF9ET01BSU5fSEVBREVSKQogICAgcHVzaGJ5dGVzIDB4NjE3MjYzMzAzMDM4MzkyZjY4NjU2MTY0NjU3MgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyODktMjkwCiAgICAvLyBkb21haW4KICAgIC8vICsgYXNzZXRfaWQKICAgIHVuY292ZXIgNQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI4OS0yOTEKICAgIC8vIGRvbWFpbgogICAgLy8gKyBhc3NldF9pZAogICAgLy8gKyBtZXRhZGF0YV9pZGVudGlmaWVycwogICAgdW5jb3ZlciA0CiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mjg5LTI5MgogICAgLy8gZG9tYWluCiAgICAvLyArIGFzc2V0X2lkCiAgICAvLyArIG1ldGFkYXRhX2lkZW50aWZpZXJzCiAgICAvLyArIHJldmVyc2libGVfZmxhZ3MKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI4OS0yOTMKICAgIC8vIGRvbWFpbgogICAgLy8gKyBhc3NldF9pZAogICAgLy8gKyBtZXRhZGF0YV9pZGVudGlmaWVycwogICAgLy8gKyByZXZlcnNpYmxlX2ZsYWdzCiAgICAvLyArIGlycmV2ZXJzaWJsZV9mbGFncwogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6Mjg5LTI5NAogICAgLy8gZG9tYWluCiAgICAvLyArIGFzc2V0X2lkCiAgICAvLyArIG1ldGFkYXRhX2lkZW50aWZpZXJzCiAgICAvLyArIHJldmVyc2libGVfZmxhZ3MKICAgIC8vICsgaXJyZXZlcnNpYmxlX2ZsYWdzCiAgICAvLyArIG1ldGFkYXRhX3NpemUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyODgtMjk1CiAgICAvLyByZXR1cm4gb3Auc2hhNTEyXzI1NigKICAgIC8vICAgICBkb21haW4KICAgIC8vICAgICArIGFzc2V0X2lkCiAgICAvLyAgICAgKyBtZXRhZGF0YV9pZGVudGlmaWVycwogICAgLy8gICAgICsgcmV2ZXJzaWJsZV9mbGFncwogICAgLy8gICAgICsgaXJyZXZlcnNpYmxlX2ZsYWdzCiAgICAvLyAgICAgKyBtZXRhZGF0YV9zaXplCiAgICAvLyApCiAgICBzaGE1MTJfMjU2CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NvbXB1dGVfcGFnZV9oYXNoKGFzYTogdWludDY0LCBwYWdlX2luZGV4OiB1aW50NjQsIHBhZ2VfY29udGVudDogYnl0ZXMpIC0+IGJ5dGVzOgpfY29tcHV0ZV9wYWdlX2hhc2g6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjI5Ny0yOTkKICAgIC8vIGRlZiBfY29tcHV0ZV9wYWdlX2hhc2goCiAgICAvLyAgICAgc2VsZiwgYXNhOiBBc3NldCwgcGFnZV9pbmRleDogVUludDY0LCBwYWdlX2NvbnRlbnQ6IEJ5dGVzCiAgICAvLyApIC0+IEJ5dGVzOgogICAgcHJvdG8gMyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMwMC0zMDEKICAgIC8vICMgcGhbaV0gPSBTSEEtNTEyLzI1NigiYXJjMDA4OS9wYWdlIiB8fCBBc3NldCBJRCB8fCBQYWdlIEluZGV4IHx8IFBhZ2UgU2l6ZSB8fCBQYWdlIENvbnRlbnQpCiAgICAvLyBlbnN1cmVfYnVkZ2V0KHJlcXVpcmVkX2J1ZGdldD1jb25zdC5QQUdFX0hBU0hfT1BfQlVER0VUKQogICAgcHVzaGludCAxNTAKICAgIGludGNfMSAvLyAwCiAgICBjYWxsc3ViIGVuc3VyZV9idWRnZXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzAzCiAgICAvLyBhc3NldF9pZCA9IG9wLml0b2IoYXNhLmlkKQogICAgZnJhbWVfZGlnIC0zCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToxOQogICAgLy8gcmV0dXJuIG9wLmV4dHJhY3Qob3AuaXRvYih1aW50KSwgc3RhcnQsIHNpemUpCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIGV4dHJhY3QgNyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMwNgogICAgLy8gdWludD1wYWdlX2NvbnRlbnQubGVuZ3RoLCBzaXplPVVJbnQ2NChjb25zdC5VSU5UMTZfU0laRSkKICAgIGZyYW1lX2RpZyAtMQogICAgbGVuCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXZtX2NvbW1vbi5weToxOQogICAgLy8gcmV0dXJuIG9wLmV4dHJhY3Qob3AuaXRvYih1aW50KSwgc3RhcnQsIHNpemUpCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMDIKICAgIC8vIGRvbWFpbiA9IEJ5dGVzKGNvbnN0LkhBU0hfRE9NQUlOX1BBR0UpCiAgICBwdXNoYnl0ZXMgMHg2MTcyNjMzMDMwMzgzOTJmNzA2MTY3NjUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzA4CiAgICAvLyByZXR1cm4gb3Auc2hhNTEyXzI1Nihkb21haW4gKyBhc3NldF9pZCArIHBhZ2VfaWR4ICsgcGFnZV9zaXplICsgcGFnZV9jb250ZW50KQogICAgdW5jb3ZlciAzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGZyYW1lX2RpZyAtMQogICAgY29uY2F0CiAgICBzaGE1MTJfMjU2CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NvbXB1dGVfbWV0YWRhdGFfaGFzaChhc2E6IHVpbnQ2NCkgLT4gYnl0ZXM6Cl9jb21wdXRlX21ldGFkYXRhX2hhc2g6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxMAogICAgLy8gZGVmIF9jb21wdXRlX21ldGFkYXRhX2hhc2goc2VsZiwgYXNhOiBBc3NldCkgLT4gQnl0ZXM6CiAgICBwcm90byAxIDEKICAgIGJ5dGVjXzEgLy8gIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzE0CiAgICAvLyBoaCA9IHNlbGYuX2NvbXB1dGVfaGVhZGVyX2hhc2goYXNhKQogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIF9jb21wdXRlX2hlYWRlcl9oYXNoCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjIzMgogICAgLy8gbiA9IHNlbGYuX2dldF9tZXRhZGF0YV9zaXplKGFzYSkKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfZ2V0X21ldGFkYXRhX3NpemUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjI5CiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICBpbnRjIDUgLy8gMTAwNgogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToyMzMKICAgIC8vIHJldHVybiBjZWlsX2RpdihudW09biwgZGVuPVVJbnQ2NChjb25zdC5QQUdFX1NJWkUpKQogICAgaW50YyA0IC8vIDEwMDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hdm1fY29tbW9uLnB5OjI5CiAgICAvLyByZXR1cm4gKG51bSArIChkZW4gLSAxKSkgLy8gZGVuCiAgICAvCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzE2CiAgICAvLyBjb25jYXRlbmF0ZWRfcGggPSBCeXRlcygpCiAgICBieXRlY18xIC8vIDB4CiAgICBzd2FwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxNwogICAgLy8gaWYgdG90YWxfcGFnZXMgPiAwOgogICAgYnogX2NvbXB1dGVfbWV0YWRhdGFfaGFzaF9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzE4CiAgICAvLyBmb3IgcGFnZV9pbmRleCBpbiB1cmFuZ2UoMCwgdG90YWxfcGFnZXMpOgogICAgaW50Y18xIC8vIDAKICAgIGZyYW1lX2J1cnkgMAoKX2NvbXB1dGVfbWV0YWRhdGFfaGFzaF9mb3JfaGVhZGVyQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMxOAogICAgLy8gZm9yIHBhZ2VfaW5kZXggaW4gdXJhbmdlKDAsIHRvdGFsX3BhZ2VzKToKICAgIGZyYW1lX2RpZyAwCiAgICBmcmFtZV9kaWcgMgogICAgPAogICAgYnogX2NvbXB1dGVfbWV0YWRhdGFfaGFzaF9hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzE5CiAgICAvLyBwYWdlX2NvbnRlbnQgPSBzZWxmLl9nZXRfbWV0YWRhdGFfcGFnZShhc2EsIHBhZ2VfaW5kZXgpCiAgICBmcmFtZV9kaWcgLTEKICAgIGZyYW1lX2RpZyAwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNhbGxzdWIgX2dldF9tZXRhZGF0YV9wYWdlCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMyMAogICAgLy8gcGggPSBzZWxmLl9jb21wdXRlX3BhZ2VfaGFzaChhc2EsIHBhZ2VfaW5kZXgsIHBhZ2VfY29udGVudCkKICAgIGZyYW1lX2RpZyAtMQogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgY2FsbHN1YiBfY29tcHV0ZV9wYWdlX2hhc2gKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzIxCiAgICAvLyBjb25jYXRlbmF0ZWRfcGggKz0gcGgKICAgIGZyYW1lX2RpZyAzCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGZyYW1lX2J1cnkgMwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMTgKICAgIC8vIGZvciBwYWdlX2luZGV4IGluIHVyYW5nZSgwLCB0b3RhbF9wYWdlcyk6CiAgICBpbnRjXzAgLy8gMQogICAgKwogICAgZnJhbWVfYnVyeSAwCiAgICBiIF9jb21wdXRlX21ldGFkYXRhX2hhc2hfZm9yX2hlYWRlckAyCgpfY29tcHV0ZV9tZXRhZGF0YV9oYXNoX2FmdGVyX2lmX2Vsc2VANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzExLTMxMwogICAgLy8gIyBhbSA9IFNIQS01MTIvMjU2KCJhcmMwMDg5L2FtIiB8fCBoaCB8fCBwaFswXSB8fCBwaFsxXSB8fCAuLi4gfHwgcGhbdG90YWxfcGFnZXMgLSAxXSkgb3IKICAgIC8vICMgYW0gPSBTSEEtNTEyLzI1NigiYXJjMDA4OS9hbSIgfHwgaGgpLCBpZiBubyBwYWdlcwogICAgLy8gZG9tYWluID0gQnl0ZXMoY29uc3QuSEFTSF9ET01BSU5fTUVUQURBVEEpCiAgICBwdXNoYnl0ZXMgMHg2MTcyNjMzMDMwMzgzOTJmNjE2ZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMjIKICAgIC8vIHJldHVybiBvcC5zaGE1MTJfMjU2KGRvbWFpbiArIGhoICsgY29uY2F0ZW5hdGVkX3BoKQogICAgZnJhbWVfZGlnIDEKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIDMKICAgIGNvbmNhdAogICAgc2hhNTEyXzI1NgogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NoZWNrX2Jhc2VfcHJlY29uZGl0aW9ucyhhc2E6IHVpbnQ2NCwgbWV0YWRhdGFfc2l6ZTogdWludDY0KSAtPiB2b2lkOgpfY2hlY2tfYmFzZV9wcmVjb25kaXRpb25zOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMjQKICAgIC8vIGRlZiBfY2hlY2tfYmFzZV9wcmVjb25kaXRpb25zKHNlbGYsIGFzYTogQXNzZXQsIG1ldGFkYXRhX3NpemU6IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjE1CiAgICAvLyBfY3JlYXRvciwgZXhpc3RzID0gb3AuQXNzZXRQYXJhbXNHZXQuYXNzZXRfY3JlYXRvcihhc2EpCiAgICBmcmFtZV9kaWcgLTIKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzI1CiAgICAvLyBhc3NlcnQgc2VsZi5fYXNhX2V4aXN0cyhhc2EpLCBlcnIuQVNBX05PVF9FWElTVAogICAgYXNzZXJ0IC8vIFRoZSBzcGVjaWZpZWQgQVNBIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMyNgogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX2FzYV9tYW5hZ2VyKGFzYSksIGVyci5VTkFVVEhPUklaRUQKICAgIGZyYW1lX2RpZyAtMgogICAgY2FsbHN1YiBfaXNfYXNhX21hbmFnZXIKICAgIGFzc2VydCAvLyBVbmF1dGhvcml6ZWQsIG11c3QgYmUgdGhlIEFzc2V0IE1hbmFnZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NTAKICAgIC8vIHJldHVybiBtZXRhZGF0YV9zaXplIDw9IGNvbnN0Lk1BWF9NRVRBREFUQV9TSVpFCiAgICBmcmFtZV9kaWcgLTEKICAgIGludGMgNiAvLyAzMDUwNgogICAgPD0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzI3LTMyOQogICAgLy8gYXNzZXJ0IHNlbGYuX2lzX3ZhbGlkX21heF9tZXRhZGF0YV9zaXplKAogICAgLy8gICAgIG1ldGFkYXRhX3NpemUKICAgIC8vICksIGVyci5FWENFRURTX01BWF9NRVRBREFUQV9TSVpFCiAgICBhc3NlcnQgLy8gSW52YWxpZCBNZXRhZGF0YSBzaXplLCBleGNlZWRzIG1heGltdW0gYWxsb3dlZCBzaXplCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NoZWNrX3VwZGF0ZV9wcmVjb25kaXRpb25zKGFzYTogdWludDY0LCBtZXRhZGF0YV9zaXplOiB1aW50NjQpIC0+IHZvaWQ6Cl9jaGVja191cGRhdGVfcHJlY29uZGl0aW9uczoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzMxCiAgICAvLyBkZWYgX2NoZWNrX3VwZGF0ZV9wcmVjb25kaXRpb25zKHNlbGYsIGFzYTogQXNzZXQsIG1ldGFkYXRhX3NpemU6IFVJbnQ2NCkgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMzIKICAgIC8vIHNlbGYuX2NoZWNrX2Jhc2VfcHJlY29uZGl0aW9ucyhhc2EsIG1ldGFkYXRhX3NpemUpCiAgICBmcmFtZV9kaWcgLTIKICAgIGZyYW1lX2RpZyAtMQogICAgY2FsbHN1YiBfY2hlY2tfYmFzZV9wcmVjb25kaXRpb25zCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ3CiAgICAvLyByZXR1cm4gYXNhIGluIHNlbGYuYXNzZXRfbWV0YWRhdGEKICAgIGZyYW1lX2RpZyAtMgogICAgaXRvYgogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzMzCiAgICAvLyBhc3NlcnQgc2VsZi5fbWV0YWRhdGFfZXhpc3RzKGFzYSksIGVyci5BU1NFVF9NRVRBREFUQV9OT1RfRVhJU1QKICAgIGFzc2VydCAvLyBBc3NldCBNZXRhZGF0YSBkb2VzIG5vdCBleGlzdCBmb3IgdGhlIHNwZWNpZmllZCBBU0EKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTEwCiAgICAvLyBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIGludGNfMSAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjEwOC0xMTEKICAgIC8vIHJldHVybiBvcC5nZXRiaXQoCiAgICAvLyAgICAgc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpLAogICAgLy8gICAgIGNvbnN0LkJJVF9SSUdIVE1PU1RfSVJSX0ZMQUcgLSBmbGFnLAogICAgLy8gKQogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMzNAogICAgLy8gYXNzZXJ0IG5vdCBzZWxmLl9pc19pbW11dGFibGUoYXNhKSwgZXJyLklNTVVUQUJMRQogICAgIQogICAgYXNzZXJ0IC8vIE1ldGFkYXRhIGlzIGltbXV0YWJsZQogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucyhhc2E6IHVpbnQ2NCkgLT4gdm9pZDoKX2NoZWNrX2V4aXN0ZW5jZV9wcmVjb25kaXRpb25zOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozMzYKICAgIC8vIGRlZiBfY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoc2VsZiwgYXNhOiBBc3NldCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjE1CiAgICAvLyBfY3JlYXRvciwgZXhpc3RzID0gb3AuQXNzZXRQYXJhbXNHZXQuYXNzZXRfY3JlYXRvcihhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGFzc2V0X3BhcmFtc19nZXQgQXNzZXRDcmVhdG9yCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzM3CiAgICAvLyBhc3NlcnQgc2VsZi5fYXNhX2V4aXN0cyhhc2EpLCBlcnIuQVNBX05PVF9FWElTVAogICAgYXNzZXJ0IC8vIFRoZSBzcGVjaWZpZWQgQVNBIGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjQ3CiAgICAvLyByZXR1cm4gYXNhIGluIHNlbGYuYXNzZXRfbWV0YWRhdGEKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjMzOAogICAgLy8gYXNzZXJ0IHNlbGYuX21ldGFkYXRhX2V4aXN0cyhhc2EpLCBlcnIuQVNTRVRfTUVUQURBVEFfTk9UX0VYSVNUCiAgICBhc3NlcnQgLy8gQXNzZXQgTWV0YWRhdGEgZG9lcyBub3QgZXhpc3QgZm9yIHRoZSBzcGVjaWZpZWQgQVNBCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMuYXNhX21ldGFkYXRhX3JlZ2lzdHJ5LmNvbnRyYWN0LkFzYU1ldGFkYXRhUmVnaXN0cnkuX2NoZWNrX3NldF9mbGFnX3ByZWNvbmRpdGlvbnMoYXNhOiB1aW50NjQpIC0+IHZvaWQ6Cl9jaGVja19zZXRfZmxhZ19wcmVjb25kaXRpb25zOgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNDAKICAgIC8vIGRlZiBfY2hlY2tfc2V0X2ZsYWdfcHJlY29uZGl0aW9ucyhzZWxmLCBhc2E6IEFzc2V0KSAtPiBOb25lOgogICAgcHJvdG8gMSAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM0MQogICAgLy8gc2VsZi5fY2hlY2tfZXhpc3RlbmNlX3ByZWNvbmRpdGlvbnMoYXNhKQogICAgZnJhbWVfZGlnIC0xCiAgICBjYWxsc3ViIF9jaGVja19leGlzdGVuY2VfcHJlY29uZGl0aW9ucwogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNDIKICAgIC8vIGFzc2VydCBzZWxmLl9pc19hc2FfbWFuYWdlcihhc2EpLCBlcnIuVU5BVVRIT1JJWkVECiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2lzX2FzYV9tYW5hZ2VyCiAgICBhc3NlcnQgLy8gVW5hdXRob3JpemVkLCBtdXN0IGJlIHRoZSBBc3NldCBNYW5hZ2VyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgZnJhbWVfZGlnIC0xCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk4CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgaW50Y18zIC8vIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTkKICAgIC8vIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIGludGNfMCAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojk3LTEwMAogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfSVJSRVZFUlNJQkxFX0ZMQUdTLAogICAgLy8gICAgIGxlbmd0aD1jb25zdC5JUlJFVkVSU0lCTEVfRkxBR1NfU0laRSwKICAgIC8vICkKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjExMAogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JUlJfRkxBRyAtIGZsYWcsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMDgtMTExCiAgICAvLyByZXR1cm4gb3AuZ2V0Yml0KAogICAgLy8gICAgIHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSwKICAgIC8vICAgICBjb25zdC5CSVRfUklHSFRNT1NUX0lSUl9GTEFHIC0gZmxhZywKICAgIC8vICkKICAgIGdldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNDMKICAgIC8vIGFzc2VydCBub3Qgc2VsZi5faXNfaW1tdXRhYmxlKGFzYSksIGVyci5JTU1VVEFCTEUKICAgICEKICAgIGFzc2VydCAvLyBNZXRhZGF0YSBpcyBpbW11dGFibGUKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfbWV0YWRhdGFfcmVnaXN0cnkuY29udHJhY3QuQXNhTWV0YWRhdGFSZWdpc3RyeS5fZW1pdF91cGRhdGVkX2V2ZW50KGFzYTogdWludDY0LCBtZXRhZGF0YV9oYXNoOiBieXRlcykgLT4gdm9pZDoKX2VtaXRfdXBkYXRlZF9ldmVudDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQ1CiAgICAvLyBkZWYgX2VtaXRfdXBkYXRlZF9ldmVudChzZWxmLCBhc2E6IEFzc2V0LCBtZXRhZGF0YV9oYXNoOiBCeXRlcykgLT4gTm9uZToKICAgIHByb3RvIDIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNDgKICAgIC8vIGFzc2V0X2lkPWFyYzQuVUludDY0KGFzYS5pZCksCiAgICBmcmFtZV9kaWcgLTIKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQ5CiAgICAvLyByb3VuZD1hcmM0LlVJbnQ2NChHbG9iYWwucm91bmQpLAogICAgZ2xvYmFsIFJvdW5kCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM1MAogICAgLy8gdGltZXN0YW1wPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NzMtNzUKICAgIC8vIHJldHVybiBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLmV4dHJhY3QoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX1JFVkVSU0lCTEVfRkxBR1MsIGxlbmd0aD1jb25zdC5SRVZFUlNJQkxFX0ZMQUdTX1NJWkUKICAgIC8vICkKICAgIGRpZyAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5Ojc0CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgaW50Y18wIC8vIDEKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo3My03NQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfUkVWRVJTSUJMRV9GTEFHUywgbGVuZ3RoPWNvbnN0LlJFVkVSU0lCTEVfRkxBR1NfU0laRQogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzUxCiAgICAvLyByZXZlcnNpYmxlX2ZsYWdzPWFyYzQuQnl0ZShvcC5idG9pKHNlbGYuX2dldF9yZXZlcnNpYmxlX2ZsYWdzKGFzYSkpKSwKICAgIGJ0b2kKICAgIGl0b2IKICAgIGR1cAogICAgYml0bGVuCiAgICBpbnRjXzIgLy8gOAogICAgPD0KICAgIGFzc2VydCAvLyBvdmVyZmxvdwogICAgZXh0cmFjdCA3IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgZGlnIDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICBpbnRjXzMgLy8gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo5OQogICAgLy8gbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgaW50Y18wIC8vIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6OTctMTAwCiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9JUlJFVkVSU0lCTEVfRkxBR1MsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0LklSUkVWRVJTSUJMRV9GTEFHU19TSVpFLAogICAgLy8gKQogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzUzCiAgICAvLyBvcC5idG9pKHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSkKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzUyLTM1NAogICAgLy8gaXJyZXZlcnNpYmxlX2ZsYWdzPWFyYzQuQnl0ZSgKICAgIC8vICAgICBvcC5idG9pKHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSkKICAgIC8vICksCiAgICBpdG9iCiAgICBkdXAKICAgIGJpdGxlbgogICAgaW50Y18yIC8vIDgKICAgIDw9CiAgICBhc3NlcnQgLy8gb3ZlcmZsb3cKICAgIGV4dHJhY3QgNyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU2LTU5CiAgICAvLyByZXR1cm4gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5leHRyYWN0KAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9JREVOVElGSUVSUywKICAgIC8vICAgICBsZW5ndGg9Y29uc3QuTUVUQURBVEFfSURFTlRJRklFUlNfU0laRSwKICAgIC8vICkKICAgIGRpZyA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjU3CiAgICAvLyBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICBpbnRjXzEgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1OAogICAgLy8gbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICBpbnRjXzAgLy8gMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo1Ni01OQogICAgLy8gcmV0dXJuIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkuZXh0cmFjdCgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTUVUQURBVEFfSURFTlRJRklFUlMsCiAgICAvLyAgICAgbGVuZ3RoPWNvbnN0Lk1FVEFEQVRBX0lERU5USUZJRVJTX1NJWkUsCiAgICAvLyApCiAgICBib3hfZXh0cmFjdAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTo2OQogICAgLy8gY29uc3QuQklUX1JJR0hUTU9TVF9JREVOVElGSUVSIC0gZmxnLklEX1NIT1JULAogICAgaW50Y18xIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6NjctNzAKICAgIC8vIHJldHVybiBvcC5nZXRiaXQoCiAgICAvLyAgICAgc2VsZi5fZ2V0X21ldGFkYXRhX2lkZW50aWZpZXJzKGFzYSksCiAgICAvLyAgICAgY29uc3QuQklUX1JJR0hUTU9TVF9JREVOVElGSUVSIC0gZmxnLklEX1NIT1JULAogICAgLy8gKQogICAgZ2V0Yml0CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM1NQogICAgLy8gaXNfc2hvcnQ9YXJjNC5Cb29sKHNlbGYuX2lzX3Nob3J0KGFzYSkpLAogICAgYnl0ZWNfMiAvLyAweDAwCiAgICBpbnRjXzEgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQ3LTM1NwogICAgLy8gYWJpLkFyYzg5TWV0YWRhdGFVcGRhdGVkKAogICAgLy8gICAgIGFzc2V0X2lkPWFyYzQuVUludDY0KGFzYS5pZCksCiAgICAvLyAgICAgcm91bmQ9YXJjNC5VSW50NjQoR2xvYmFsLnJvdW5kKSwKICAgIC8vICAgICB0aW1lc3RhbXA9YXJjNC5VSW50NjQoR2xvYmFsLmxhdGVzdF90aW1lc3RhbXApLAogICAgLy8gICAgIHJldmVyc2libGVfZmxhZ3M9YXJjNC5CeXRlKG9wLmJ0b2koc2VsZi5fZ2V0X3JldmVyc2libGVfZmxhZ3MoYXNhKSkpLAogICAgLy8gICAgIGlycmV2ZXJzaWJsZV9mbGFncz1hcmM0LkJ5dGUoCiAgICAvLyAgICAgICAgIG9wLmJ0b2koc2VsZi5fZ2V0X2lycmV2ZXJzaWJsZV9mbGFncyhhc2EpKQogICAgLy8gICAgICksCiAgICAvLyAgICAgaXNfc2hvcnQ9YXJjNC5Cb29sKHNlbGYuX2lzX3Nob3J0KGFzYSkpLAogICAgLy8gICAgIGhhc2g9YWJpLkhhc2guZnJvbV9ieXRlcyhtZXRhZGF0YV9oYXNoKSwKICAgIC8vICkKICAgIHVuY292ZXIgNQogICAgdW5jb3ZlciA1CiAgICBjb25jYXQKICAgIHVuY292ZXIgNAogICAgY29uY2F0CiAgICB1bmNvdmVyIDMKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZnJhbWVfZGlnIC0xCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzQ2LTM1OAogICAgLy8gYXJjNC5lbWl0KAogICAgLy8gICAgIGFiaS5BcmM4OU1ldGFkYXRhVXBkYXRlZCgKICAgIC8vICAgICAgICAgYXNzZXRfaWQ9YXJjNC5VSW50NjQoYXNhLmlkKSwKICAgIC8vICAgICAgICAgcm91bmQ9YXJjNC5VSW50NjQoR2xvYmFsLnJvdW5kKSwKICAgIC8vICAgICAgICAgdGltZXN0YW1wPWFyYzQuVUludDY0KEdsb2JhbC5sYXRlc3RfdGltZXN0YW1wKSwKICAgIC8vICAgICAgICAgcmV2ZXJzaWJsZV9mbGFncz1hcmM0LkJ5dGUob3AuYnRvaShzZWxmLl9nZXRfcmV2ZXJzaWJsZV9mbGFncyhhc2EpKSksCiAgICAvLyAgICAgICAgIGlycmV2ZXJzaWJsZV9mbGFncz1hcmM0LkJ5dGUoCiAgICAvLyAgICAgICAgICAgICBvcC5idG9pKHNlbGYuX2dldF9pcnJldmVyc2libGVfZmxhZ3MoYXNhKSkKICAgIC8vICAgICAgICAgKSwKICAgIC8vICAgICAgICAgaXNfc2hvcnQ9YXJjNC5Cb29sKHNlbGYuX2lzX3Nob3J0KGFzYSkpLAogICAgLy8gICAgICAgICBoYXNoPWFiaS5IYXNoLmZyb21fYnl0ZXMobWV0YWRhdGFfaGFzaCksCiAgICAvLyAgICAgKQogICAgLy8gKQogICAgcHVzaGJ5dGVzIDB4OGIwMzUwODQgLy8gbWV0aG9kICJBcmM4OU1ldGFkYXRhVXBkYXRlZCh1aW50NjQsdWludDY0LHVpbnQ2NCxieXRlLGJ5dGUsYm9vbCxieXRlWzMyXSkiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzLmFzYV9tZXRhZGF0YV9yZWdpc3RyeS5jb250cmFjdC5Bc2FNZXRhZGF0YVJlZ2lzdHJ5Ll91cGRhdGVfaGVhZGVyX2V4Y2x1ZGluZ19mbGFnc19hbmRfZW1pdChhc2E6IHVpbnQ2NCkgLT4gdm9pZDoKX3VwZGF0ZV9oZWFkZXJfZXhjbHVkaW5nX2ZsYWdzX2FuZF9lbWl0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNjAKICAgIC8vIGRlZiBfdXBkYXRlX2hlYWRlcl9leGNsdWRpbmdfZmxhZ3NfYW5kX2VtaXQoc2VsZiwgYXNhOiBBc3NldCkgLT4gTm9uZToKICAgIHByb3RvIDEgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weTozNjEtMzYyCiAgICAvLyAjIOKaoO+4jyBUaGUgc3Vicm91dGluZSBhc3N1bWVzIHRoYXQgTWV0YWRhdGEgRmxhZ3MgaGF2ZSBhbHJlYWR5IGJlZW4gc2V0CiAgICAvLyBzZWxmLl9pZGVudGlmeV9tZXRhZGF0YShhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2lkZW50aWZ5X21ldGFkYXRhCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjM2MwogICAgLy8gbWV0YWRhdGFfaGFzaCA9IHNlbGYuX2NvbXB1dGVfbWV0YWRhdGFfaGFzaChhc2EpCiAgICBmcmFtZV9kaWcgLTEKICAgIGNhbGxzdWIgX2NvbXB1dGVfbWV0YWRhdGFfaGFzaAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjcKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjctMTI5CiAgICAvLyBzZWxmLmFzc2V0X21ldGFkYXRhLmJveChhc2EpLnJlcGxhY2UoCiAgICAvLyAgICAgc3RhcnRfaW5kZXg9Y29uc3QuSURYX01FVEFEQVRBX0hBU0gsIHZhbHVlPW1ldGFkYXRhX2hhc2gKICAgIC8vICkKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxMjgKICAgIC8vIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICBwdXNoaW50IDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MTI3LTEyOQogICAgLy8gc2VsZi5hc3NldF9tZXRhZGF0YS5ib3goYXNhKS5yZXBsYWNlKAogICAgLy8gICAgIHN0YXJ0X2luZGV4PWNvbnN0LklEWF9NRVRBREFUQV9IQVNILCB2YWx1ZT1tZXRhZGF0YV9oYXNoCiAgICAvLyApCiAgICBkaWcgMwogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzY1CiAgICAvLyBzZWxmLl9zZXRfbGFzdF9tb2RpZmllZF9yb3VuZChhc2EsIEdsb2JhbC5yb3VuZCkKICAgIGdsb2JhbCBSb3VuZAogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV9tZXRhZGF0YV9yZWdpc3RyeS9jb250cmFjdC5weToxNDIKICAgIC8vIHZhbHVlPW9wLml0b2IobGFzdF9tb2RpZmllZF9yb3VuZCksCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0MQogICAgLy8gc3RhcnRfaW5kZXg9Y29uc3QuSURYX0xBU1RfTU9ESUZJRURfUk9VTkQsCiAgICBwdXNoaW50IDM1CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX21ldGFkYXRhX3JlZ2lzdHJ5L2NvbnRyYWN0LnB5OjE0MC0xNDMKICAgIC8vIHNlbGYuYXNzZXRfbWV0YWRhdGEuYm94KGFzYSkucmVwbGFjZSgKICAgIC8vICAgICBzdGFydF9pbmRleD1jb25zdC5JRFhfTEFTVF9NT0RJRklFRF9ST1VORCwKICAgIC8vICAgICB2YWx1ZT1vcC5pdG9iKGxhc3RfbW9kaWZpZWRfcm91bmQpLAogICAgLy8gKQogICAgc3dhcAogICAgYm94X3JlcGxhY2UKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9hc2FfbWV0YWRhdGFfcmVnaXN0cnkvY29udHJhY3QucHk6MzY2CiAgICAvLyBzZWxmLl9lbWl0X3VwZGF0ZWRfZXZlbnQoYXNhLCBtZXRhZGF0YV9oYXNoKQogICAgZnJhbWVfZGlnIC0xCiAgICBzd2FwCiAgICBjYWxsc3ViIF9lbWl0X3VwZGF0ZWRfZXZlbnQKICAgIHJldHN1YgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy5hc2FfdmFsaWRhdGlvbi5Bc2FWYWxpZGF0aW9uLl9pc19hc2FfbWFuYWdlcihhc2E6IHVpbnQ2NCkgLT4gdWludDY0OgpfaXNfYXNhX21hbmFnZXI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvYXNhX3ZhbGlkYXRpb24ucHk6MTgKICAgIC8vIGRlZiBfaXNfYXNhX21hbmFnZXIoc2VsZiwgYXNhOiBBc3NldCkgLT4gYm9vbDoKICAgIHByb3RvIDEgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2FzYV92YWxpZGF0aW9uLnB5OjE5CiAgICAvLyByZXR1cm4gVHhuLnNlbmRlciA9PSBhc2EubWFuYWdlcgogICAgdHhuIFNlbmRlcgogICAgZnJhbWVfZGlnIC0xCiAgICBhc3NldF9wYXJhbXNfZ2V0IEFzc2V0TWFuYWdlcgogICAgYXNzZXJ0IC8vIGFzc2V0IGV4aXN0cwogICAgPT0KICAgIHJldHN1Ygo=",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDEyCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMQogICAgcmV0dXJuCg=="
    },
    "byteCode": {
        "approval": "DCAHAQAIAu8H7geq7gEmCAQVH3x1AAEABDesdV0DBoEBBRUffHUBAAAxG0EBATEZFEQxGESCBgR4QHgxBLgup+8EEkX6+wQEXy5uBN3/y5IEFbJ1siuCFgS1Eh2KBEn7rpEEC1OM4wSaqa8lBAifrqEEjl4QJAQkTEfEBC1Z9uAE7oW0cwS3WTG8BI8l73IEEcOEdgSwq/ZbBM6dvtcEylL7HgQiY5G5BHoT1TIEU8IiAwTTdyrTBH2ir0AEAFbZwQS5LiZ6NhoAjh0BSwMdA6YEIASBBMsFTAV4Bc8GFQADBi0GQQa/BucHGAc/B4gHxAg0CH4IlAjLCOQJHAlICYAAAQnSACJDgCIVH3x1ADN3KhAAA+8H7gfyB/AAAAAAAAAJxAAAAAAAAAGQsCJDMRkUMRgUEEQxACcGEkQiQ4oCAIv+gQoIiwAyDA1BACqxgQayEIEFshknBLIeJwSyH4v/jQIACwAEs0L/2zIAsgFC//UjsgFC/++JigIBi/8Vi/4VSg5ESU8CCUlLAg9LAkxNi/5MTwJSi/8SiYoCASNJKTIRgCDAYcTY/B293tLXYEvkVo4/bQQZh6w3veS2ILWrOSSK3xJBAIEpgAthbGdvcmFuZDovL0xQgARhcHAvUIwBKYwAi/6MAosCQQBAiwJJgQoYSYEKD0sBgQpPAk1MIghJgQoPgQpMTUlLAgxLAkxNgAowMTIzNDU2Nzg5TgJSiwBQjACBCgqMAkL/u4sASRWAATBOAk2LAUxQgAU/Ym94PVCL/1CMAIknB0L/eyNHAylJNhoBSRUkEkQXSTYaAklOAhUiEkQ2GgNJTgIVIhJENhoESRUlEkQ2GgVJI1klCEsBFRJEMRYiCUlOBEk4ECISRE8CF0lOBEsDTIgKZk8CFklOA0m9RQEUREw4BzIKEkQyCnMBTE4DRCO5SFcCAEkVQQAHgbwFI4j+cUsHSUsFSwOICFJJiAk8SwcXFlcHAUsESU4CIk8Cu0sHFxZXBwElTLtxBkSAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0EA+UsCJSK6I1NESwdxBkxFDERLAkmBA0sNuzIGFksBgSNPArsjFksBgStPArslIrqBB1NBAB5LB0lxBExJTgNFEERxBUxFDkSABGFyYzMSQQBtIkRLAiUiuoEGU0EAIzIIKYj+GklFD0sIcQVMSU4CRQ9EFUlFDEwVSUULDEEAISNESwdLC4gJvTIKcwFESwIJSwU4CEsBD0QWJwVMULAiQ0sISUsLSU4DDkRJSwIPTE4CTUsMI08CUksOEkL/wksMFYEFD0EAE0sMgAVAYXJjM4j9iUEABCJC/3hLCxWBBQ9BABNLC4AFI2FyYzOI/W1BAAQiQv9cI0L/WEsHiAiPRQtC/w02GgFJFSQSRBdJNhoCSRUlEkQ2GgNJI1klCEsBFRJETBdLAksBiAjUSwKIBrhLAQ9EMgpzAURPAlcCAEsDSwNPAogGxEsCiAlLTwKIBpdPAhJEMgpzAUQJSUAAFCMWSZMkDkRXBwFLARZQKExQsCJDgf8BsUsCcQdESwKyCLIHIrIQI7IBs0L/1DYaAUkVJBJEFzYaAkkVJRJENhoDSSNZJQhLARUSRDEWIglJOBAiEkRPAhdLA0sBiAhBSwOIBiVLAQxESwE4BzIKEkQyCnMBRE8DVwIASwRLA08CiAYpSwOICLBPA4gF/E8CEkQyCnMBREwJTDgISwEPRBYnBUxQsCJDNhoBSRUkEkQXSTYaAkkVJRJENhoDSSNZJQhLARUSREsCiAW+SwNMiAfPTBdMVwIASU4DSRVLAksBCEsEiAWjDkRPAxZJTgSBM08ECElOBE8CuhNBAAlKSwS7SwOICDIiQzYaAUkVJBJESRc2GgJJFSQSREsBiAetF0kyCBNETBZMFksBgStPArsyBhYyBxZPAoErJLoXFk8DTFBPAlBMUIAEyHAjv0xQsCJDKTYaAUcCFSQSRBdHAhZJTgK9RQFEcQtFAUEADkklIrojUxRESwGIB+FEMgpzAURLAbxIMgpzAUQJRQSxSwFxC0UBQQA3SwFxB0RLBEmyCEyyByKyECOyAbMyBhYyBxZLBU8CUExQgAS8PyDRTFCwFoAFFR98df9MULAiQzEAQv/JNhoBSRUkEkQXNhoCSSNZJQhMFRJEMgQlD0RJcQtFAURJFr1FAUSIB2BEIkM2GgFJFSQSRBdJNhoCSRUiEkQ2GgNJFSISREsCiAauTBdJgQcORE8CFklOAyJJuoEHTwIJSU4DU0wjU0lPAhNBABNLAkkiSbpLA0sDVCJMu0sDiAbkIkM2GgFJFSQSRBdJNhoCSRUiEkRMiAZgF0klD0EAJUmBBg5BAB4iREsBFiUiuoEHSwIJU0AAC0sBSUsCiAPhiAaiIkMjQv/fNhoBSRUkEkQXSYgGI0mBB4gDxYgGhiJDMggpiPpkSRUWVwYCTFAoTFCwIkMpSTYaAUkVJBJEF0k2GgJJFSUSRBdJTgIhBg5EFr1FAUEATEsBiAOZSUUEI0UFSwESQQAeI0mBkANPAgtLBQhMFkmTJA5EVwcBTBZQKExQsCJDSUsDDUEACiJLAUsECUxC/9OB/wFLA0sCCUxC/8eBxBNFBCKBO0sCCExC/7g2GgFJFSQSRBdJcQtFASojTwJUTBa9RQEqI08CVCNTIkxUKExQsCJDNhoBSRUkEkQXRwKIBT4WJSK6I1NAAApJcQdEMgMSQQAMIiojTwJUKExQsCJDI0L/8TYaAUkVJBJEF0mIBQ4WSSMiuiNTKiNPAlRMgSMkuhcWUChMULAiQzYaAUkVJBJEF0mIBOcWSSMiuksBIkm6SwIlIrpLA4MCAyC6SwSBIyS6FxZPBYErJLoXFk8FTwVQTwRQTwNQTwJQTFAoTFCwIkM2GgFJFSQSRBdJiASeSYgCaRZJk4EQDkRXBgJMiAJbIQUIIQQKFkmTJA5EVwcBTIACA+9QTFAoTFCwIkMpNhoBSRUkEkQXSTYaAklOAhUiEkRJiARWiAIiIQUIIQQKSU4CQQA+F0lLAklOAgxEIglLAQ1FBEsCTIgCwiojSwVUSwMWgSMkuhcWTwJJFRZXBgJMUE4CUIACAAtQTFAoTFCwIkMXFEQjRQMpQv/ONhoBSRUkEkQXNhoCSRUlEkQ2GgNJFSUSREsCiAPhF0khBA5ETBdJSwIISwOIAZ8ORE8CFoEzTwIITwK6SRUWVwYCTFAoTFCwIkM2GgFJFSQSRBdJiAOoiAKhKExQsCJDNhoBSRUkEkQXNhoCSRUiEkRLAYgDiUsBiAFTIQUIIQQKSURMF0lPAgxESogCAogCrShMULAiQzYaAUkVJBJEF0mIA1sWgwIDILooTFCwIkM2GgFJFSQSRBc2GgJJI1klCEsBFRJESwGIAzRMiAH5TFcCAF8ASRVJIQQORBZXBgJMUChMULAiQzYaAUkVJBJEFzYaAkkjWSUISwEVEkRLAYgC/EyIAcFMVwIAXwEWKExQsCJDNhoBSRUkEkQXNhoCSSNZJQhLARUSREsBiALQTIgBlUxXAgBfAkkVSSEEDkQWVwYCTFAoTFCwIkM2GgFJFSQSRBc2GgJJI1klCEsBFRJENhoDSRUiEkRLAogCkBdJIg5ETwKIAU9PAlcCAF8ATEAAFV4ASRVJIQQORBZXBgJMUChMULAiQ14BQv/oMgpzAEQyCnMBRAmxMgmyB7IIIrIQI7IBsyJDigIAi/4WSSUiuoEHi/8JIlQlTLuJigEBi/8WvUSBMwmJigIAi/4WSb1Ei/8VSwEISwJM04v/u4mKAwCL/RZJgTPTi/2L/4j/2Iv9iP/Hi/4ORDIEMRYiCIsCiwEMQQBtiwI4EIEGEkEAX4sCOBgyCBJBAFWLAjgZQABOIkEARosCI8IaKxJBADyLAiLCGosAEkEAMSJBACSLAiXCGlcCAIv9iP9wSwEVCIv+DkSL/UyI/26L/Yj/XYv+DkSLAiIIjAJC/5MjQv/MI0L/r4v9iP9Di/4SRImKAgGL/oj/NkmL/yEEC0lPAg9BAAQpjACJiwCLAUlOAgkhBEsBDCEETE2L/haBM08DCE8CuowAiYoBAYv/FkkjIrojU0SL/4j+9IEzTLqJigEAi/+I/ueL/xZJIyK6TwKBgCAOI0xUI0y7iYoBAYFuI4j1Aov/FkkjIrpLASJJuksCJSK6i/+I/rQWVwYCgA5hcmMwMDg5L2hlYWRlck8FUE8EUE8DUE8CUExQA4mKAwGBlgEjiPS+i/0Wi/4WVwcBi/8VFlcGAoAMYXJjMDA4OS9wYWdlTwNQTwJQTFCL/1ADiYoBASmL/4j/f4v/iP5NIQUIIQQKSSlMQQArI4wAiwCLAgxBACCL/4sASU4CiP7ui/9LAk8CiP+TiwNMUIwDIgiMAEL/2IAKYXJjMDA4OS9hbYsBUIsDUAOMAImKAgCL/nELRQFEi/6IAMREi/8hBg5EiYoCAIv+i/+I/9+L/hZJvUUBRCUiuiNTFESJigEAi/9xC0UBRIv/Fr1FAUSJigEAi/+I/+aL/4gAg0SL/xYlIrojUxREiYoCAIv+FjIGFjIHFksCIkm6FxZJkyQORFcHAUsDJSK6FxZJkyQORFcHAUsEIyK6I1MqI08CVE8FTwVQTwRQTwNQTwJQTFCL/1CABIsDUIRMULCJigEAi/+I/lqL/4j+6Yv/FkmBA0sDuzIGFoEjTLuL/0yI/4qJigEBMQCL/3EHRBKJ",
        "clear": "DIEBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 6,
            "patch": 0
        }
    },
    "events": [
        {
            "name": "Arc89MetadataUpdated",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id"
                },
                {
                    "type": "uint64",
                    "name": "round"
                },
                {
                    "type": "uint64",
                    "name": "timestamp"
                },
                {
                    "type": "byte",
                    "name": "reversible_flags"
                },
                {
                    "type": "byte",
                    "name": "irreversible_flags"
                },
                {
                    "type": "bool",
                    "name": "is_short"
                },
                {
                    "type": "byte[32]",
                    "name": "hash"
                }
            ],
            "desc": "Event emitted when Asset Metadata is created or updated"
        },
        {
            "name": "Arc89MetadataMigrated",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id"
                },
                {
                    "type": "uint64",
                    "name": "new_registry_id"
                },
                {
                    "type": "uint64",
                    "name": "round"
                },
                {
                    "type": "uint64",
                    "name": "timestamp"
                }
            ],
            "desc": "Event emitted when Asset Metadata has been migrated to a new ASA Metadata Registry version"
        },
        {
            "name": "Arc89MetadataDeleted",
            "args": [
                {
                    "type": "uint64",
                    "name": "asset_id"
                },
                {
                    "type": "uint64",
                    "name": "round"
                },
                {
                    "type": "uint64",
                    "name": "timestamp"
                }
            ],
            "desc": "Event emitted when Asset Metadata is deleted"
        }
    ],
    "templateVariables": {
        "TRUSTED_DEPLOYER": {
            "type": "address"
        },
        "ARC90_NETAUTH": {
            "type": "AVMBytes"
        }
    }
}